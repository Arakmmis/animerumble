"use strict";

var socket = io("/game");
var chat = io("/chat");
"use strict";

Vue.use(VTooltip);
var app = new Vue({
  el: "#app",
  data: {
    mode: "game",
    chat: [],
    lobbychat: [],
    chatSend: "",
    chatChannel: "ingame",
    chatNotif: {
      lobby: false,
      ingame: false
    },
    source: {
      energy: {
        ally: {}
      },
      meta: {}
    },
    packet: [],
    state: {
      skill: {
        offense: null,
        skill: null,
        target: null,
        aim: null
      },
      timer: {
        turn: 100
      },
      onSkill: false,
      button: {},
      description: null,
      winner: {
        state: false,
        name: ""
      },
      energy: {
        modal: false,
        random: 0
      },
      exchange: {
        modal: false,
        used: false,
        energy: {},
        val: ""
      }
    },
    showModal: true
  },
  methods: {
    onSurrender: function onSurrender() {
      console.log("surrender");
      socket.emit("surrender", {
        room: this.source.room
      });
    },
    onChat: function onChat() {
      var channel = this.chatChannel === "ingame" ? "ingame" : "lobby";
      var packet = {
        channel: channel,
        room: this.source.room,
        message: this.chatSend
      };
      chat.emit("chat", packet);
      this.chatSend = "";
    },
    onExchange: function onExchange(e) {
      //Sound
      this.$refs.soundClick.play();
      var state = this.state;
      this.source.energy.ally = e.energy;
      this.source.energy.ally.r = this.source.energy.ally.r - this.state.energy.random;
      state.exchange.energy = e.cost;
      state.exchange.modal = false;
      state.exchange.used = true;
      state.exchange.val = e.exchange;
      state.button.ally.forEach(function (x, xi) {
        if (x.onSkill === false) {
          console.log(x.name);
          x.skill.forEach(function (s, si) {
            var energy = energyManagement({
              heroIndex: xi,
              skill: si
            }, "check");
            s.button = s.disabled || energy ? true : false;
            console.log(energy, s.disabled, s.button);
          });
        }
      }); //Clean Skill Buffer

      if (state.skill.offense !== null && state.skill.target === null) {
        //Switch Choice
        //Button Management
        buttonManagement(state.skill, "onCancel"); //Clean Buffer

        state.skill = {
          offense: null,
          skill: null,
          skillId: null,
          target: null,
          aim: null,
          heroIndex: null
        };
      }
    },
    onDone: function onDone(e) {
      console.log(e); //Sound

      this.$refs.soundEndTurn.play(); //Define

      var state = this.state;
      var packet = e.packet; //Organize

      state.energy.modal = false;
      packet = packet.filter(function (x) {
        return x.skill !== null && x.offense !== null && x.target !== null && x.aim !== null && x.heroIndex !== null;
      });
      packet.unshift(e.energy);

      if (state.exchange.used === true) {
        packet.unshift({
          msg: "exchange",
          val: state.exchange.val
        }, state.exchange.energy);
        state.exchange.used = false;
      } //Send


      socket.emit("sequence", {
        packet: packet,
        room: this.source.room
      }); //Reset

      state.energy.random = 0;
      this.packet = [];
      state.skill = {
        offense: null,
        skill: null,
        skillId: null,
        target: null,
        aim: null,
        heroIndex: null
      };
    },
    onSkill: function onSkill(payload) {
      //Define and Switch State
      var state = this.state;
      var marking = this.source.ally[payload.heroIndex].skill[payload.skillIndex].marking;
      var temporary = {
        offense: payload.name,
        skill: payload.skillIndex,
        skillId: payload.skillId,
        target: null,
        aim: payload.target,
        heroIndex: payload.heroIndex,
        marking: marking
      }; //Is Skill Chosen?

      var isOnSkill = state.button.ally[temporary.heroIndex].onSkill;

      if (isOnSkill === false && state.skill.offense === null && state.skill.target === null) {
        //First Choice
        //Buffer Skill
        state.skill = temporary; //Button Management

        buttonManagement(temporary, "onSkill");
      } else if (isOnSkill === false && state.skill.offense !== null && state.skill.target === null) {
        //Switch Choice
        //Button Management
        buttonManagement(state.skill, "onCancel");
        setTimeout(function () {
          buttonManagement(temporary, "onSkill");
        }, 100); //Buffer Skill

        state.skill = temporary;
      } else if (isOnSkill === true) {
        //Cancel Choice
        energyManagement(temporary, "add"); //Button Management

        buttonManagement(state.skill, "onCancel");
        buttonManagement(temporary, "onSelf");
        this.packet = this.packet.filter(function (x) {
          return x.offense !== temporary.offense;
        }); //Clean Skill Buffer

        state.skill = {
          offense: null,
          skill: null,
          skillId: null,
          target: null,
          aim: null,
          heroIndex: null
        }; //State Management

        state.button.ally[temporary.heroIndex].onSkill = false;
      }
    },
    onTarget: function onTarget(payload) {
      //Sound
      this.$refs.soundClick.play(); //Define State

      var state = this.state; //Buffer Skill

      if (state.skill.aim === "allenemy" || state.skill.aim === "randomenemy") {
        console.log(state.button.enemy);
        state.skill.target = state.button.enemy.filter(function (x) {
          return x.button !== true && x.name !== payload.name;
        }).map(function (x) {
          return x.name;
        });
        state.skill.target.unshift(payload.name);
      } else if (state.skill.aim === "allally") {
        state.skill.target = state.button.ally.map(function (x) {
          return x.name;
        });
      } else if (state.skill.aim === "allenemyallally") {
        state.skill.target = state.button.enemy.filter(function (x) {
          return x.button !== true && x.name !== payload.name;
        }).map(function (x) {
          return x.name;
        });
        state.skill.target.unshift(payload.name);
        var ally = state.button.ally.map(function (x) {
          return x.name;
        });
        state.skill.target = state.skill.target.concat(ally);
      } else if (state.skill.aim === "otherally") {
        state.skill.target = state.button.ally.filter(function (x) {
          return x.name !== state.skill.offense;
        }).map(function (x) {
          return x.name;
        });
      } else {
        state.skill.target = [payload.name];
      } //Register Skill


      this.packet.push(this.state.skill); //Energy Management

      energyManagement(state.skill, "substract"); //Button Management
      // buttonManagement(state.skill, "onSkill");

      buttonManagement(state.skill, "onTarget"); //State Management

      state.button.ally[state.skill.heroIndex].onSkill = true; //Clean Skill Buffer

      state.skill = {
        offense: null,
        skill: null,
        skillId: null,
        target: null,
        aim: null,
        heroIndex: null
      };
    },
    onAttack: function onAttack(payload) {
      //Sound
      this.$refs.soundClick.play();
      this.state.energy.modal = true;
    },
    onDescription: function onDescription(payload) {
      var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;

      if (option === undefined) {
        option = "ally";
      } //Sound


      this.$refs.soundClick.play(); //Define

      var config = {
        nameId: payload.nameId,
        skill: payload.skillIndex,
        heroIndex: payload.heroIndex,
        option: option
      };
      var skill = this.source[config.option][config.heroIndex].skill[config.skill]; //Map Description

      var map = {
        name: skill.name,
        energy: {
          a: skill.energy.a,
          i: skill.energy.i,
          s: skill.energy.s,
          w: skill.energy.w,
          r: skill.energy.r,
          total: skill.energy.a + skill.energy.i + skill.energy.s + skill.energy.w + skill.energy.r
        },
        description: skill.description,
        classes: skill.classes,
        cooldown: skill.cooldown
      }; //Buffer Description

      var state = this.state;
      state.description = {
        nameId: config.nameId,
        skill: config.skill,
        heroIndex: config.heroIndex,
        map: map
      };
    },
    onStatus: function onStatus(payload) {
      console.log(payload);

      var status = _.concat(payload.onAttack, payload.onReceive, payload.onState, payload.onSelf);

      console.log(status);

      var group = _.groupBy(status, "nameId");

      console.log(group);

      var subgroup = _.toArray(group).map(function (x) {
        return _.toArray(_.groupBy(x, "skillIndex"));
      });

      var prep = subgroup.map(function (x) {
        return x[0];
      });
      var final = prep.map(function (x) {
        console.log(x[0]);
        var info = x[0];
        return {
          nameId: info.nameId,
          status: info.skillIndex,
          val: x
        };
      });
      console.log(prep);
      console.log(final);
      return final; // let subgroup = group.map(x => _.groupBy(x, "skillIndex"));
    },
    onGetImage: function onGetImage(payload, option) {
      if (option === "packet") {
        var index = this.source.ally.findIndex(function (x) {
          return x.name === payload.offense;
        });
        var nameId = this.source.ally[index].nameId;
        return "/assets/character/" + nameId.slice(0, -1) + "/skill" + (payload.skill + 1) + "/avatar.jpg";
      } else if (option === "char") {
        return "/assets/character/" + payload.nameId.slice(0, -1) + "/avatar.jpg";
      } else if (option === "skill") {
        return "/assets/character/" + payload.nameId.slice(0, -1) + "/skill" + (payload.skill + 1) + "/avatar.jpg";
      } else if (option === "status") {
        return "/assets/character/" + payload.nameId.slice(0, -1) + "/skill" + payload.skill + "/avatar.jpg";
      } else if (option === "targeting") {
        var _index = this.packet.findIndex(function (x) {
          return x.offense === payload.name;
        });

        var skillId = this.packet[_index].skillId;
        return "/assets/character/" + payload.nameId.slice(0, -1) + "/skill" + (skillId + 1) + "/avatar.jpg";
      }
    },
    targetingCue: function targetingCue(payload, nameId) {
      var name = payload;
      var index = this.packet.findIndex(function (x) {
        return x.offense === payload;
      });
      var packet = this.packet[index];
      var result = {
        name: name,
        skillIndex: packet.skill,
        skillId: packet.skillId,
        heroIndex: packet.heroIndex,
        target: packet.target
      };

      if (nameId) {
        result.nameId = nameId;
      }

      console.log(result);
      return result;
    }
  }
});
"use strict";

function energyManagement(temporary, option) {
  var energy = temporary.energy ? temporary.energy : app.source.energy.ally;
  var skill = temporary.skillBind ? temporary.skillBind : app.source.ally[temporary.heroIndex].skill[temporary.skill].energy;
  var total = {
    energy: energy.a + energy.i + energy.s + energy.w,
    skill: skill.a + skill.i + skill.s + skill.w
  };

  if (option === "substract") {
    if (skill.a > 0) {
      energy.a -= skill.a;
      energy.r -= skill.a;
    }

    if (skill.i > 0) {
      energy.i -= skill.i;
      energy.r -= skill.i;
    }

    if (skill.s > 0) {
      energy.s -= skill.s;
      energy.r -= skill.s;
    }

    if (skill.w > 0) {
      energy.w -= skill.w;
      energy.r -= skill.w;
    }

    if (skill.r > 0) {
      energy.r -= skill.r;
      app.state.energy.random += skill.r;
    }
  } else if (option === "add") {
    if (skill.a > 0) {
      energy.a += skill.a;
      energy.r += skill.a;
    }

    if (skill.i > 0) {
      energy.i += skill.i;
      energy.r += skill.i;
    }

    if (skill.s > 0) {
      energy.s += skill.s;
      energy.r += skill.s;
    }

    if (skill.w > 0) {
      energy.w += skill.w;
      energy.r += skill.w;
    }

    if (skill.r > 0) {
      energy.r += skill.r;
      app.state.energy.random -= skill.r;
    }
  } else if (option === "check") {
    var active = true;

    if (total.energy >= total.skill) {
      var count = [true, true, true, true, true];

      if (skill.a >= 0) {
        count[0] = energy.a >= skill.a ? false : true;
      }

      if (skill.i >= 0) {
        count[1] = energy.i >= skill.i ? false : true;
      }

      if (skill.s >= 0) {
        count[2] = energy.s >= skill.s ? false : true;
      }

      if (skill.w >= 0) {
        count[3] = energy.w >= skill.w ? false : true;
      }

      if (skill.r >= 0) {
        count[4] = energy.r >= total.skill + skill.r ? false : true;
      }

      if (count.filter(function (x) {
        return x === false;
      }).length === 5) {
        active = false;
      } else {
        active = true;
      }
    }

    return active;
  }
}

function buttonManagement(payload, option) {
  //Target Button
  if (option !== "onSelf") {
    if (payload.aim === "enemy") {
      app.state.button.enemy.forEach(function (x) {
        //Define
        var skill = app.source.ally[payload.heroIndex].skill[payload.skill];
        var enemyStatus = app.source.enemy[x.index].status; //Invulnerability

        var state = enemyStatus.onState;
        var invulnerable = invulnerableManagement(state, skill); //Disable

        x.button = x.disabled || invulnerable ? true : !x.button; //Ignore

        var ignore = ignoreManagement(state, skill);
        console.log(ignore); //Prevent Invulnerability

        if (option === "onSkill" && enemyStatus.onState.some(function (x) {
          return x.type === "disableDrIv";
        }) && ignore === false) {
          x.button = false;
        } //Marking


        if (payload.marking === true) {
          var skillName = skill.name;
          var marking = enemyStatus.onReceive.some(function (x) {
            return x.name === skillName;
          }) || enemyStatus.onState.some(function (x) {
            return x.name === skillName;
          });

          if (marking === true) {
            x.button = true;
          }
        }
      });
    } else if (payload.aim === "enemylock") {
      app.state.button.enemy.forEach(function (x) {
        //Define
        var skill = app.source.ally[payload.heroIndex].skill[payload.skill];
        var enemyStatus = app.source.enemy[x.index].status;
        var lock = enemyStatus.onState.some(function (x) {
          return x.type === "state" && x.info === skill.name;
        });

        if (lock === true) {
          //Invulnerability
          var state = enemyStatus.onState;
          var invulnerable = invulnerableManagement(state, skill); //Disable

          x.button = x.disabled || invulnerable ? true : !x.button; //Ignore

          var ignore = ignoreManagement(state, skill);
          console.log(invulnerable); //Prevent Invulnerability

          if (option === "onSkill" && enemyStatus.onState.some(function (x) {
            return x.type === "disableDrIv";
          }) && ignore === false) {
            x.button = false;
          } //Marking


          if (payload.marking === true) {
            var skillName = skill.name;
            var marking = enemyStatus.onReceive.some(function (x) {
              return x.name === skillName;
            }) || enemyStatus.onState.some(function (x) {
              return x.name === skillName;
            });

            if (marking === true) {
              x.button = true;
            }
          }
        }
      });
    } else if (payload.aim === "allenemy" || payload.aim === "randomenemy" || payload.aim === "allenemyallally") {
      app.state.button.enemy.forEach(function (x) {
        //Define
        var skill = app.source.ally[payload.heroIndex].skill[payload.skill];
        var enemyStatus = app.source.enemy[x.index].status; //Invulnerability

        var state = enemyStatus.onState;
        var invulnerable = invulnerableManagement(state, skill); //Disable

        x.button = x.disabled || invulnerable ? true : !x.button; //Prevent Invulnerability

        if (option === "onSkill" && enemyStatus.onState.some(function (x) {
          return x.type === "disableDrIv";
        })) {
          x.button = false;
        }
      });
    } else if (payload.aim === "ally" || payload.aim === "allally") {
      app.state.button.ally.forEach(function (x) {
        return x.button = x.disabled ? true : !x.button;
      });
    } else if (payload.aim === "otherally") {
      app.state.button.ally.forEach(function (x) {
        var name = app.state.button.ally[payload.heroIndex].name;

        if (x.name !== name) {
          x.button = x.disabled ? true : !x.button;
        }
      });
    } else if (payload.aim === "self") {
      var ally = app.state.button.ally[payload.heroIndex];
      ally.button = ally.disabled ? true : !ally.button;
    }
  } //Skill Button


  if (option === "onTarget") {
    console.log("onSkill");
    app.state.button.ally.forEach(function (x) {
      if (x.onSkill === false) {
        x.skill.forEach(function (s) {
          s.button = true;

          if (x.name === payload.offense && s.name === app.source.ally[payload.heroIndex].skill[payload.skill].name) {
            s.button = false;
          }
        });
      }
    });
  }

  if (option === "onCancel") {
    console.log("onCancel");
    app.state.button.ally.forEach(function (x) {
      if (x.onSkill === false || x.name === payload.offense) {
        x.skill.forEach(function (s) {
          s.button = s.disabled ? true : false;

          if (x.name === payload.offense && s.name === app.source.ally[payload.heroIndex].skill[payload.skill].name) {
            s.button = false;
          }
        });
      }
    });
  } else if (option === "onTarget") {
    console.log("onTarget");
    app.state.button.ally.forEach(function (x) {
      var index = app.packet.findIndex(function (s) {
        return s.offense === x.name;
      });

      if (index < 0) {
        x.skill.forEach(function (s) {
          s.button = s.disabled ? true : false;
        });
      }
    });
  } else if (option === "onSelf") {
    console.log("onSelf");
    app.state.button.ally[payload.heroIndex].skill.forEach(function (s) {
      s.button = s.disabled ? true : false;
    });
  } //Energy Management


  if (option !== "onSkill") {
    app.state.button.ally.forEach(function (x, xi) {
      if (x.onSkill === false && x.name !== payload.offense) {
        console.log(x.name);
        console.log(option);
        x.skill.forEach(function (s, si) {
          var energy = energyManagement({
            heroIndex: xi,
            skill: si
          }, "check");
          s.button = s.disabled || energy ? true : false;

          if (x.name === payload.offense && s.name === app.source.ally[payload.heroIndex].skill[payload.skill].name) {
            s.button = false;
          }
        });
      }

      if ((option === "onSelf" || option === "onCancel") && x.name === payload.offense) {
        x.skill.forEach(function (s, si) {
          var energy = energyManagement({
            heroIndex: xi,
            skill: si
          }, "check");
          s.button = s.disabled || energy ? true : false;
        });
      }
    });
  }
}

function stunManagement(onState, skill) {
  var stun = onState.map(function (x) {
    if (x.type === "stun") {
      var ignore = ignoreManagement(onState, x);

      var intersect = _.intersection(x.classes, skill.classes);

      var evaluate;

      if (x.info === "inclusive") {
        evaluate = intersect.length > 0 ? true : false;
      } else if (x.info === "declusive") {
        evaluate = intersect.length === 0 ? true : false;
      }

      if (evaluate && !ignore) {
        return true;
      } else {
        return false;
      }
    }
  });

  if (stun.filter(function (x) {
    return x === true;
  }).length > 0) {
    return true;
  } else {
    return false;
  }
}

function invulnerableManagement(onState, skill) {
  var invulnerable = onState.map(function (x) {
    if (x.type === "invulnerable") {
      var ignoreInvul = skill.ignoreInvul;

      var intersect = _.intersection(x.classes, skill.classes);

      var evaluate;

      if (x.info === "inclusive") {
        evaluate = intersect.length > 0 ? true : false;
      } else if (x.info === "declusive") {
        evaluate = intersect.length === 0 ? true : false;
      }

      if (evaluate && !ignoreInvul) {
        return true;
      } else {
        return false;
      }
    }
  });

  if (invulnerable.filter(function (x) {
    return x === true;
  }).length > 0) {
    return true;
  } else {
    return false;
  }
}

function ignoreManagement(onState, skill) {
  var ignore = onState.map(function (x) {
    if (x.type === "ignore") {
      var intersect = _.intersection(x.classes, skill.classes);

      var evaluate;

      if (x.info === "inclusive") {
        evaluate = intersect.length > 0 ? true : false;
      } else if (x.info === "declusive") {
        evaluate = intersect.length === 0 ? true : false;
      }

      if (evaluate) {
        return true;
      } else {
        return false;
      }
    }
  });

  if (ignore.filter(function (x) {
    return x === true;
  }).length > 0) {
    return true;
  } else {
    return false;
  }
}
"use strict";

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function vueBind(payload) {
  var username = getCookie("username");
  console.log(payload);
  var ally = payload.team.teamEven === username ? "teamEven" : "teamOdd";
  var enemy = payload.team.teamEven === username ? "teamOdd" : "teamEven";
  var turn = ally === "teamEven" ? 0 : 1;
  var myTurn = payload.turn % 2 === turn ? true : false;

  if (payload.team.teamEven !== username && payload.team.teamOdd !== username) {
    console.log("spectate");
    app.mode = "spectate";
    myTurn = false; // return;
  }

  if (myTurn === true) {
    app.$refs.soundStartTurn.play();
  } // if (payload.winner.state === true && payload.winner.name === username) {
  // } else if (
  //   payload.winner.state === true &&
  //   payload.winner.name !== username
  // ) {
  //   app.$refs.soundLose.play();
  // }


  var store = {
    energy: {
      ally: payload.energy[ally],
      enemy: payload.energy[enemy]
    },
    ally: payload[ally].map(function (x) {
      return _objectSpread({}, x, {
        indicator: statusView(x.name, x.status)
      });
    }),
    enemy: payload[enemy].map(function (x) {
      return _objectSpread({}, x, {
        indicator: statusView(x.name, x.status)
      });
    }),
    turn: payload.turn,
    myTurn: myTurn,
    room: payload.room,
    meta: {
      myName: payload.team[ally],
      theirName: payload.team[enemy]
    },
    timestamp: payload.timestamp
  };
  store.energy.ally.r = store.energy.ally.a + store.energy.ally.i + store.energy.ally.s + store.energy.ally.w;
  console.log(store);
  var button = {
    ally: store.ally.map(function (x) {
      // let disabled = x.status.onState.findIndex(x => x.type === 'stun') > -1 || x.hp <= 0 ? true : false
      var disabled = x.hp <= 0 ? true : false; // let stun = x.status.onState.some(x => x.type === "stun") ? true : false;

      return {
        name: x.name,
        button: true,
        onSkill: false,
        disabled: disabled,
        skill: x.skill.map(function (s) {
          // console.log(s.type);
          var energy = energyManagement({
            energy: store.energy.ally,
            skillBind: s.energy
          }, "check");
          var stun = stunManagement(x.status.onState, s); // let disableDrVr =
          //   s.type === "invulnerable" &&
          //   x.status.onState.some(x => x.type === "disableDrIv")
          //     ? true
          //     : false;

          var disabled = stun || s.required || s.state === "cooldown" || myTurn === false || x.hp <= 0 ? true : false;
          return {
            name: s.name,
            disabled: disabled,
            button: disabled || energy ? true : false
          };
        })
      };
    }),
    enemy: store.enemy.map(function (x, i) {
      // let disabled =
      //   x.status.onState.some(x => x.type === "invulnerable") || x.hp <= 0
      //     ? true
      //     : false;
      var disabled = x.hp <= 0 ? true : false;
      return {
        name: x.name,
        index: i,
        disabled: disabled,
        button: true
      };
    })
  };
  app.source = store;
  app.state.button = button;
  app.state.winner = payload.winner; //Time

  var timeDiff = (Date.now() - payload.timestamp) / 1000;
  var timeCalc = 45 - timeDiff;
  var remaining = 100 * (timeCalc / 45);
  console.log(payload.timestamp, timeDiff, timeCalc, remaining);

  if (remaining < 0) {
    remaining = 0;
  }

  app.state.timer.turn = remaining;
}

function statusView(name, payload) {
  // console.log(name, payload);
  var status = _.concat(payload.onAttack, payload.onReceive, payload.onState, payload.onSelf);

  status = status.filter(function (x) {
    return x.isInvisible === false;
  });

  var groupByNameId = _.groupBy(status, "nameId");

  var valuesByNameId = _.values(groupByNameId);

  var groupBySkillIndex = valuesByNameId.map(function (x) {
    return _.groupBy(x, "skillIndex");
  });

  var valuesBySkillIndex = _.values(groupBySkillIndex);

  var concatValues = [];
  valuesBySkillIndex.forEach(function (x) {
    concatValues = concatValues.concat(_.values(x));
  });
  var final = concatValues.map(function (x) {
    var info = x[0];
    return {
      name: info.name,
      nameId: info.nameId,
      skillIndex: info.skillIndex,
      active: info.active,
      val: x
    };
  });
  return final;
}
"use strict";

function initiate() {
  var url = window.location.href.split("/");
  var room = url[url.length - 1];

  if (room !== "") {
    socket.emit("initiate", {
      room: room
    });
    chat.emit("gameInitiate", {
      room: room
    });
    chat.emit("lobbyInitiate");
  } else {// window.location.replace('/');
  }
}

initiate();
setInterval(function () {
  if (app.source.turn == undefined || app.state.winner.state !== false) {
    return;
  }

  if (app.state.timer.turn > 0) {
    app.state.timer.turn -= 2.2;
  } else if (app.state.timer.turn <= 0 && app.source.myTurn === true) {
    var timeDiff = (Date.now() - app.source.timestamp) / 1000;
    var timeCalc = 45 - timeDiff;
    var remaining = 100 * (timeCalc / 45);
    console.log(app.source.timestamp, timeDiff, timeCalc, remaining);

    if (remaining <= 0) {
      var payload = {
        energy: {
          a: 0,
          i: 0,
          s: 0,
          w: 0
        },
        packet: []
      };
      app.onDone(payload);
    } // app.packet = app.packet.filter(x => x.skill !== null && x.offense !== '' && x.target !== '' && x.aim !== '' && x.heroIndex !== null)
    // socket.emit('sequence', {
    //     packet: app.packet,
    //     room: app.source.room
    // })
    // app.packet = []

  }
}, 1000);

window.onfocus = function () {
  document.title = "Anime Rumble";
};

function scrollChat() {
  var container = app.$el.querySelector("#chat");
  container.scrollTop = container.scrollHeight;
}
"use strict";

socket.on("apply", function (payload) {
  document.title = "(!) Anime Rumble";
  vueBind(payload);
});
socket.on("noMatch", function (payload) {
  console.log("none");
  window.location.replace("/");
});
chat.on("chat", function (payload) {
  if (payload.channel === "ingame") {
    app.chat.push(payload.message);

    if (app.chatChannel !== "ingame") {
      app.chatNotif.ingame = true;
    }
  } else if (payload.channel === "lobby") {
    app.lobbychat.push(payload.message);

    if (app.chatChannel !== "lobby") {
      app.chatNotif.lobby = true;
    }
  }
});
chat.on("gameInitiate", function (payload) {
  app.chat = payload;
});
chat.on("lobbyInitiate", function (payload) {
  app.lobbychat = payload;
});
"use strict";

function getParameterName(name, url) {
  if (!url) url = window.location.href;
  name = name.replace(/[\[\]]/g, "\\$&");
  var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
      results = regex.exec(url);
  if (!results) return null;
  if (!results[2]) return "";
  return decodeURIComponent(results[2].replace(/\+/g, " "));
}

var setCookie = function setCookie(name, value) {
  var days = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 7;
  var path = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : "/";
  var expires = new Date(Date.now() + days * 864e5).toGMTString();
  document.cookie = name + "=" + encodeURIComponent(value) + "; expires=" + expires + "; path=" + path;
};

var getCookie = function getCookie(name) {
  return document.cookie.split("; ").reduce(function (r, v) {
    var parts = v.split("=");
    return parts[0] === name ? decodeURIComponent(parts[1]) : r;
  }, "");
};

var deleteCookie = function deleteCookie(name, path) {
  setCookie(name, "", -1, path);
};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNldHVwLmpzIiwidnVlLmpzIiwibWFuYWdlbWVudC5qcyIsInJlbmRlcmVyLmpzIiwiZ2VuZXJhbC5qcyIsInNvY2tldC5qcyIsImhlbHBlci5qcyJdLCJuYW1lcyI6WyJzb2NrZXQiLCJpbyIsImNoYXQiLCJWdWUiLCJ1c2UiLCJWVG9vbHRpcCIsImFwcCIsImVsIiwiZGF0YSIsIm1vZGUiLCJsb2JieWNoYXQiLCJjaGF0U2VuZCIsImNoYXRDaGFubmVsIiwiY2hhdE5vdGlmIiwibG9iYnkiLCJpbmdhbWUiLCJzb3VyY2UiLCJlbmVyZ3kiLCJhbGx5IiwibWV0YSIsInBhY2tldCIsInN0YXRlIiwic2tpbGwiLCJvZmZlbnNlIiwidGFyZ2V0IiwiYWltIiwidGltZXIiLCJ0dXJuIiwib25Ta2lsbCIsImJ1dHRvbiIsImRlc2NyaXB0aW9uIiwid2lubmVyIiwibmFtZSIsIm1vZGFsIiwicmFuZG9tIiwiZXhjaGFuZ2UiLCJ1c2VkIiwidmFsIiwic2hvd01vZGFsIiwibWV0aG9kcyIsIm9uU3VycmVuZGVyIiwiY29uc29sZSIsImxvZyIsImVtaXQiLCJyb29tIiwib25DaGF0IiwiY2hhbm5lbCIsIm1lc3NhZ2UiLCJvbkV4Y2hhbmdlIiwiZSIsIiRyZWZzIiwic291bmRDbGljayIsInBsYXkiLCJyIiwiY29zdCIsImZvckVhY2giLCJ4IiwieGkiLCJzIiwic2kiLCJlbmVyZ3lNYW5hZ2VtZW50IiwiaGVyb0luZGV4IiwiZGlzYWJsZWQiLCJidXR0b25NYW5hZ2VtZW50Iiwic2tpbGxJZCIsIm9uRG9uZSIsInNvdW5kRW5kVHVybiIsImZpbHRlciIsInVuc2hpZnQiLCJtc2ciLCJwYXlsb2FkIiwibWFya2luZyIsInNraWxsSW5kZXgiLCJ0ZW1wb3JhcnkiLCJpc09uU2tpbGwiLCJzZXRUaW1lb3V0Iiwib25UYXJnZXQiLCJlbmVteSIsIm1hcCIsImNvbmNhdCIsInB1c2giLCJvbkF0dGFjayIsIm9uRGVzY3JpcHRpb24iLCJvcHRpb24iLCJ1bmRlZmluZWQiLCJjb25maWciLCJuYW1lSWQiLCJhIiwiaSIsInciLCJ0b3RhbCIsImNsYXNzZXMiLCJjb29sZG93biIsIm9uU3RhdHVzIiwic3RhdHVzIiwiXyIsIm9uUmVjZWl2ZSIsIm9uU3RhdGUiLCJvblNlbGYiLCJncm91cCIsImdyb3VwQnkiLCJzdWJncm91cCIsInRvQXJyYXkiLCJwcmVwIiwiZmluYWwiLCJpbmZvIiwib25HZXRJbWFnZSIsImluZGV4IiwiZmluZEluZGV4Iiwic2xpY2UiLCJ0YXJnZXRpbmdDdWUiLCJyZXN1bHQiLCJza2lsbEJpbmQiLCJhY3RpdmUiLCJjb3VudCIsImxlbmd0aCIsImVuZW15U3RhdHVzIiwiaW52dWxuZXJhYmxlIiwiaW52dWxuZXJhYmxlTWFuYWdlbWVudCIsImlnbm9yZSIsImlnbm9yZU1hbmFnZW1lbnQiLCJzb21lIiwidHlwZSIsInNraWxsTmFtZSIsImxvY2siLCJzdHVuTWFuYWdlbWVudCIsInN0dW4iLCJpbnRlcnNlY3QiLCJpbnRlcnNlY3Rpb24iLCJldmFsdWF0ZSIsImlnbm9yZUludnVsIiwidnVlQmluZCIsInVzZXJuYW1lIiwiZ2V0Q29va2llIiwidGVhbSIsInRlYW1FdmVuIiwibXlUdXJuIiwidGVhbU9kZCIsInNvdW5kU3RhcnRUdXJuIiwic3RvcmUiLCJpbmRpY2F0b3IiLCJzdGF0dXNWaWV3IiwibXlOYW1lIiwidGhlaXJOYW1lIiwidGltZXN0YW1wIiwiaHAiLCJyZXF1aXJlZCIsInRpbWVEaWZmIiwiRGF0ZSIsIm5vdyIsInRpbWVDYWxjIiwicmVtYWluaW5nIiwiaXNJbnZpc2libGUiLCJncm91cEJ5TmFtZUlkIiwidmFsdWVzQnlOYW1lSWQiLCJ2YWx1ZXMiLCJncm91cEJ5U2tpbGxJbmRleCIsInZhbHVlc0J5U2tpbGxJbmRleCIsImNvbmNhdFZhbHVlcyIsImluaXRpYXRlIiwidXJsIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwic3BsaXQiLCJzZXRJbnRlcnZhbCIsIm9uZm9jdXMiLCJkb2N1bWVudCIsInRpdGxlIiwic2Nyb2xsQ2hhdCIsImNvbnRhaW5lciIsIiRlbCIsInF1ZXJ5U2VsZWN0b3IiLCJzY3JvbGxUb3AiLCJzY3JvbGxIZWlnaHQiLCJvbiIsInJlcGxhY2UiLCJnZXRQYXJhbWV0ZXJOYW1lIiwicmVnZXgiLCJSZWdFeHAiLCJyZXN1bHRzIiwiZXhlYyIsImRlY29kZVVSSUNvbXBvbmVudCIsInNldENvb2tpZSIsInZhbHVlIiwiZGF5cyIsInBhdGgiLCJleHBpcmVzIiwidG9HTVRTdHJpbmciLCJjb29raWUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJyZWR1Y2UiLCJ2IiwicGFydHMiLCJkZWxldGVDb29raWUiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsU0FBU0MsR0FBRyxPQUFILENBQWI7QUFDQSxJQUFJQyxPQUFPRCxHQUFHLE9BQUgsQ0FBWDs7O0FDREFFLElBQUlDLEdBQUosQ0FBUUMsUUFBUjtBQUNBLElBQUlDLE1BQU0sSUFBSUgsR0FBSixDQUFRO0FBQ2hCSSxNQUFJLE1BRFk7QUFFaEJDLFFBQU07QUFDSkMsVUFBTSxNQURGO0FBRUpQLFVBQU0sRUFGRjtBQUdKUSxlQUFXLEVBSFA7QUFJSkMsY0FBVSxFQUpOO0FBS0pDLGlCQUFhLFFBTFQ7QUFNSkMsZUFBVztBQUNUQyxhQUFPLEtBREU7QUFFVEMsY0FBUTtBQUZDLEtBTlA7QUFVSkMsWUFBUTtBQUNOQyxjQUFRO0FBQ05DLGNBQU07QUFEQSxPQURGO0FBSU5DLFlBQU07QUFKQSxLQVZKO0FBZ0JKQyxZQUFRLEVBaEJKO0FBaUJKQyxXQUFPO0FBQ0xDLGFBQU87QUFDTEMsaUJBQVMsSUFESjtBQUVMRCxlQUFPLElBRkY7QUFHTEUsZ0JBQVEsSUFISDtBQUlMQyxhQUFLO0FBSkEsT0FERjtBQU9MQyxhQUFPO0FBQ0xDLGNBQU07QUFERCxPQVBGO0FBVUxDLGVBQVMsS0FWSjtBQVdMQyxjQUFRLEVBWEg7QUFZTEMsbUJBQWEsSUFaUjtBQWFMQyxjQUFRO0FBQ05WLGVBQU8sS0FERDtBQUVOVyxjQUFNO0FBRkEsT0FiSDtBQWlCTGYsY0FBUTtBQUNO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QUFTc0IsTUFBVCxHQUNFN0osT0FDQSxHQURBLEdBRUE4SixtQkFBbUJOLEtBQW5CLENBRkEsR0FHQSxZQUhBLEdBSUFHLE9BSkEsR0FLQSxTQUxBLEdBTUFELElBUEY7QUFRRCxDQVZEOztBQVlBLElBQU1yRCxZQUFZLFNBQVpBLFNBQVksT0FBUTtBQUN4QixTQUFPa0MsU0FBU3NCLE1BQVQsQ0FBZ0J6QixLQUFoQixDQUFzQixJQUF0QixFQUE0QjJCLE1BQTVCLENBQW1DLFVBQUMxSSxDQUFELEVBQUkySSxDQUFKLEVBQVU7QUFDbEQsUUFBTUMsUUFBUUQsRUFBRTVCLEtBQUYsQ0FBUSxHQUFSLENBQWQ7QUFDQSxXQUFPNkIsTUFBTSxDQUFOLE1BQWFqSyxJQUFiLEdBQW9Cc0osbUJBQW1CVyxNQUFNLENBQU4sQ0FBbkIsQ0FBcEIsR0FBbUQ1SSxDQUExRDtBQUNELEdBSE0sRUFHSixFQUhJLENBQVA7QUFJRCxDQUxEOztBQU9BLElBQU02SSxlQUFlLFNBQWZBLFlBQWUsQ0FBQ2xLLElBQUQsRUFBTzBKLElBQVAsRUFBZ0I7QUFDbkNILFlBQVV2SixJQUFWLEVBQWdCLEVBQWhCLEVBQW9CLENBQUMsQ0FBckIsRUFBd0IwSixJQUF4QjtBQUNELENBRkQiLCJmaWxlIjoiZ2FtZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgc29ja2V0ID0gaW8oXCIvZ2FtZVwiKTtcbmxldCBjaGF0ID0gaW8oXCIvY2hhdFwiKTtcbiIsIlZ1ZS51c2UoVlRvb2x0aXApO1xubGV0IGFwcCA9IG5ldyBWdWUoe1xuICBlbDogXCIjYXBwXCIsXG4gIGRhdGE6IHtcbiAgICBtb2RlOiBcImdhbWVcIixcbiAgICBjaGF0OiBbXSxcbiAgICBsb2JieWNoYXQ6IFtdLFxuICAgIGNoYXRTZW5kOiBcIlwiLFxuICAgIGNoYXRDaGFubmVsOiBcImluZ2FtZVwiLFxuICAgIGNoYXROb3RpZjoge1xuICAgICAgbG9iYnk6IGZhbHNlLFxuICAgICAgaW5nYW1lOiBmYWxzZVxuICAgIH0sXG4gICAgc291cmNlOiB7XG4gICAgICBlbmVyZ3k6IHtcbiAgICAgICAgYWxseToge31cbiAgICAgIH0sXG4gICAgICBtZXRhOiB7fVxuICAgIH0sXG4gICAgcGFja2V0OiBbXSxcbiAgICBzdGF0ZToge1xuICAgICAgc2tpbGw6IHtcbiAgICAgICAgb2ZmZW5zZTogbnVsbCxcbiAgICAgICAgc2tpbGw6IG51bGwsXG4gICAgICAgIHRhcmdldDogbnVsbCxcbiAgICAgICAgYWltOiBudWxsXG4gICAgICB9LFxuICAgICAgdGltZXI6IHtcbiAgICAgICAgdHVybjogMTAwXG4gICAgICB9LFxuICAgICAgb25Ta2lsbDogZmFsc2UsXG4gICAgICBidXR0b246IHt9LFxuICAgICAgZGVzY3JpcHRpb246IG51bGwsXG4gICAgICB3aW5uZXI6IHtcbiAgICAgICAgc3RhdGU6IGZhbHNlLFxuICAgICAgICBuYW1lOiBcIlwiXG4gICAgICB9LFxuICAgICAgZW5lcmd5OiB7XG4gICAgICAgIG1vZGFsOiBmYWxzZSxcbiAgICAgICAgcmFuZG9tOiAwXG4gICAgICB9LFxuICAgICAgZXhjaGFuZ2U6IHtcbiAgICAgICAgbW9kYWw6IGZhbHNlLFxuICAgICAgICB1c2VkOiBmYWxzZSxcbiAgICAgICAgZW5lcmd5OiB7fSxcbiAgICAgICAgdmFsOiBcIlwiXG4gICAgICB9XG4gICAgfSxcbiAgICBzaG93TW9kYWw6IHRydWVcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIG9uU3VycmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwic3VycmVuZGVyXCIpO1xuICAgICAgc29ja2V0LmVtaXQoXCJzdXJyZW5kZXJcIiwgeyByb29tOiB0aGlzLnNvdXJjZS5yb29tIH0pO1xuICAgIH0sXG4gICAgb25DaGF0OiBmdW5jdGlvbigpIHtcbiAgICAgIGxldCBjaGFubmVsID0gdGhpcy5jaGF0Q2hhbm5lbCA9PT0gXCJpbmdhbWVcIiA/IFwiaW5nYW1lXCIgOiBcImxvYmJ5XCI7XG5cbiAgICAgIGxldCBwYWNrZXQgPSB7XG4gICAgICAgIGNoYW5uZWw6IGNoYW5uZWwsXG4gICAgICAgIHJvb206IHRoaXMuc291cmNlLnJvb20sXG4gICAgICAgIG1lc3NhZ2U6IHRoaXMuY2hhdFNlbmRcbiAgICAgIH07XG4gICAgICBjaGF0LmVtaXQoXCJjaGF0XCIsIHBhY2tldCk7XG4gICAgICB0aGlzLmNoYXRTZW5kID0gXCJcIjtcbiAgICB9LFxuICAgIG9uRXhjaGFuZ2U6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIC8vU291bmRcbiAgICAgIHRoaXMuJHJlZnMuc291bmRDbGljay5wbGF5KCk7XG5cbiAgICAgIGxldCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICB0aGlzLnNvdXJjZS5lbmVyZ3kuYWxseSA9IGUuZW5lcmd5O1xuICAgICAgdGhpcy5zb3VyY2UuZW5lcmd5LmFsbHkuciA9XG4gICAgICAgIHRoaXMuc291cmNlLmVuZXJneS5hbGx5LnIgLSB0aGlzLnN0YXRlLmVuZXJneS5yYW5kb207XG4gICAgICBzdGF0ZS5leGNoYW5nZS5lbmVyZ3kgPSBlLmNvc3Q7XG4gICAgICBzdGF0ZS5leGNoYW5nZS5tb2RhbCA9IGZhbHNlO1xuICAgICAgc3RhdGUuZXhjaGFuZ2UudXNlZCA9IHRydWU7XG4gICAgICBzdGF0ZS5leGNoYW5nZS52YWwgPSBlLmV4Y2hhbmdlO1xuXG4gICAgICBzdGF0ZS5idXR0b24uYWxseS5mb3JFYWNoKCh4LCB4aSkgPT4ge1xuICAgICAgICBpZiAoeC5vblNraWxsID09PSBmYWxzZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKHgubmFtZSk7XG4gICAgICAgICAgeC5za2lsbC5mb3JFYWNoKChzLCBzaSkgPT4ge1xuICAgICAgICAgICAgbGV0IGVuZXJneSA9IGVuZXJneU1hbmFnZW1lbnQoXG4gICAgICAgICAgICAgIHsgaGVyb0luZGV4OiB4aSwgc2tpbGw6IHNpIH0sXG4gICAgICAgICAgICAgIFwiY2hlY2tcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHMuYnV0dG9uID0gcy5kaXNhYmxlZCB8fCBlbmVyZ3kgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlbmVyZ3ksIHMuZGlzYWJsZWQsIHMuYnV0dG9uKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vQ2xlYW4gU2tpbGwgQnVmZmVyXG4gICAgICBpZiAoc3RhdGUuc2tpbGwub2ZmZW5zZSAhPT0gbnVsbCAmJiBzdGF0ZS5za2lsbC50YXJnZXQgPT09IG51bGwpIHtcbiAgICAgICAgLy9Td2l0Y2ggQ2hvaWNlXG4gICAgICAgIC8vQnV0dG9uIE1hbmFnZW1lbnRcbiAgICAgICAgYnV0dG9uTWFuYWdlbWVudChzdGF0ZS5za2lsbCwgXCJvbkNhbmNlbFwiKTtcbiAgICAgICAgLy9DbGVhbiBCdWZmZXJcbiAgICAgICAgc3RhdGUuc2tpbGwgPSB7XG4gICAgICAgICAgb2ZmZW5zZTogbnVsbCxcbiAgICAgICAgICBza2lsbDogbnVsbCxcbiAgICAgICAgICBza2lsbElkOiBudWxsLFxuICAgICAgICAgIHRhcmdldDogbnVsbCxcbiAgICAgICAgICBhaW06IG51bGwsXG4gICAgICAgICAgaGVyb0luZGV4OiBudWxsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSxcbiAgICBvbkRvbmU6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgLy9Tb3VuZFxuICAgICAgdGhpcy4kcmVmcy5zb3VuZEVuZFR1cm4ucGxheSgpO1xuXG4gICAgICAvL0RlZmluZVxuICAgICAgbGV0IHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgIGxldCBwYWNrZXQgPSBlLnBhY2tldDtcblxuICAgICAgLy9Pcmdhbml6ZVxuICAgICAgc3RhdGUuZW5lcmd5Lm1vZGFsID0gZmFsc2U7XG4gICAgICBwYWNrZXQgPSBwYWNrZXQuZmlsdGVyKFxuICAgICAgICB4ID0+XG4gICAgICAgICAgeC5za2lsbCAhPT0gbnVsbCAmJlxuICAgICAgICAgIHgub2ZmZW5zZSAhPT0gbnVsbCAmJlxuICAgICAgICAgIHgudGFyZ2V0ICE9PSBudWxsICYmXG4gICAgICAgICAgeC5haW0gIT09IG51bGwgJiZcbiAgICAgICAgICB4Lmhlcm9JbmRleCAhPT0gbnVsbFxuICAgICAgKTtcbiAgICAgIHBhY2tldC51bnNoaWZ0KGUuZW5lcmd5KTtcbiAgICAgIGlmIChzdGF0ZS5leGNoYW5nZS51c2VkID09PSB0cnVlKSB7XG4gICAgICAgIHBhY2tldC51bnNoaWZ0KFxuICAgICAgICAgIHsgbXNnOiBcImV4Y2hhbmdlXCIsIHZhbDogc3RhdGUuZXhjaGFuZ2UudmFsIH0sXG4gICAgICAgICAgc3RhdGUuZXhjaGFuZ2UuZW5lcmd5XG4gICAgICAgICk7XG4gICAgICAgIHN0YXRlLmV4Y2hhbmdlLnVzZWQgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy9TZW5kXG4gICAgICBzb2NrZXQuZW1pdChcInNlcXVlbmNlXCIsIHtcbiAgICAgICAgcGFja2V0OiBwYWNrZXQsXG4gICAgICAgIHJvb206IHRoaXMuc291cmNlLnJvb21cbiAgICAgIH0pO1xuXG4gICAgICAvL1Jlc2V0XG4gICAgICBzdGF0ZS5lbmVyZ3kucmFuZG9tID0gMDtcbiAgICAgIHRoaXMucGFja2V0ID0gW107XG4gICAgICBzdGF0ZS5za2lsbCA9IHtcbiAgICAgICAgb2ZmZW5zZTogbnVsbCxcbiAgICAgICAgc2tpbGw6IG51bGwsXG4gICAgICAgIHNraWxsSWQ6IG51bGwsXG4gICAgICAgIHRhcmdldDogbnVsbCxcbiAgICAgICAgYWltOiBudWxsLFxuICAgICAgICBoZXJvSW5kZXg6IG51bGxcbiAgICAgIH07XG4gICAgfSxcbiAgICBvblNraWxsOiBmdW5jdGlvbihwYXlsb2FkKSB7XG4gICAgICAvL0RlZmluZSBhbmQgU3dpdGNoIFN0YXRlXG4gICAgICBsZXQgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgbGV0IG1hcmtpbmcgPSB0aGlzLnNvdXJjZS5hbGx5W3BheWxvYWQuaGVyb0luZGV4XS5za2lsbFtcbiAgICAgICAgcGF5bG9hZC5za2lsbEluZGV4XG4gICAgICBdLm1hcmtpbmc7XG4gICAgICBsZXQgdGVtcG9yYXJ5ID0ge1xuICAgICAgICBvZmZlbnNlOiBwYXlsb2FkLm5hbWUsXG4gICAgICAgIHNraWxsOiBwYXlsb2FkLnNraWxsSW5kZXgsXG4gICAgICAgIHNraWxsSWQ6IHBheWxvYWQuc2tpbGxJZCxcbiAgICAgICAgdGFyZ2V0OiBudWxsLFxuICAgICAgICBhaW06IHBheWxvYWQudGFyZ2V0LFxuICAgICAgICBoZXJvSW5kZXg6IHBheWxvYWQuaGVyb0luZGV4LFxuICAgICAgICBtYXJraW5nOiBtYXJraW5nXG4gICAgICB9O1xuXG4gICAgICAvL0lzIFNraWxsIENob3Nlbj9cbiAgICAgIGxldCBpc09uU2tpbGwgPSBzdGF0ZS5idXR0b24uYWxseVt0ZW1wb3JhcnkuaGVyb0luZGV4XS5vblNraWxsO1xuXG4gICAgICBpZiAoXG4gICAgICAgIGlzT25Ta2lsbCA9PT0gZmFsc2UgJiZcbiAgICAgICAgc3RhdGUuc2tpbGwub2ZmZW5zZSA9PT0gbnVsbCAmJlxuICAgICAgICBzdGF0ZS5za2lsbC50YXJnZXQgPT09IG51bGxcbiAgICAgICkge1xuICAgICAgICAvL0ZpcnN0IENob2ljZVxuICAgICAgICAvL0J1ZmZlciBTa2lsbFxuICAgICAgICBzdGF0ZS5za2lsbCA9IHRlbXBvcmFyeTtcbiAgICAgICAgLy9CdXR0b24gTWFuYWdlbWVudFxuICAgICAgICBidXR0b25NYW5hZ2VtZW50KHRlbXBvcmFyeSwgXCJvblNraWxsXCIpO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgaXNPblNraWxsID09PSBmYWxzZSAmJlxuICAgICAgICBzdGF0ZS5za2lsbC5vZmZlbnNlICE9PSBudWxsICYmXG4gICAgICAgIHN0YXRlLnNraWxsLnRhcmdldCA9PT0gbnVsbFxuICAgICAgKSB7XG4gICAgICAgIC8vU3dpdGNoIENob2ljZVxuICAgICAgICAvL0J1dHRvbiBNYW5hZ2VtZW50XG4gICAgICAgIGJ1dHRvbk1hbmFnZW1lbnQoc3RhdGUuc2tpbGwsIFwib25DYW5jZWxcIik7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGJ1dHRvbk1hbmFnZW1lbnQodGVtcG9yYXJ5LCBcIm9uU2tpbGxcIik7XG4gICAgICAgIH0sIDEwMCk7XG4gICAgICAgIC8vQnVmZmVyIFNraWxsXG4gICAgICAgIHN0YXRlLnNraWxsID0gdGVtcG9yYXJ5O1xuICAgICAgfSBlbHNlIGlmIChpc09uU2tpbGwgPT09IHRydWUpIHtcbiAgICAgICAgLy9DYW5jZWwgQ2hvaWNlXG4gICAgICAgIGVuZXJneU1hbmFnZW1lbnQodGVtcG9yYXJ5LCBcImFkZFwiKTtcbiAgICAgICAgLy9CdXR0b24gTWFuYWdlbWVudFxuICAgICAgICBidXR0b25NYW5hZ2VtZW50KHN0YXRlLnNraWxsLCBcIm9uQ2FuY2VsXCIpO1xuICAgICAgICBidXR0b25NYW5hZ2VtZW50KHRlbXBvcmFyeSwgXCJvblNlbGZcIik7XG4gICAgICAgIHRoaXMucGFja2V0ID0gdGhpcy5wYWNrZXQuZmlsdGVyKHggPT4geC5vZmZlbnNlICE9PSB0ZW1wb3Jhcnkub2ZmZW5zZSk7XG4gICAgICAgIC8vQ2xlYW4gU2tpbGwgQnVmZmVyXG4gICAgICAgIHN0YXRlLnNraWxsID0ge1xuICAgICAgICAgIG9mZmVuc2U6IG51bGwsXG4gICAgICAgICAgc2tpbGw6IG51bGwsXG4gICAgICAgICAgc2tpbGxJZDogbnVsbCxcbiAgICAgICAgICB0YXJnZXQ6IG51bGwsXG4gICAgICAgICAgYWltOiBudWxsLFxuICAgICAgICAgIGhlcm9JbmRleDogbnVsbFxuICAgICAgICB9O1xuICAgICAgICAvL1N0YXRlIE1hbmFnZW1lbnRcbiAgICAgICAgc3RhdGUuYnV0dG9uLmFsbHlbdGVtcG9yYXJ5Lmhlcm9JbmRleF0ub25Ta2lsbCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0sXG4gICAgb25UYXJnZXQ6IGZ1bmN0aW9uKHBheWxvYWQpIHtcbiAgICAgIC8vU291bmRcbiAgICAgIHRoaXMuJHJlZnMuc291bmRDbGljay5wbGF5KCk7XG5cbiAgICAgIC8vRGVmaW5lIFN0YXRlXG4gICAgICBsZXQgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXG4gICAgICAvL0J1ZmZlciBTa2lsbFxuICAgICAgaWYgKHN0YXRlLnNraWxsLmFpbSA9PT0gXCJhbGxlbmVteVwiIHx8IHN0YXRlLnNraWxsLmFpbSA9PT0gXCJyYW5kb21lbmVteVwiKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHN0YXRlLmJ1dHRvbi5lbmVteSk7XG4gICAgICAgIHN0YXRlLnNraWxsLnRhcmdldCA9IHN0YXRlLmJ1dHRvbi5lbmVteVxuICAgICAgICAgIC5maWx0ZXIoeCA9PiB4LmJ1dHRvbiAhPT0gdHJ1ZSAmJiB4Lm5hbWUgIT09IHBheWxvYWQubmFtZSlcbiAgICAgICAgICAubWFwKHggPT4geC5uYW1lKTtcbiAgICAgICAgc3RhdGUuc2tpbGwudGFyZ2V0LnVuc2hpZnQocGF5bG9hZC5uYW1lKTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUuc2tpbGwuYWltID09PSBcImFsbGFsbHlcIikge1xuICAgICAgICBzdGF0ZS5za2lsbC50YXJnZXQgPSBzdGF0ZS5idXR0b24uYWxseS5tYXAoeCA9PiB4Lm5hbWUpO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZS5za2lsbC5haW0gPT09IFwiYWxsZW5lbXlhbGxhbGx5XCIpIHtcbiAgICAgICAgc3RhdGUuc2tpbGwudGFyZ2V0ID0gc3RhdGUuYnV0dG9uLmVuZW15XG4gICAgICAgICAgLmZpbHRlcih4ID0+IHguYnV0dG9uICE9PSB0cnVlICYmIHgubmFtZSAhPT0gcGF5bG9hZC5uYW1lKVxuICAgICAgICAgIC5tYXAoeCA9PiB4Lm5hbWUpO1xuICAgICAgICBzdGF0ZS5za2lsbC50YXJnZXQudW5zaGlmdChwYXlsb2FkLm5hbWUpO1xuICAgICAgICBsZXQgYWxseSA9IHN0YXRlLmJ1dHRvbi5hbGx5Lm1hcCh4ID0+IHgubmFtZSk7XG4gICAgICAgIHN0YXRlLnNraWxsLnRhcmdldCA9IHN0YXRlLnNraWxsLnRhcmdldC5jb25jYXQoYWxseSk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLnNraWxsLmFpbSA9PT0gXCJvdGhlcmFsbHlcIikge1xuICAgICAgICBzdGF0ZS5za2lsbC50YXJnZXQgPSBzdGF0ZS5idXR0b24uYWxseVxuICAgICAgICAgIC5maWx0ZXIoeCA9PiB4Lm5hbWUgIT09IHN0YXRlLnNraWxsLm9mZmVuc2UpXG4gICAgICAgICAgLm1hcCh4ID0+IHgubmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS5za2lsbC50YXJnZXQgPSBbcGF5bG9hZC5uYW1lXTtcbiAgICAgIH1cbiAgICAgIC8vUmVnaXN0ZXIgU2tpbGxcbiAgICAgIHRoaXMucGFja2V0LnB1c2godGhpcy5zdGF0ZS5za2lsbCk7XG5cbiAgICAgIC8vRW5lcmd5IE1hbmFnZW1lbnRcbiAgICAgIGVuZXJneU1hbmFnZW1lbnQoc3RhdGUuc2tpbGwsIFwic3Vic3RyYWN0XCIpO1xuICAgICAgLy9CdXR0b24gTWFuYWdlbWVudFxuICAgICAgLy8gYnV0dG9uTWFuYWdlbWVudChzdGF0ZS5za2lsbCwgXCJvblNraWxsXCIpO1xuICAgICAgYnV0dG9uTWFuYWdlbWVudChzdGF0ZS5za2lsbCwgXCJvblRhcmdldFwiKTtcbiAgICAgIC8vU3RhdGUgTWFuYWdlbWVudFxuICAgICAgc3RhdGUuYnV0dG9uLmFsbHlbc3RhdGUuc2tpbGwuaGVyb0luZGV4XS5vblNraWxsID0gdHJ1ZTtcblxuICAgICAgLy9DbGVhbiBTa2lsbCBCdWZmZXJcbiAgICAgIHN0YXRlLnNraWxsID0ge1xuICAgICAgICBvZmZlbnNlOiBudWxsLFxuICAgICAgICBza2lsbDogbnVsbCxcbiAgICAgICAgc2tpbGxJZDogbnVsbCxcbiAgICAgICAgdGFyZ2V0OiBudWxsLFxuICAgICAgICBhaW06IG51bGwsXG4gICAgICAgIGhlcm9JbmRleDogbnVsbFxuICAgICAgfTtcbiAgICB9LFxuICAgIG9uQXR0YWNrOiBmdW5jdGlvbihwYXlsb2FkKSB7XG4gICAgICAvL1NvdW5kXG4gICAgICB0aGlzLiRyZWZzLnNvdW5kQ2xpY2sucGxheSgpO1xuXG4gICAgICB0aGlzLnN0YXRlLmVuZXJneS5tb2RhbCA9IHRydWU7XG4gICAgfSxcbiAgICBvbkRlc2NyaXB0aW9uOiBmdW5jdGlvbihwYXlsb2FkLCBvcHRpb24gPSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChvcHRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvcHRpb24gPSBcImFsbHlcIjtcbiAgICAgIH1cbiAgICAgIC8vU291bmRcbiAgICAgIHRoaXMuJHJlZnMuc291bmRDbGljay5wbGF5KCk7XG4gICAgICAvL0RlZmluZVxuICAgICAgbGV0IGNvbmZpZyA9IHtcbiAgICAgICAgbmFtZUlkOiBwYXlsb2FkLm5hbWVJZCxcbiAgICAgICAgc2tpbGw6IHBheWxvYWQuc2tpbGxJbmRleCxcbiAgICAgICAgaGVyb0luZGV4OiBwYXlsb2FkLmhlcm9JbmRleCxcbiAgICAgICAgb3B0aW9uOiBvcHRpb25cbiAgICAgIH07XG4gICAgICBsZXQgc2tpbGwgPSB0aGlzLnNvdXJjZVtjb25maWcub3B0aW9uXVtjb25maWcuaGVyb0luZGV4XS5za2lsbFtcbiAgICAgICAgY29uZmlnLnNraWxsXG4gICAgICBdO1xuICAgICAgLy9NYXAgRGVzY3JpcHRpb25cbiAgICAgIGxldCBtYXAgPSB7XG4gICAgICAgIG5hbWU6IHNraWxsLm5hbWUsXG4gICAgICAgIGVuZXJneToge1xuICAgICAgICAgIGE6IHNraWxsLmVuZXJneS5hLFxuICAgICAgICAgIGk6IHNraWxsLmVuZXJneS5pLFxuICAgICAgICAgIHM6IHNraWxsLmVuZXJneS5zLFxuICAgICAgICAgIHc6IHNraWxsLmVuZXJneS53LFxuICAgICAgICAgIHI6IHNraWxsLmVuZXJneS5yLFxuICAgICAgICAgIHRvdGFsOlxuICAgICAgICAgICAgc2tpbGwuZW5lcmd5LmEgK1xuICAgICAgICAgICAgc2tpbGwuZW5lcmd5LmkgK1xuICAgICAgICAgICAgc2tpbGwuZW5lcmd5LnMgK1xuICAgICAgICAgICAgc2tpbGwuZW5lcmd5LncgK1xuICAgICAgICAgICAgc2tpbGwuZW5lcmd5LnJcbiAgICAgICAgfSxcbiAgICAgICAgZGVzY3JpcHRpb246IHNraWxsLmRlc2NyaXB0aW9uLFxuICAgICAgICBjbGFzc2VzOiBza2lsbC5jbGFzc2VzLFxuICAgICAgICBjb29sZG93bjogc2tpbGwuY29vbGRvd25cbiAgICAgIH07XG5cbiAgICAgIC8vQnVmZmVyIERlc2NyaXB0aW9uXG4gICAgICBsZXQgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgc3RhdGUuZGVzY3JpcHRpb24gPSB7XG4gICAgICAgIG5hbWVJZDogY29uZmlnLm5hbWVJZCxcbiAgICAgICAgc2tpbGw6IGNvbmZpZy5za2lsbCxcbiAgICAgICAgaGVyb0luZGV4OiBjb25maWcuaGVyb0luZGV4LFxuICAgICAgICBtYXA6IG1hcFxuICAgICAgfTtcbiAgICB9LFxuICAgIG9uU3RhdHVzOiBmdW5jdGlvbihwYXlsb2FkKSB7XG4gICAgICBjb25zb2xlLmxvZyhwYXlsb2FkKTtcbiAgICAgIGxldCBzdGF0dXMgPSBfLmNvbmNhdChcbiAgICAgICAgcGF5bG9hZC5vbkF0dGFjayxcbiAgICAgICAgcGF5bG9hZC5vblJlY2VpdmUsXG4gICAgICAgIHBheWxvYWQub25TdGF0ZSxcbiAgICAgICAgcGF5bG9hZC5vblNlbGZcbiAgICAgICk7XG4gICAgICBjb25zb2xlLmxvZyhzdGF0dXMpO1xuICAgICAgbGV0IGdyb3VwID0gXy5ncm91cEJ5KHN0YXR1cywgXCJuYW1lSWRcIik7XG4gICAgICBjb25zb2xlLmxvZyhncm91cCk7XG4gICAgICBsZXQgc3ViZ3JvdXAgPSBfLnRvQXJyYXkoZ3JvdXApLm1hcCh4ID0+XG4gICAgICAgIF8udG9BcnJheShfLmdyb3VwQnkoeCwgXCJza2lsbEluZGV4XCIpKVxuICAgICAgKTtcbiAgICAgIGxldCBwcmVwID0gc3ViZ3JvdXAubWFwKHggPT4geFswXSk7XG4gICAgICBsZXQgZmluYWwgPSBwcmVwLm1hcCh4ID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coeFswXSk7XG4gICAgICAgIGxldCBpbmZvID0geFswXTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuYW1lSWQ6IGluZm8ubmFtZUlkLFxuICAgICAgICAgIHN0YXR1czogaW5mby5za2lsbEluZGV4LFxuICAgICAgICAgIHZhbDogeFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhwcmVwKTtcbiAgICAgIGNvbnNvbGUubG9nKGZpbmFsKTtcbiAgICAgIHJldHVybiBmaW5hbDtcbiAgICAgIC8vIGxldCBzdWJncm91cCA9IGdyb3VwLm1hcCh4ID0+IF8uZ3JvdXBCeSh4LCBcInNraWxsSW5kZXhcIikpO1xuICAgIH0sXG4gICAgb25HZXRJbWFnZTogZnVuY3Rpb24ocGF5bG9hZCwgb3B0aW9uKSB7XG4gICAgICBpZiAob3B0aW9uID09PSBcInBhY2tldFwiKSB7XG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMuc291cmNlLmFsbHkuZmluZEluZGV4KHggPT4geC5uYW1lID09PSBwYXlsb2FkLm9mZmVuc2UpO1xuICAgICAgICBsZXQgbmFtZUlkID0gdGhpcy5zb3VyY2UuYWxseVtpbmRleF0ubmFtZUlkO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgXCIvYXNzZXRzL2NoYXJhY3Rlci9cIiArXG4gICAgICAgICAgbmFtZUlkLnNsaWNlKDAsIC0xKSArXG4gICAgICAgICAgXCIvc2tpbGxcIiArXG4gICAgICAgICAgKHBheWxvYWQuc2tpbGwgKyAxKSArXG4gICAgICAgICAgXCIvYXZhdGFyLmpwZ1wiXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKG9wdGlvbiA9PT0gXCJjaGFyXCIpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBcIi9hc3NldHMvY2hhcmFjdGVyL1wiICsgcGF5bG9hZC5uYW1lSWQuc2xpY2UoMCwgLTEpICsgXCIvYXZhdGFyLmpwZ1wiXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKG9wdGlvbiA9PT0gXCJza2lsbFwiKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgXCIvYXNzZXRzL2NoYXJhY3Rlci9cIiArXG4gICAgICAgICAgcGF5bG9hZC5uYW1lSWQuc2xpY2UoMCwgLTEpICtcbiAgICAgICAgICBcIi9za2lsbFwiICtcbiAgICAgICAgICAocGF5bG9hZC5za2lsbCArIDEpICtcbiAgICAgICAgICBcIi9hdmF0YXIuanBnXCJcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9uID09PSBcInN0YXR1c1wiKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgXCIvYXNzZXRzL2NoYXJhY3Rlci9cIiArXG4gICAgICAgICAgcGF5bG9hZC5uYW1lSWQuc2xpY2UoMCwgLTEpICtcbiAgICAgICAgICBcIi9za2lsbFwiICtcbiAgICAgICAgICBwYXlsb2FkLnNraWxsICtcbiAgICAgICAgICBcIi9hdmF0YXIuanBnXCJcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9uID09PSBcInRhcmdldGluZ1wiKSB7XG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMucGFja2V0LmZpbmRJbmRleCh4ID0+IHgub2ZmZW5zZSA9PT0gcGF5bG9hZC5uYW1lKTtcbiAgICAgICAgbGV0IHNraWxsSWQgPSB0aGlzLnBhY2tldFtpbmRleF0uc2tpbGxJZDtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBcIi9hc3NldHMvY2hhcmFjdGVyL1wiICtcbiAgICAgICAgICBwYXlsb2FkLm5hbWVJZC5zbGljZSgwLCAtMSkgK1xuICAgICAgICAgIFwiL3NraWxsXCIgK1xuICAgICAgICAgIChza2lsbElkICsgMSkgK1xuICAgICAgICAgIFwiL2F2YXRhci5qcGdcIlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0sXG4gICAgdGFyZ2V0aW5nQ3VlOiBmdW5jdGlvbihwYXlsb2FkLCBuYW1lSWQpIHtcbiAgICAgIGxldCBuYW1lID0gcGF5bG9hZDtcbiAgICAgIGxldCBpbmRleCA9IHRoaXMucGFja2V0LmZpbmRJbmRleCh4ID0+IHgub2ZmZW5zZSA9PT0gcGF5bG9hZCk7XG4gICAgICBsZXQgcGFja2V0ID0gdGhpcy5wYWNrZXRbaW5kZXhdO1xuXG4gICAgICBsZXQgcmVzdWx0ID0ge1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBza2lsbEluZGV4OiBwYWNrZXQuc2tpbGwsXG4gICAgICAgIHNraWxsSWQ6IHBhY2tldC5za2lsbElkLFxuICAgICAgICBoZXJvSW5kZXg6IHBhY2tldC5oZXJvSW5kZXgsXG4gICAgICAgIHRhcmdldDogcGFja2V0LnRhcmdldFxuICAgICAgfTtcblxuICAgICAgaWYgKG5hbWVJZCkge1xuICAgICAgICByZXN1bHQubmFtZUlkID0gbmFtZUlkO1xuICAgICAgfVxuICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH1cbn0pO1xuIiwiZnVuY3Rpb24gZW5lcmd5TWFuYWdlbWVudCh0ZW1wb3JhcnksIG9wdGlvbikge1xuICBsZXQgZW5lcmd5ID0gdGVtcG9yYXJ5LmVuZXJneSA/IHRlbXBvcmFyeS5lbmVyZ3kgOiBhcHAuc291cmNlLmVuZXJneS5hbGx5O1xuICBsZXQgc2tpbGwgPSB0ZW1wb3Jhcnkuc2tpbGxCaW5kXG4gICAgPyB0ZW1wb3Jhcnkuc2tpbGxCaW5kXG4gICAgOiBhcHAuc291cmNlLmFsbHlbdGVtcG9yYXJ5Lmhlcm9JbmRleF0uc2tpbGxbdGVtcG9yYXJ5LnNraWxsXS5lbmVyZ3k7XG4gIGxldCB0b3RhbCA9IHtcbiAgICBlbmVyZ3k6IGVuZXJneS5hICsgZW5lcmd5LmkgKyBlbmVyZ3kucyArIGVuZXJneS53LFxuICAgIHNraWxsOiBza2lsbC5hICsgc2tpbGwuaSArIHNraWxsLnMgKyBza2lsbC53XG4gIH07XG5cbiAgaWYgKG9wdGlvbiA9PT0gXCJzdWJzdHJhY3RcIikge1xuICAgIGlmIChza2lsbC5hID4gMCkge1xuICAgICAgZW5lcmd5LmEgLT0gc2tpbGwuYTtcbiAgICAgIGVuZXJneS5yIC09IHNraWxsLmE7XG4gICAgfVxuICAgIGlmIChza2lsbC5pID4gMCkge1xuICAgICAgZW5lcmd5LmkgLT0gc2tpbGwuaTtcbiAgICAgIGVuZXJneS5yIC09IHNraWxsLmk7XG4gICAgfVxuICAgIGlmIChza2lsbC5zID4gMCkge1xuICAgICAgZW5lcmd5LnMgLT0gc2tpbGwucztcbiAgICAgIGVuZXJneS5yIC09IHNraWxsLnM7XG4gICAgfVxuICAgIGlmIChza2lsbC53ID4gMCkge1xuICAgICAgZW5lcmd5LncgLT0gc2tpbGwudztcbiAgICAgIGVuZXJneS5yIC09IHNraWxsLnc7XG4gICAgfVxuICAgIGlmIChza2lsbC5yID4gMCkge1xuICAgICAgZW5lcmd5LnIgLT0gc2tpbGwucjtcbiAgICAgIGFwcC5zdGF0ZS5lbmVyZ3kucmFuZG9tICs9IHNraWxsLnI7XG4gICAgfVxuICB9IGVsc2UgaWYgKG9wdGlvbiA9PT0gXCJhZGRcIikge1xuICAgIGlmIChza2lsbC5hID4gMCkge1xuICAgICAgZW5lcmd5LmEgKz0gc2tpbGwuYTtcbiAgICAgIGVuZXJneS5yICs9IHNraWxsLmE7XG4gICAgfVxuICAgIGlmIChza2lsbC5pID4gMCkge1xuICAgICAgZW5lcmd5LmkgKz0gc2tpbGwuaTtcbiAgICAgIGVuZXJneS5yICs9IHNraWxsLmk7XG4gICAgfVxuICAgIGlmIChza2lsbC5zID4gMCkge1xuICAgICAgZW5lcmd5LnMgKz0gc2tpbGwucztcbiAgICAgIGVuZXJneS5yICs9IHNraWxsLnM7XG4gICAgfVxuICAgIGlmIChza2lsbC53ID4gMCkge1xuICAgICAgZW5lcmd5LncgKz0gc2tpbGwudztcbiAgICAgIGVuZXJneS5yICs9IHNraWxsLnc7XG4gICAgfVxuICAgIGlmIChza2lsbC5yID4gMCkge1xuICAgICAgZW5lcmd5LnIgKz0gc2tpbGwucjtcbiAgICAgIGFwcC5zdGF0ZS5lbmVyZ3kucmFuZG9tIC09IHNraWxsLnI7XG4gICAgfVxuICB9IGVsc2UgaWYgKG9wdGlvbiA9PT0gXCJjaGVja1wiKSB7XG4gICAgbGV0IGFjdGl2ZSA9IHRydWU7XG4gICAgaWYgKHRvdGFsLmVuZXJneSA+PSB0b3RhbC5za2lsbCkge1xuICAgICAgbGV0IGNvdW50ID0gW3RydWUsIHRydWUsIHRydWUsIHRydWUsIHRydWVdO1xuICAgICAgaWYgKHNraWxsLmEgPj0gMCkge1xuICAgICAgICBjb3VudFswXSA9IGVuZXJneS5hID49IHNraWxsLmEgPyBmYWxzZSA6IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoc2tpbGwuaSA+PSAwKSB7XG4gICAgICAgIGNvdW50WzFdID0gZW5lcmd5LmkgPj0gc2tpbGwuaSA/IGZhbHNlIDogdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChza2lsbC5zID49IDApIHtcbiAgICAgICAgY291bnRbMl0gPSBlbmVyZ3kucyA+PSBza2lsbC5zID8gZmFsc2UgOiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHNraWxsLncgPj0gMCkge1xuICAgICAgICBjb3VudFszXSA9IGVuZXJneS53ID49IHNraWxsLncgPyBmYWxzZSA6IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoc2tpbGwuciA+PSAwKSB7XG4gICAgICAgIGNvdW50WzRdID0gZW5lcmd5LnIgPj0gdG90YWwuc2tpbGwgKyBza2lsbC5yID8gZmFsc2UgOiB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoY291bnQuZmlsdGVyKHggPT4geCA9PT0gZmFsc2UpLmxlbmd0aCA9PT0gNSkge1xuICAgICAgICBhY3RpdmUgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFjdGl2ZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhY3RpdmU7XG4gIH1cbn1cblxuZnVuY3Rpb24gYnV0dG9uTWFuYWdlbWVudChwYXlsb2FkLCBvcHRpb24pIHtcbiAgLy9UYXJnZXQgQnV0dG9uXG4gIGlmIChvcHRpb24gIT09IFwib25TZWxmXCIpIHtcbiAgICBpZiAocGF5bG9hZC5haW0gPT09IFwiZW5lbXlcIikge1xuICAgICAgYXBwLnN0YXRlLmJ1dHRvbi5lbmVteS5mb3JFYWNoKHggPT4ge1xuICAgICAgICAvL0RlZmluZVxuICAgICAgICBsZXQgc2tpbGwgPSBhcHAuc291cmNlLmFsbHlbcGF5bG9hZC5oZXJvSW5kZXhdLnNraWxsW3BheWxvYWQuc2tpbGxdO1xuICAgICAgICBsZXQgZW5lbXlTdGF0dXMgPSBhcHAuc291cmNlLmVuZW15W3guaW5kZXhdLnN0YXR1cztcblxuICAgICAgICAvL0ludnVsbmVyYWJpbGl0eVxuICAgICAgICBsZXQgc3RhdGUgPSBlbmVteVN0YXR1cy5vblN0YXRlO1xuICAgICAgICBsZXQgaW52dWxuZXJhYmxlID0gaW52dWxuZXJhYmxlTWFuYWdlbWVudChzdGF0ZSwgc2tpbGwpO1xuXG4gICAgICAgIC8vRGlzYWJsZVxuICAgICAgICB4LmJ1dHRvbiA9IHguZGlzYWJsZWQgfHwgaW52dWxuZXJhYmxlID8gdHJ1ZSA6ICF4LmJ1dHRvbjtcblxuICAgICAgICAvL0lnbm9yZVxuICAgICAgICBsZXQgaWdub3JlID0gaWdub3JlTWFuYWdlbWVudChzdGF0ZSwgc2tpbGwpO1xuICAgICAgICBjb25zb2xlLmxvZyhpZ25vcmUpO1xuXG4gICAgICAgIC8vUHJldmVudCBJbnZ1bG5lcmFiaWxpdHlcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG9wdGlvbiA9PT0gXCJvblNraWxsXCIgJiZcbiAgICAgICAgICBlbmVteVN0YXR1cy5vblN0YXRlLnNvbWUoeCA9PiB4LnR5cGUgPT09IFwiZGlzYWJsZURySXZcIikgJiZcbiAgICAgICAgICBpZ25vcmUgPT09IGZhbHNlXG4gICAgICAgICkge1xuICAgICAgICAgIHguYnV0dG9uID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvL01hcmtpbmdcbiAgICAgICAgaWYgKHBheWxvYWQubWFya2luZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGxldCBza2lsbE5hbWUgPSBza2lsbC5uYW1lO1xuICAgICAgICAgIGxldCBtYXJraW5nID1cbiAgICAgICAgICAgIGVuZW15U3RhdHVzLm9uUmVjZWl2ZS5zb21lKHggPT4geC5uYW1lID09PSBza2lsbE5hbWUpIHx8XG4gICAgICAgICAgICBlbmVteVN0YXR1cy5vblN0YXRlLnNvbWUoeCA9PiB4Lm5hbWUgPT09IHNraWxsTmFtZSk7XG4gICAgICAgICAgaWYgKG1hcmtpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHguYnV0dG9uID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocGF5bG9hZC5haW0gPT09IFwiZW5lbXlsb2NrXCIpIHtcbiAgICAgIGFwcC5zdGF0ZS5idXR0b24uZW5lbXkuZm9yRWFjaCh4ID0+IHtcbiAgICAgICAgLy9EZWZpbmVcbiAgICAgICAgbGV0IHNraWxsID0gYXBwLnNvdXJjZS5hbGx5W3BheWxvYWQuaGVyb0luZGV4XS5za2lsbFtwYXlsb2FkLnNraWxsXTtcbiAgICAgICAgbGV0IGVuZW15U3RhdHVzID0gYXBwLnNvdXJjZS5lbmVteVt4LmluZGV4XS5zdGF0dXM7XG4gICAgICAgIGxldCBsb2NrID0gZW5lbXlTdGF0dXMub25TdGF0ZS5zb21lKFxuICAgICAgICAgIHggPT4geC50eXBlID09PSBcInN0YXRlXCIgJiYgeC5pbmZvID09PSBza2lsbC5uYW1lXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGxvY2sgPT09IHRydWUpIHtcbiAgICAgICAgICAvL0ludnVsbmVyYWJpbGl0eVxuICAgICAgICAgIGxldCBzdGF0ZSA9IGVuZW15U3RhdHVzLm9uU3RhdGU7XG4gICAgICAgICAgbGV0IGludnVsbmVyYWJsZSA9IGludnVsbmVyYWJsZU1hbmFnZW1lbnQoc3RhdGUsIHNraWxsKTtcblxuICAgICAgICAgIC8vRGlzYWJsZVxuICAgICAgICAgIHguYnV0dG9uID0geC5kaXNhYmxlZCB8fCBpbnZ1bG5lcmFibGUgPyB0cnVlIDogIXguYnV0dG9uO1xuXG4gICAgICAgICAgLy9JZ25vcmVcbiAgICAgICAgICBsZXQgaWdub3JlID0gaWdub3JlTWFuYWdlbWVudChzdGF0ZSwgc2tpbGwpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGludnVsbmVyYWJsZSk7XG5cbiAgICAgICAgICAvL1ByZXZlbnQgSW52dWxuZXJhYmlsaXR5XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgb3B0aW9uID09PSBcIm9uU2tpbGxcIiAmJlxuICAgICAgICAgICAgZW5lbXlTdGF0dXMub25TdGF0ZS5zb21lKHggPT4geC50eXBlID09PSBcImRpc2FibGVEckl2XCIpICYmXG4gICAgICAgICAgICBpZ25vcmUgPT09IGZhbHNlXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB4LmJ1dHRvbiA9IGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vTWFya2luZ1xuICAgICAgICAgIGlmIChwYXlsb2FkLm1hcmtpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGxldCBza2lsbE5hbWUgPSBza2lsbC5uYW1lO1xuICAgICAgICAgICAgbGV0IG1hcmtpbmcgPVxuICAgICAgICAgICAgICBlbmVteVN0YXR1cy5vblJlY2VpdmUuc29tZSh4ID0+IHgubmFtZSA9PT0gc2tpbGxOYW1lKSB8fFxuICAgICAgICAgICAgICBlbmVteVN0YXR1cy5vblN0YXRlLnNvbWUoeCA9PiB4Lm5hbWUgPT09IHNraWxsTmFtZSk7XG4gICAgICAgICAgICBpZiAobWFya2luZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICB4LmJ1dHRvbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgcGF5bG9hZC5haW0gPT09IFwiYWxsZW5lbXlcIiB8fFxuICAgICAgcGF5bG9hZC5haW0gPT09IFwicmFuZG9tZW5lbXlcIiB8fFxuICAgICAgcGF5bG9hZC5haW0gPT09IFwiYWxsZW5lbXlhbGxhbGx5XCJcbiAgICApIHtcbiAgICAgIGFwcC5zdGF0ZS5idXR0b24uZW5lbXkuZm9yRWFjaCh4ID0+IHtcbiAgICAgICAgLy9EZWZpbmVcbiAgICAgICAgbGV0IHNraWxsID0gYXBwLnNvdXJjZS5hbGx5W3BheWxvYWQuaGVyb0luZGV4XS5za2lsbFtwYXlsb2FkLnNraWxsXTtcbiAgICAgICAgbGV0IGVuZW15U3RhdHVzID0gYXBwLnNvdXJjZS5lbmVteVt4LmluZGV4XS5zdGF0dXM7XG5cbiAgICAgICAgLy9JbnZ1bG5lcmFiaWxpdHlcbiAgICAgICAgbGV0IHN0YXRlID0gZW5lbXlTdGF0dXMub25TdGF0ZTtcbiAgICAgICAgbGV0IGludnVsbmVyYWJsZSA9IGludnVsbmVyYWJsZU1hbmFnZW1lbnQoc3RhdGUsIHNraWxsKTtcblxuICAgICAgICAvL0Rpc2FibGVcbiAgICAgICAgeC5idXR0b24gPSB4LmRpc2FibGVkIHx8IGludnVsbmVyYWJsZSA/IHRydWUgOiAheC5idXR0b247XG5cbiAgICAgICAgLy9QcmV2ZW50IEludnVsbmVyYWJpbGl0eVxuICAgICAgICBpZiAoXG4gICAgICAgICAgb3B0aW9uID09PSBcIm9uU2tpbGxcIiAmJlxuICAgICAgICAgIGVuZW15U3RhdHVzLm9uU3RhdGUuc29tZSh4ID0+IHgudHlwZSA9PT0gXCJkaXNhYmxlRHJJdlwiKVxuICAgICAgICApIHtcbiAgICAgICAgICB4LmJ1dHRvbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHBheWxvYWQuYWltID09PSBcImFsbHlcIiB8fCBwYXlsb2FkLmFpbSA9PT0gXCJhbGxhbGx5XCIpIHtcbiAgICAgIGFwcC5zdGF0ZS5idXR0b24uYWxseS5mb3JFYWNoKFxuICAgICAgICB4ID0+ICh4LmJ1dHRvbiA9IHguZGlzYWJsZWQgPyB0cnVlIDogIXguYnV0dG9uKVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHBheWxvYWQuYWltID09PSBcIm90aGVyYWxseVwiKSB7XG4gICAgICBhcHAuc3RhdGUuYnV0dG9uLmFsbHkuZm9yRWFjaCh4ID0+IHtcbiAgICAgICAgbGV0IG5hbWUgPSBhcHAuc3RhdGUuYnV0dG9uLmFsbHlbcGF5bG9hZC5oZXJvSW5kZXhdLm5hbWU7XG4gICAgICAgIGlmICh4Lm5hbWUgIT09IG5hbWUpIHtcbiAgICAgICAgICB4LmJ1dHRvbiA9IHguZGlzYWJsZWQgPyB0cnVlIDogIXguYnV0dG9uO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHBheWxvYWQuYWltID09PSBcInNlbGZcIikge1xuICAgICAgbGV0IGFsbHkgPSBhcHAuc3RhdGUuYnV0dG9uLmFsbHlbcGF5bG9hZC5oZXJvSW5kZXhdO1xuICAgICAgYWxseS5idXR0b24gPSBhbGx5LmRpc2FibGVkID8gdHJ1ZSA6ICFhbGx5LmJ1dHRvbjtcbiAgICB9XG4gIH1cblxuICAvL1NraWxsIEJ1dHRvblxuICBpZiAob3B0aW9uID09PSBcIm9uVGFyZ2V0XCIpIHtcbiAgICBjb25zb2xlLmxvZyhcIm9uU2tpbGxcIik7XG4gICAgYXBwLnN0YXRlLmJ1dHRvbi5hbGx5LmZvckVhY2goeCA9PiB7XG4gICAgICBpZiAoeC5vblNraWxsID09PSBmYWxzZSkge1xuICAgICAgICB4LnNraWxsLmZvckVhY2gocyA9PiB7XG4gICAgICAgICAgcy5idXR0b24gPSB0cnVlO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHgubmFtZSA9PT0gcGF5bG9hZC5vZmZlbnNlICYmXG4gICAgICAgICAgICBzLm5hbWUgPT09XG4gICAgICAgICAgICAgIGFwcC5zb3VyY2UuYWxseVtwYXlsb2FkLmhlcm9JbmRleF0uc2tpbGxbcGF5bG9hZC5za2lsbF0ubmFtZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcy5idXR0b24gPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGlmIChvcHRpb24gPT09IFwib25DYW5jZWxcIikge1xuICAgIGNvbnNvbGUubG9nKFwib25DYW5jZWxcIik7XG4gICAgYXBwLnN0YXRlLmJ1dHRvbi5hbGx5LmZvckVhY2goeCA9PiB7XG4gICAgICBpZiAoeC5vblNraWxsID09PSBmYWxzZSB8fCB4Lm5hbWUgPT09IHBheWxvYWQub2ZmZW5zZSkge1xuICAgICAgICB4LnNraWxsLmZvckVhY2gocyA9PiB7XG4gICAgICAgICAgcy5idXR0b24gPSBzLmRpc2FibGVkID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHgubmFtZSA9PT0gcGF5bG9hZC5vZmZlbnNlICYmXG4gICAgICAgICAgICBzLm5hbWUgPT09XG4gICAgICAgICAgICAgIGFwcC5zb3VyY2UuYWxseVtwYXlsb2FkLmhlcm9JbmRleF0uc2tpbGxbcGF5bG9hZC5za2lsbF0ubmFtZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcy5idXR0b24gPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2UgaWYgKG9wdGlvbiA9PT0gXCJvblRhcmdldFwiKSB7XG4gICAgY29uc29sZS5sb2coXCJvblRhcmdldFwiKTtcbiAgICBhcHAuc3RhdGUuYnV0dG9uLmFsbHkuZm9yRWFjaCh4ID0+IHtcbiAgICAgIGxldCBpbmRleCA9IGFwcC5wYWNrZXQuZmluZEluZGV4KHMgPT4gcy5vZmZlbnNlID09PSB4Lm5hbWUpO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICB4LnNraWxsLmZvckVhY2gocyA9PiB7XG4gICAgICAgICAgcy5idXR0b24gPSBzLmRpc2FibGVkID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIGlmIChvcHRpb24gPT09IFwib25TZWxmXCIpIHtcbiAgICBjb25zb2xlLmxvZyhcIm9uU2VsZlwiKTtcbiAgICBhcHAuc3RhdGUuYnV0dG9uLmFsbHlbcGF5bG9hZC5oZXJvSW5kZXhdLnNraWxsLmZvckVhY2gocyA9PiB7XG4gICAgICBzLmJ1dHRvbiA9IHMuZGlzYWJsZWQgPyB0cnVlIDogZmFsc2U7XG4gICAgfSk7XG4gIH1cblxuICAvL0VuZXJneSBNYW5hZ2VtZW50XG4gIGlmIChvcHRpb24gIT09IFwib25Ta2lsbFwiKSB7XG4gICAgYXBwLnN0YXRlLmJ1dHRvbi5hbGx5LmZvckVhY2goKHgsIHhpKSA9PiB7XG4gICAgICBpZiAoeC5vblNraWxsID09PSBmYWxzZSAmJiB4Lm5hbWUgIT09IHBheWxvYWQub2ZmZW5zZSkge1xuICAgICAgICBjb25zb2xlLmxvZyh4Lm5hbWUpO1xuICAgICAgICBjb25zb2xlLmxvZyhvcHRpb24pO1xuICAgICAgICB4LnNraWxsLmZvckVhY2goKHMsIHNpKSA9PiB7XG4gICAgICAgICAgbGV0IGVuZXJneSA9IGVuZXJneU1hbmFnZW1lbnQoeyBoZXJvSW5kZXg6IHhpLCBza2lsbDogc2kgfSwgXCJjaGVja1wiKTtcbiAgICAgICAgICBzLmJ1dHRvbiA9IHMuZGlzYWJsZWQgfHwgZW5lcmd5ID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHgubmFtZSA9PT0gcGF5bG9hZC5vZmZlbnNlICYmXG4gICAgICAgICAgICBzLm5hbWUgPT09XG4gICAgICAgICAgICAgIGFwcC5zb3VyY2UuYWxseVtwYXlsb2FkLmhlcm9JbmRleF0uc2tpbGxbcGF5bG9hZC5za2lsbF0ubmFtZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcy5idXR0b24gPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoXG4gICAgICAgIChvcHRpb24gPT09IFwib25TZWxmXCIgfHwgb3B0aW9uID09PSBcIm9uQ2FuY2VsXCIpICYmXG4gICAgICAgIHgubmFtZSA9PT0gcGF5bG9hZC5vZmZlbnNlXG4gICAgICApIHtcbiAgICAgICAgeC5za2lsbC5mb3JFYWNoKChzLCBzaSkgPT4ge1xuICAgICAgICAgIGxldCBlbmVyZ3kgPSBlbmVyZ3lNYW5hZ2VtZW50KHsgaGVyb0luZGV4OiB4aSwgc2tpbGw6IHNpIH0sIFwiY2hlY2tcIik7XG4gICAgICAgICAgcy5idXR0b24gPSBzLmRpc2FibGVkIHx8IGVuZXJneSA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3R1bk1hbmFnZW1lbnQob25TdGF0ZSwgc2tpbGwpIHtcbiAgbGV0IHN0dW4gPSBvblN0YXRlLm1hcCh4ID0+IHtcbiAgICBpZiAoeC50eXBlID09PSBcInN0dW5cIikge1xuICAgICAgbGV0IGlnbm9yZSA9IGlnbm9yZU1hbmFnZW1lbnQob25TdGF0ZSwgeCk7XG4gICAgICBsZXQgaW50ZXJzZWN0ID0gXy5pbnRlcnNlY3Rpb24oeC5jbGFzc2VzLCBza2lsbC5jbGFzc2VzKTtcblxuICAgICAgbGV0IGV2YWx1YXRlO1xuXG4gICAgICBpZiAoeC5pbmZvID09PSBcImluY2x1c2l2ZVwiKSB7XG4gICAgICAgIGV2YWx1YXRlID0gaW50ZXJzZWN0Lmxlbmd0aCA+IDAgPyB0cnVlIDogZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKHguaW5mbyA9PT0gXCJkZWNsdXNpdmVcIikge1xuICAgICAgICBldmFsdWF0ZSA9IGludGVyc2VjdC5sZW5ndGggPT09IDAgPyB0cnVlIDogZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmIChldmFsdWF0ZSAmJiAhaWdub3JlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgaWYgKHN0dW4uZmlsdGVyKHggPT4geCA9PT0gdHJ1ZSkubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnZ1bG5lcmFibGVNYW5hZ2VtZW50KG9uU3RhdGUsIHNraWxsKSB7XG4gIGxldCBpbnZ1bG5lcmFibGUgPSBvblN0YXRlLm1hcCh4ID0+IHtcbiAgICBpZiAoeC50eXBlID09PSBcImludnVsbmVyYWJsZVwiKSB7XG4gICAgICBsZXQgaWdub3JlSW52dWwgPSBza2lsbC5pZ25vcmVJbnZ1bDtcbiAgICAgIGxldCBpbnRlcnNlY3QgPSBfLmludGVyc2VjdGlvbih4LmNsYXNzZXMsIHNraWxsLmNsYXNzZXMpOyAgICAgIFxuXG4gICAgICBsZXQgZXZhbHVhdGU7XG5cbiAgICAgIGlmICh4LmluZm8gPT09IFwiaW5jbHVzaXZlXCIpIHtcbiAgICAgICAgZXZhbHVhdGUgPSBpbnRlcnNlY3QubGVuZ3RoID4gMCA/IHRydWUgOiBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAoeC5pbmZvID09PSBcImRlY2x1c2l2ZVwiKSB7XG4gICAgICAgIGV2YWx1YXRlID0gaW50ZXJzZWN0Lmxlbmd0aCA9PT0gMCA/IHRydWUgOiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2YWx1YXRlICYmICFpZ25vcmVJbnZ1bCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGlmIChpbnZ1bG5lcmFibGUuZmlsdGVyKHggPT4geCA9PT0gdHJ1ZSkubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpZ25vcmVNYW5hZ2VtZW50KG9uU3RhdGUsIHNraWxsKSB7XG4gIGxldCBpZ25vcmUgPSBvblN0YXRlLm1hcCh4ID0+IHtcbiAgICBpZiAoeC50eXBlID09PSBcImlnbm9yZVwiKSB7XG4gICAgICBsZXQgaW50ZXJzZWN0ID0gXy5pbnRlcnNlY3Rpb24oeC5jbGFzc2VzLCBza2lsbC5jbGFzc2VzKTtcblxuICAgICAgbGV0IGV2YWx1YXRlO1xuXG4gICAgICBpZiAoeC5pbmZvID09PSBcImluY2x1c2l2ZVwiKSB7XG4gICAgICAgIGV2YWx1YXRlID0gaW50ZXJzZWN0Lmxlbmd0aCA+IDAgPyB0cnVlIDogZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKHguaW5mbyA9PT0gXCJkZWNsdXNpdmVcIikge1xuICAgICAgICBldmFsdWF0ZSA9IGludGVyc2VjdC5sZW5ndGggPT09IDAgPyB0cnVlIDogZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmIChldmFsdWF0ZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGlmIChpZ25vcmUuZmlsdGVyKHggPT4geCA9PT0gdHJ1ZSkubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuIiwiZnVuY3Rpb24gdnVlQmluZChwYXlsb2FkKSB7XG4gIGxldCB1c2VybmFtZSA9IGdldENvb2tpZShcInVzZXJuYW1lXCIpO1xuICBjb25zb2xlLmxvZyhwYXlsb2FkKTtcbiAgbGV0IGFsbHkgPSBwYXlsb2FkLnRlYW0udGVhbUV2ZW4gPT09IHVzZXJuYW1lID8gXCJ0ZWFtRXZlblwiIDogXCJ0ZWFtT2RkXCI7XG4gIGxldCBlbmVteSA9IHBheWxvYWQudGVhbS50ZWFtRXZlbiA9PT0gdXNlcm5hbWUgPyBcInRlYW1PZGRcIiA6IFwidGVhbUV2ZW5cIjtcbiAgbGV0IHR1cm4gPSBhbGx5ID09PSBcInRlYW1FdmVuXCIgPyAwIDogMTtcbiAgbGV0IG15VHVybiA9IHBheWxvYWQudHVybiAlIDIgPT09IHR1cm4gPyB0cnVlIDogZmFsc2U7XG5cbiAgaWYgKHBheWxvYWQudGVhbS50ZWFtRXZlbiAhPT0gdXNlcm5hbWUgJiYgcGF5bG9hZC50ZWFtLnRlYW1PZGQgIT09IHVzZXJuYW1lKSB7XG4gICAgY29uc29sZS5sb2coXCJzcGVjdGF0ZVwiKTtcbiAgICBhcHAubW9kZSA9IFwic3BlY3RhdGVcIjtcbiAgICBteVR1cm4gPSBmYWxzZTtcbiAgICAvLyByZXR1cm47XG4gIH1cblxuICBpZiAobXlUdXJuID09PSB0cnVlKSB7XG4gICAgYXBwLiRyZWZzLnNvdW5kU3RhcnRUdXJuLnBsYXkoKTtcbiAgfVxuXG4gIC8vIGlmIChwYXlsb2FkLndpbm5lci5zdGF0ZSA9PT0gdHJ1ZSAmJiBwYXlsb2FkLndpbm5lci5uYW1lID09PSB1c2VybmFtZSkge1xuICAvLyB9IGVsc2UgaWYgKFxuICAvLyAgIHBheWxvYWQud2lubmVyLnN0YXRlID09PSB0cnVlICYmXG4gIC8vICAgcGF5bG9hZC53aW5uZXIubmFtZSAhPT0gdXNlcm5hbWVcbiAgLy8gKSB7XG4gIC8vICAgYXBwLiRyZWZzLnNvdW5kTG9zZS5wbGF5KCk7XG4gIC8vIH1cblxuICBsZXQgc3RvcmUgPSB7XG4gICAgZW5lcmd5OiB7XG4gICAgICBhbGx5OiBwYXlsb2FkLmVuZXJneVthbGx5XSxcbiAgICAgIGVuZW15OiBwYXlsb2FkLmVuZXJneVtlbmVteV1cbiAgICB9LFxuICAgIGFsbHk6IHBheWxvYWRbYWxseV0ubWFwKHggPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ueCxcbiAgICAgICAgaW5kaWNhdG9yOiBzdGF0dXNWaWV3KHgubmFtZSwgeC5zdGF0dXMpXG4gICAgICB9O1xuICAgIH0pLFxuICAgIGVuZW15OiBwYXlsb2FkW2VuZW15XS5tYXAoeCA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi54LFxuICAgICAgICBpbmRpY2F0b3I6IHN0YXR1c1ZpZXcoeC5uYW1lLCB4LnN0YXR1cylcbiAgICAgIH07XG4gICAgfSksXG4gICAgdHVybjogcGF5bG9hZC50dXJuLFxuICAgIG15VHVybjogbXlUdXJuLFxuICAgIHJvb206IHBheWxvYWQucm9vbSxcbiAgICBtZXRhOiB7XG4gICAgICBteU5hbWU6IHBheWxvYWQudGVhbVthbGx5XSxcbiAgICAgIHRoZWlyTmFtZTogcGF5bG9hZC50ZWFtW2VuZW15XVxuICAgIH0sXG4gICAgdGltZXN0YW1wOiBwYXlsb2FkLnRpbWVzdGFtcFxuICB9O1xuICBzdG9yZS5lbmVyZ3kuYWxseS5yID1cbiAgICBzdG9yZS5lbmVyZ3kuYWxseS5hICtcbiAgICBzdG9yZS5lbmVyZ3kuYWxseS5pICtcbiAgICBzdG9yZS5lbmVyZ3kuYWxseS5zICtcbiAgICBzdG9yZS5lbmVyZ3kuYWxseS53O1xuICBjb25zb2xlLmxvZyhzdG9yZSk7XG4gIGxldCBidXR0b24gPSB7XG4gICAgYWxseTogc3RvcmUuYWxseS5tYXAoeCA9PiB7XG4gICAgICAvLyBsZXQgZGlzYWJsZWQgPSB4LnN0YXR1cy5vblN0YXRlLmZpbmRJbmRleCh4ID0+IHgudHlwZSA9PT0gJ3N0dW4nKSA+IC0xIHx8IHguaHAgPD0gMCA/IHRydWUgOiBmYWxzZVxuICAgICAgbGV0IGRpc2FibGVkID0geC5ocCA8PSAwID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgLy8gbGV0IHN0dW4gPSB4LnN0YXR1cy5vblN0YXRlLnNvbWUoeCA9PiB4LnR5cGUgPT09IFwic3R1blwiKSA/IHRydWUgOiBmYWxzZTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IHgubmFtZSxcbiAgICAgICAgYnV0dG9uOiB0cnVlLFxuICAgICAgICBvblNraWxsOiBmYWxzZSxcbiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICBza2lsbDogeC5za2lsbC5tYXAocyA9PiB7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2cocy50eXBlKTtcbiAgICAgICAgICBsZXQgZW5lcmd5ID0gZW5lcmd5TWFuYWdlbWVudChcbiAgICAgICAgICAgIHsgZW5lcmd5OiBzdG9yZS5lbmVyZ3kuYWxseSwgc2tpbGxCaW5kOiBzLmVuZXJneSB9LFxuICAgICAgICAgICAgXCJjaGVja1wiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgc3R1biA9IHN0dW5NYW5hZ2VtZW50KHguc3RhdHVzLm9uU3RhdGUsIHMpO1xuICAgICAgICAgIC8vIGxldCBkaXNhYmxlRHJWciA9XG4gICAgICAgICAgLy8gICBzLnR5cGUgPT09IFwiaW52dWxuZXJhYmxlXCIgJiZcbiAgICAgICAgICAvLyAgIHguc3RhdHVzLm9uU3RhdGUuc29tZSh4ID0+IHgudHlwZSA9PT0gXCJkaXNhYmxlRHJJdlwiKVxuICAgICAgICAgIC8vICAgICA/IHRydWVcbiAgICAgICAgICAvLyAgICAgOiBmYWxzZTtcbiAgICAgICAgICBsZXQgZGlzYWJsZWQgPVxuICAgICAgICAgICAgc3R1biB8fFxuICAgICAgICAgICAgcy5yZXF1aXJlZCB8fFxuICAgICAgICAgICAgcy5zdGF0ZSA9PT0gXCJjb29sZG93blwiIHx8XG4gICAgICAgICAgICBteVR1cm4gPT09IGZhbHNlIHx8XG4gICAgICAgICAgICB4LmhwIDw9IDBcbiAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgIDogZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IHMubmFtZSxcbiAgICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgICAgIGJ1dHRvbjogZGlzYWJsZWQgfHwgZW5lcmd5ID8gdHJ1ZSA6IGZhbHNlXG4gICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICAgIH07XG4gICAgfSksXG4gICAgZW5lbXk6IHN0b3JlLmVuZW15Lm1hcCgoeCwgaSkgPT4ge1xuICAgICAgLy8gbGV0IGRpc2FibGVkID1cbiAgICAgIC8vICAgeC5zdGF0dXMub25TdGF0ZS5zb21lKHggPT4geC50eXBlID09PSBcImludnVsbmVyYWJsZVwiKSB8fCB4LmhwIDw9IDBcbiAgICAgIC8vICAgICA/IHRydWVcbiAgICAgIC8vICAgICA6IGZhbHNlO1xuICAgICAgbGV0IGRpc2FibGVkID0geC5ocCA8PSAwID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogeC5uYW1lLFxuICAgICAgICBpbmRleDogaSxcbiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICBidXR0b246IHRydWVcbiAgICAgIH07XG4gICAgfSlcbiAgfTtcbiAgYXBwLnNvdXJjZSA9IHN0b3JlO1xuICBhcHAuc3RhdGUuYnV0dG9uID0gYnV0dG9uO1xuICBhcHAuc3RhdGUud2lubmVyID0gcGF5bG9hZC53aW5uZXI7XG5cbiAgLy9UaW1lXG4gIGxldCB0aW1lRGlmZiA9IChEYXRlLm5vdygpIC0gcGF5bG9hZC50aW1lc3RhbXApIC8gMTAwMDtcbiAgbGV0IHRpbWVDYWxjID0gNDUgLSB0aW1lRGlmZjtcbiAgbGV0IHJlbWFpbmluZyA9IDEwMCAqICh0aW1lQ2FsYyAvIDQ1KTtcbiAgY29uc29sZS5sb2cocGF5bG9hZC50aW1lc3RhbXAsIHRpbWVEaWZmLCB0aW1lQ2FsYywgcmVtYWluaW5nKTtcblxuICBpZiAocmVtYWluaW5nIDwgMCkge1xuICAgIHJlbWFpbmluZyA9IDA7XG4gIH1cbiAgYXBwLnN0YXRlLnRpbWVyLnR1cm4gPSByZW1haW5pbmc7XG59XG5cbmZ1bmN0aW9uIHN0YXR1c1ZpZXcobmFtZSwgcGF5bG9hZCkge1xuICAvLyBjb25zb2xlLmxvZyhuYW1lLCBwYXlsb2FkKTtcbiAgbGV0IHN0YXR1cyA9IF8uY29uY2F0KFxuICAgIHBheWxvYWQub25BdHRhY2ssXG4gICAgcGF5bG9hZC5vblJlY2VpdmUsXG4gICAgcGF5bG9hZC5vblN0YXRlLFxuICAgIHBheWxvYWQub25TZWxmXG4gICk7XG4gIHN0YXR1cyA9IHN0YXR1cy5maWx0ZXIoeCA9PiB4LmlzSW52aXNpYmxlID09PSBmYWxzZSk7XG4gIGxldCBncm91cEJ5TmFtZUlkID0gXy5ncm91cEJ5KHN0YXR1cywgXCJuYW1lSWRcIik7XG4gIGxldCB2YWx1ZXNCeU5hbWVJZCA9IF8udmFsdWVzKGdyb3VwQnlOYW1lSWQpO1xuICBsZXQgZ3JvdXBCeVNraWxsSW5kZXggPSB2YWx1ZXNCeU5hbWVJZC5tYXAoeCA9PiBfLmdyb3VwQnkoeCwgXCJza2lsbEluZGV4XCIpKTtcbiAgbGV0IHZhbHVlc0J5U2tpbGxJbmRleCA9IF8udmFsdWVzKGdyb3VwQnlTa2lsbEluZGV4KTtcbiAgbGV0IGNvbmNhdFZhbHVlcyA9IFtdO1xuICB2YWx1ZXNCeVNraWxsSW5kZXguZm9yRWFjaCh4ID0+IHtcbiAgICBjb25jYXRWYWx1ZXMgPSBjb25jYXRWYWx1ZXMuY29uY2F0KF8udmFsdWVzKHgpKTtcbiAgfSk7XG4gIGxldCBmaW5hbCA9IGNvbmNhdFZhbHVlcy5tYXAoeCA9PiB7XG4gICAgbGV0IGluZm8gPSB4WzBdO1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBpbmZvLm5hbWUsXG4gICAgICBuYW1lSWQ6IGluZm8ubmFtZUlkLFxuICAgICAgc2tpbGxJbmRleDogaW5mby5za2lsbEluZGV4LFxuICAgICAgYWN0aXZlOiBpbmZvLmFjdGl2ZSxcbiAgICAgIHZhbDogeFxuICAgIH07XG4gIH0pO1xuICByZXR1cm4gZmluYWw7XG59XG4iLCJmdW5jdGlvbiBpbml0aWF0ZSgpIHtcbiAgbGV0IHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KFwiL1wiKTtcbiAgbGV0IHJvb20gPSB1cmxbdXJsLmxlbmd0aCAtIDFdO1xuICBpZiAocm9vbSAhPT0gXCJcIikge1xuICAgIHNvY2tldC5lbWl0KFwiaW5pdGlhdGVcIiwge1xuICAgICAgcm9vbTogcm9vbVxuICAgIH0pO1xuICAgIGNoYXQuZW1pdChcImdhbWVJbml0aWF0ZVwiLCB7XG4gICAgICByb29tOiByb29tXG4gICAgfSk7XG4gICAgY2hhdC5lbWl0KFwibG9iYnlJbml0aWF0ZVwiKTtcbiAgfSBlbHNlIHtcbiAgICAvLyB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSgnLycpO1xuICB9XG59XG5cbmluaXRpYXRlKCk7XG5cbnNldEludGVydmFsKCgpID0+IHtcbiAgaWYgKGFwcC5zb3VyY2UudHVybiA9PSB1bmRlZmluZWQgfHwgYXBwLnN0YXRlLndpbm5lci5zdGF0ZSAhPT0gZmFsc2UpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGFwcC5zdGF0ZS50aW1lci50dXJuID4gMCkge1xuICAgIGFwcC5zdGF0ZS50aW1lci50dXJuIC09IDIuMjtcbiAgfSBlbHNlIGlmIChhcHAuc3RhdGUudGltZXIudHVybiA8PSAwICYmIGFwcC5zb3VyY2UubXlUdXJuID09PSB0cnVlKSB7XG4gICAgbGV0IHRpbWVEaWZmID0gKERhdGUubm93KCkgLSBhcHAuc291cmNlLnRpbWVzdGFtcCkgLyAxMDAwO1xuICAgIGxldCB0aW1lQ2FsYyA9IDQ1IC0gdGltZURpZmY7XG4gICAgbGV0IHJlbWFpbmluZyA9IDEwMCAqICh0aW1lQ2FsYyAvIDQ1KTtcbiAgICBjb25zb2xlLmxvZyhhcHAuc291cmNlLnRpbWVzdGFtcCwgdGltZURpZmYsIHRpbWVDYWxjLCByZW1haW5pbmcpO1xuXG4gICAgaWYgKHJlbWFpbmluZyA8PSAwKSB7XG4gICAgICBsZXQgcGF5bG9hZCA9IHtcbiAgICAgICAgZW5lcmd5OiB7XG4gICAgICAgICAgYTogMCxcbiAgICAgICAgICBpOiAwLFxuICAgICAgICAgIHM6IDAsXG4gICAgICAgICAgdzogMFxuICAgICAgICB9LFxuICAgICAgICBwYWNrZXQ6IFtdXG4gICAgICB9O1xuICAgICAgYXBwLm9uRG9uZShwYXlsb2FkKTtcbiAgICB9XG5cbiAgICAvLyBhcHAucGFja2V0ID0gYXBwLnBhY2tldC5maWx0ZXIoeCA9PiB4LnNraWxsICE9PSBudWxsICYmIHgub2ZmZW5zZSAhPT0gJycgJiYgeC50YXJnZXQgIT09ICcnICYmIHguYWltICE9PSAnJyAmJiB4Lmhlcm9JbmRleCAhPT0gbnVsbClcbiAgICAvLyBzb2NrZXQuZW1pdCgnc2VxdWVuY2UnLCB7XG4gICAgLy8gICAgIHBhY2tldDogYXBwLnBhY2tldCxcbiAgICAvLyAgICAgcm9vbTogYXBwLnNvdXJjZS5yb29tXG4gICAgLy8gfSlcbiAgICAvLyBhcHAucGFja2V0ID0gW11cbiAgfVxufSwgMTAwMCk7XG5cbndpbmRvdy5vbmZvY3VzID0gZnVuY3Rpb24oKSB7XG4gIGRvY3VtZW50LnRpdGxlID0gXCJBbmltZSBSdW1ibGVcIjtcbn07XG5cbmZ1bmN0aW9uIHNjcm9sbENoYXQoKSB7XG4gIHZhciBjb250YWluZXIgPSBhcHAuJGVsLnF1ZXJ5U2VsZWN0b3IoXCIjY2hhdFwiKTtcbiAgY29udGFpbmVyLnNjcm9sbFRvcCA9IGNvbnRhaW5lci5zY3JvbGxIZWlnaHQ7XG59XG4iLCJzb2NrZXQub24oXCJhcHBseVwiLCBwYXlsb2FkID0+IHtcbiAgZG9jdW1lbnQudGl0bGUgPSBcIighKSBBbmltZSBSdW1ibGVcIjtcbiAgdnVlQmluZChwYXlsb2FkKTtcbn0pO1xuXG5zb2NrZXQub24oXCJub01hdGNoXCIsIHBheWxvYWQgPT4ge1xuICBjb25zb2xlLmxvZyhcIm5vbmVcIik7XG4gIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKFwiL1wiKTtcbn0pO1xuXG5jaGF0Lm9uKFwiY2hhdFwiLCBwYXlsb2FkID0+IHtcbiAgaWYgKHBheWxvYWQuY2hhbm5lbCA9PT0gXCJpbmdhbWVcIikge1xuICAgIGFwcC5jaGF0LnB1c2gocGF5bG9hZC5tZXNzYWdlKTtcbiAgICBpZiAoYXBwLmNoYXRDaGFubmVsICE9PSBcImluZ2FtZVwiKSB7XG4gICAgICBhcHAuY2hhdE5vdGlmLmluZ2FtZSA9IHRydWU7XG4gICAgfVxuICB9IGVsc2UgaWYgKHBheWxvYWQuY2hhbm5lbCA9PT0gXCJsb2JieVwiKSB7XG4gICAgYXBwLmxvYmJ5Y2hhdC5wdXNoKHBheWxvYWQubWVzc2FnZSk7XG5cbiAgICBpZiAoYXBwLmNoYXRDaGFubmVsICE9PSBcImxvYmJ5XCIpIHtcbiAgICAgIGFwcC5jaGF0Tm90aWYubG9iYnkgPSB0cnVlO1xuICAgIH1cbiAgfVxufSk7XG5cbmNoYXQub24oXCJnYW1lSW5pdGlhdGVcIiwgcGF5bG9hZCA9PiB7XG4gIGFwcC5jaGF0ID0gcGF5bG9hZDtcbn0pO1xuY2hhdC5vbihcImxvYmJ5SW5pdGlhdGVcIiwgcGF5bG9hZCA9PiB7XG4gIGFwcC5sb2JieWNoYXQgPSBwYXlsb2FkO1xufSk7XG4iLCJmdW5jdGlvbiBnZXRQYXJhbWV0ZXJOYW1lKG5hbWUsIHVybCkge1xuICBpZiAoIXVybCkgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1tcXFtcXF1dL2csIFwiXFxcXCQmXCIpO1xuICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKFwiWz8mXVwiICsgbmFtZSArIFwiKD0oW14mI10qKXwmfCN8JClcIiksXG4gICAgcmVzdWx0cyA9IHJlZ2V4LmV4ZWModXJsKTtcbiAgaWYgKCFyZXN1bHRzKSByZXR1cm4gbnVsbDtcbiAgaWYgKCFyZXN1bHRzWzJdKSByZXR1cm4gXCJcIjtcbiAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChyZXN1bHRzWzJdLnJlcGxhY2UoL1xcKy9nLCBcIiBcIikpO1xufVxuXG5jb25zdCBzZXRDb29raWUgPSAobmFtZSwgdmFsdWUsIGRheXMgPSA3LCBwYXRoID0gXCIvXCIpID0+IHtcbiAgY29uc3QgZXhwaXJlcyA9IG5ldyBEYXRlKERhdGUubm93KCkgKyBkYXlzICogODY0ZTUpLnRvR01UU3RyaW5nKCk7XG4gIGRvY3VtZW50LmNvb2tpZSA9XG4gICAgbmFtZSArXG4gICAgXCI9XCIgK1xuICAgIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkgK1xuICAgIFwiOyBleHBpcmVzPVwiICtcbiAgICBleHBpcmVzICtcbiAgICBcIjsgcGF0aD1cIiArXG4gICAgcGF0aDtcbn07XG5cbmNvbnN0IGdldENvb2tpZSA9IG5hbWUgPT4ge1xuICByZXR1cm4gZG9jdW1lbnQuY29va2llLnNwbGl0KFwiOyBcIikucmVkdWNlKChyLCB2KSA9PiB7XG4gICAgY29uc3QgcGFydHMgPSB2LnNwbGl0KFwiPVwiKTtcbiAgICByZXR1cm4gcGFydHNbMF0gPT09IG5hbWUgPyBkZWNvZGVVUklDb21wb25lbnQocGFydHNbMV0pIDogcjtcbiAgfSwgXCJcIik7XG59O1xuXG5jb25zdCBkZWxldGVDb29raWUgPSAobmFtZSwgcGF0aCkgPT4ge1xuICBzZXRDb29raWUobmFtZSwgXCJcIiwgLTEsIHBhdGgpO1xufTtcbiJdfQ==
