"use strict";

var socket = io("/game");
var chat = io("/chat");
"use strict";

Vue.use(VTooltip);
var app = new Vue({
  el: "#app",
  data: {
    mode: "game",
    chat: [],
    lobbychat: [],
    chatSend: "",
    chatChannel: "ingame",
    chatNotif: {
      lobby: false,
      ingame: false
    },
    source: {
      energy: {
        ally: {}
      },
      meta: {}
    },
    packet: [],
    state: {
      skill: {
        offense: null,
        skill: null,
        target: null,
        aim: null
      },
      timer: {
        turn: 100
      },
      onSkill: false,
      button: {},
      description: null,
      winner: {
        state: false,
        name: ""
      },
      energy: {
        modal: false,
        random: 0
      },
      exchange: {
        modal: false,
        used: false,
        energy: {},
        val: ""
      }
    },
    showModal: true
  },
  methods: {
    onSurrender: function onSurrender() {
      console.log("surrender");
      socket.emit("surrender", {
        room: this.source.room
      });
    },
    onChat: function onChat() {
      var channel = this.chatChannel === "ingame" ? "ingame" : "lobby";
      var packet = {
        channel: channel,
        room: this.source.room,
        message: this.chatSend
      };
      chat.emit("chat", packet);
      this.chatSend = "";
    },
    scrollChat: function (_scrollChat) {
      function scrollChat() {
        return _scrollChat.apply(this, arguments);
      }

      scrollChat.toString = function () {
        return _scrollChat.toString();
      };

      return scrollChat;
    }(function () {
      setTimeout(function () {
        scrollChat();
      }, 100);
    }),
    onExchange: function onExchange(e) {
      //Sound
      this.$refs.soundClick.play();
      var state = this.state;
      this.source.energy.ally = e.energy;
      this.source.energy.ally.r = this.source.energy.ally.r - this.state.energy.random;
      state.exchange.energy = e.cost;
      state.exchange.modal = false;
      state.exchange.used = true;
      state.exchange.val = e.exchange;
      state.button.ally.forEach(function (x, xi) {
        if (x.onSkill === false) {
          console.log(x.name);
          x.skill.forEach(function (s, si) {
            var energy = energyManagement({
              heroIndex: xi,
              skill: si
            }, "check");
            s.button = s.disabled || energy ? true : false;
            console.log(energy, s.disabled, s.button);
          });
        }
      }); //Clean Skill Buffer

      if (state.skill.offense !== null && state.skill.target === null) {
        //Switch Choice
        //Button Management
        buttonManagement(state.skill, "onCancel"); //Clean Buffer

        state.skill = {
          offense: null,
          skill: null,
          skillId: null,
          target: null,
          aim: null,
          heroIndex: null
        };
      }
    },
    onDone: function onDone(e) {
      console.log(e); //Sound

      this.$refs.soundEndTurn.play(); //Define

      var state = this.state;
      var packet = e.packet; //Organize

      state.energy.modal = false;
      packet = packet.filter(function (x) {
        return x.skill !== null && x.offense !== null && x.target !== null && x.aim !== null && x.heroIndex !== null;
      });
      packet.unshift(e.energy);

      if (state.exchange.used === true) {
        packet.unshift({
          msg: "exchange",
          val: state.exchange.val
        }, state.exchange.energy);
        state.exchange.used = false;
      } //Send


      socket.emit("sequence", {
        packet: packet,
        room: this.source.room
      }); //Reset

      state.energy.random = 0;
      this.packet = [];
      state.skill = {
        offense: null,
        skill: null,
        skillId: null,
        target: null,
        aim: null,
        heroIndex: null
      };
    },
    onSkill: function onSkill(payload) {
      //Define and Switch State
      var state = this.state;
      var marking = this.source.ally[payload.heroIndex].skill[payload.skillIndex].marking;
      var temporary = {
        offense: payload.name,
        skill: payload.skillIndex,
        skillId: payload.skillId,
        target: null,
        aim: payload.target,
        heroIndex: payload.heroIndex,
        marking: marking
      }; //Is Skill Chosen?

      var isOnSkill = state.button.ally[temporary.heroIndex].onSkill;

      if (isOnSkill === false && state.skill.offense === null && state.skill.target === null) {
        //First Choice
        //Buffer Skill
        state.skill = temporary; //Button Management

        buttonManagement(temporary, "onSkill");
      } else if (isOnSkill === false && state.skill.offense !== null && state.skill.target === null) {
        //Switch Choice
        //Button Management
        buttonManagement(state.skill, "onCancel");
        setTimeout(function () {
          buttonManagement(temporary, "onSkill");
        }, 100); //Buffer Skill

        state.skill = temporary;
      } else if (isOnSkill === true) {
        //Cancel Choice
        energyManagement(temporary, "add"); //Button Management

        buttonManagement(state.skill, "onCancel");
        buttonManagement(temporary, "onSelf");
        this.packet = this.packet.filter(function (x) {
          return x.offense !== temporary.offense;
        }); //Clean Skill Buffer

        state.skill = {
          offense: null,
          skill: null,
          skillId: null,
          target: null,
          aim: null,
          heroIndex: null
        }; //State Management

        state.button.ally[temporary.heroIndex].onSkill = false;
      }
    },
    onTarget: function onTarget(payload) {
      //Sound
      this.$refs.soundClick.play(); //Define State

      var state = this.state; //Buffer Skill

      if (state.skill.aim === "allenemy" || state.skill.aim === "randomenemy") {
        console.log(state.button.enemy);
        state.skill.target = state.button.enemy.filter(function (x) {
          return x.button !== true && x.name !== payload.name;
        }).map(function (x) {
          return x.name;
        });
        state.skill.target.unshift(payload.name);
      } else if (state.skill.aim === "allally") {
        state.skill.target = state.button.ally.map(function (x) {
          return x.name;
        });
      } else if (state.skill.aim === "allenemyallally") {
        state.skill.target = state.button.enemy.filter(function (x) {
          return x.button !== true && x.name !== payload.name;
        }).map(function (x) {
          return x.name;
        });
        state.skill.target.unshift(payload.name);
        var ally = state.button.ally.map(function (x) {
          return x.name;
        });
        state.skill.target = state.skill.target.concat(ally);
      } else if (state.skill.aim === "otherally") {
        state.skill.target = state.button.ally.filter(function (x) {
          return x.name !== state.skill.offense;
        }).map(function (x) {
          return x.name;
        });
      } else {
        state.skill.target = [payload.name];
      } //Register Skill


      this.packet.push(this.state.skill); //Energy Management

      energyManagement(state.skill, "substract"); //Button Management
      // buttonManagement(state.skill, "onSkill");

      buttonManagement(state.skill, "onTarget"); //State Management

      state.button.ally[state.skill.heroIndex].onSkill = true; //Clean Skill Buffer

      state.skill = {
        offense: null,
        skill: null,
        skillId: null,
        target: null,
        aim: null,
        heroIndex: null
      };
    },
    onAttack: function onAttack(payload) {
      //Sound
      this.$refs.soundClick.play();
      this.state.energy.modal = true;
    },
    onDescription: function onDescription(payload) {
      var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;

      if (option === undefined) {
        option = "ally";
      }

      console.log(payload); //Sound

      this.$refs.soundClick.play(); //Define

      var config = {
        nameId: payload.nameId,
        skill: payload.skillIndex,
        skillId: payload.skillId,
        heroIndex: payload.heroIndex,
        option: option
      };
      var skill = this.source[config.option][config.heroIndex].skill[config.skill]; //Map Description

      var map = {
        name: skill.name,
        energy: {
          a: skill.energy.a,
          i: skill.energy.i,
          s: skill.energy.s,
          w: skill.energy.w,
          r: skill.energy.r,
          total: skill.energy.a + skill.energy.i + skill.energy.s + skill.energy.w + skill.energy.r
        },
        description: skill.description,
        classes: skill.classes,
        cooldown: skill.cooldown
      }; //Buffer Description

      var state = this.state;
      state.description = {
        nameId: config.nameId,
        skill: config.skillId,
        heroIndex: config.heroIndex,
        map: map
      };
    },
    onStatus: function onStatus(payload) {
      console.log(payload);

      var status = _.concat(payload.onAttack, payload.onReceive, payload.onState, payload.onSelf);

      console.log(status);

      var group = _.groupBy(status, "nameId");

      console.log(group);

      var subgroup = _.toArray(group).map(function (x) {
        return _.toArray(_.groupBy(x, "skillIndex"));
      });

      var prep = subgroup.map(function (x) {
        return x[0];
      });
      var final = prep.map(function (x) {
        console.log(x[0]);
        var info = x[0];
        return {
          nameId: info.nameId,
          status: info.skillIndex,
          val: x
        };
      });
      console.log(prep);
      console.log(final);
      return final; // let subgroup = group.map(x => _.groupBy(x, "skillIndex"));
    },
    onGetImage: function onGetImage(payload, option) {
      if (option === "packet") {
        var index = this.source.ally.findIndex(function (x) {
          return x.name === payload.offense;
        });
        var nameId = this.source.ally[index].nameId;
        return "/assets/character/" + nameId.slice(0, -1) + "/skill" + (payload.skill + 1) + "/avatar.jpg";
      } else if (option === "char") {
        return "/assets/character/" + payload.nameId.slice(0, -1) + "/avatar.jpg";
      } else if (option === "skill") {
        return "/assets/character/" + payload.nameId.slice(0, -1) + "/skill" + (payload.skill + 1) + "/avatar.jpg";
      } else if (option === "status") {
        return "/assets/character/" + payload.nameId.slice(0, -1) + "/skill" + payload.skill + "/avatar.jpg";
      } else if (option === "targeting") {
        var _index = this.packet.findIndex(function (x) {
          return x.offense === payload.name;
        });

        var skillId = this.packet[_index].skillId;
        return "/assets/character/" + payload.nameId.slice(0, -1) + "/skill" + (skillId + 1) + "/avatar.jpg";
      }
    },
    targetingCue: function targetingCue(payload, nameId) {
      var name = payload;
      var index = this.packet.findIndex(function (x) {
        return x.offense === payload;
      });
      var packet = this.packet[index];
      var result = {
        name: name,
        skillIndex: packet.skill,
        skillId: packet.skillId,
        heroIndex: packet.heroIndex,
        target: packet.target
      };

      if (nameId) {
        result.nameId = nameId;
      }

      console.log(result);
      return result;
    },
    onHP: function onHP(hp) {
      if (hp > 70) {
        return "l--hp-full";
      } else if (hp <= 70 && hp >= 40) {
        return "l--hp-mid";
      } else {
        return "l--hp-low";
      }
    }
  }
});
"use strict";

function energyManagement(temporary, option) {
  var energy = temporary.energy ? temporary.energy : app.source.energy.ally;
  var skill = temporary.skillBind ? temporary.skillBind : app.source.ally[temporary.heroIndex].skill[temporary.skill].energy;
  var total = {
    energy: energy.a + energy.i + energy.s + energy.w,
    skill: skill.a + skill.i + skill.s + skill.w
  };

  if (option === "substract") {
    if (skill.a > 0) {
      energy.a -= skill.a;
      energy.r -= skill.a;
    }

    if (skill.i > 0) {
      energy.i -= skill.i;
      energy.r -= skill.i;
    }

    if (skill.s > 0) {
      energy.s -= skill.s;
      energy.r -= skill.s;
    }

    if (skill.w > 0) {
      energy.w -= skill.w;
      energy.r -= skill.w;
    }

    if (skill.r > 0) {
      energy.r -= skill.r;
      app.state.energy.random += skill.r;
    }
  } else if (option === "add") {
    if (skill.a > 0) {
      energy.a += skill.a;
      energy.r += skill.a;
    }

    if (skill.i > 0) {
      energy.i += skill.i;
      energy.r += skill.i;
    }

    if (skill.s > 0) {
      energy.s += skill.s;
      energy.r += skill.s;
    }

    if (skill.w > 0) {
      energy.w += skill.w;
      energy.r += skill.w;
    }

    if (skill.r > 0) {
      energy.r += skill.r;
      app.state.energy.random -= skill.r;
    }
  } else if (option === "check") {
    var active = true;

    if (total.energy >= total.skill) {
      var count = [true, true, true, true, true];

      if (skill.a >= 0) {
        count[0] = energy.a >= skill.a ? false : true;
      }

      if (skill.i >= 0) {
        count[1] = energy.i >= skill.i ? false : true;
      }

      if (skill.s >= 0) {
        count[2] = energy.s >= skill.s ? false : true;
      }

      if (skill.w >= 0) {
        count[3] = energy.w >= skill.w ? false : true;
      }

      if (skill.r >= 0) {
        count[4] = energy.r >= total.skill + skill.r ? false : true;
      }

      if (count.filter(function (x) {
        return x === false;
      }).length === 5) {
        active = false;
      } else {
        active = true;
      }
    }

    return active;
  }
}

function buttonManagement(payload, option) {
  //Target Button
  if (option !== "onSelf") {
    if (payload.aim === "enemy") {
      app.state.button.enemy.forEach(function (x) {
        //Define
        var skill = app.source.ally[payload.heroIndex].skill[payload.skill];
        var enemyStatus = app.source.enemy[x.index].status; //Invulnerability

        var state = enemyStatus.onState;
        var invulnerable = invulnerableManagement(state, skill); //Disable

        x.button = x.disabled || invulnerable ? true : !x.button; //Ignore

        var ignore = ignoreManagement(state, skill);
        console.log(ignore); //Prevent Invulnerability

        if (option === "onSkill" && enemyStatus.onState.some(function (x) {
          return x.type === "disableDrIv";
        }) && ignore === false) {
          x.button = false;
        } //Marking


        if (payload.marking === true) {
          var skillName = skill.name;
          var marking = enemyStatus.onReceive.some(function (x) {
            return x.name === skillName;
          }) || enemyStatus.onState.some(function (x) {
            return x.name === skillName;
          });

          if (marking === true) {
            x.button = true;
          }
        }
      });
    } else if (payload.aim === "enemylock") {
      app.state.button.enemy.forEach(function (x) {
        //Define
        var skill = app.source.ally[payload.heroIndex].skill[payload.skill];
        var enemyStatus = app.source.enemy[x.index].status;
        var lock = enemyStatus.onState.some(function (x) {
          return x.type === "state" && x.info === skill.name;
        });

        if (lock === true) {
          //Invulnerability
          var state = enemyStatus.onState;
          var invulnerable = invulnerableManagement(state, skill); //Disable

          x.button = x.disabled || invulnerable ? true : !x.button; //Ignore

          var ignore = ignoreManagement(state, skill);
          console.log(invulnerable); //Prevent Invulnerability

          if (option === "onSkill" && enemyStatus.onState.some(function (x) {
            return x.type === "disableDrIv";
          }) && ignore === false) {
            x.button = false;
          } //Marking


          if (payload.marking === true) {
            var skillName = skill.name;
            var marking = enemyStatus.onReceive.some(function (x) {
              return x.name === skillName;
            }) || enemyStatus.onState.some(function (x) {
              return x.name === skillName;
            });

            if (marking === true) {
              x.button = true;
            }
          }
        }
      });
    } else if (payload.aim === "allenemy" || payload.aim === "randomenemy" || payload.aim === "allenemyallally") {
      app.state.button.enemy.forEach(function (x) {
        //Define
        var skill = app.source.ally[payload.heroIndex].skill[payload.skill];
        var enemyStatus = app.source.enemy[x.index].status; //Invulnerability

        var state = enemyStatus.onState;
        var invulnerable = invulnerableManagement(state, skill); //Disable

        x.button = x.disabled || invulnerable ? true : !x.button; //Prevent Invulnerability

        if (option === "onSkill" && enemyStatus.onState.some(function (x) {
          return x.type === "disableDrIv";
        })) {
          x.button = false;
        }
      });
    } else if (payload.aim === "ally" || payload.aim === "allally") {
      app.state.button.ally.forEach(function (x) {
        return x.button = x.disabled ? true : !x.button;
      });
    } else if (payload.aim === "otherally") {
      app.state.button.ally.forEach(function (x) {
        var name = app.state.button.ally[payload.heroIndex].name;

        if (x.name !== name) {
          x.button = x.disabled ? true : !x.button;
        }
      });
    } else if (payload.aim === "self") {
      var ally = app.state.button.ally[payload.heroIndex];
      ally.button = ally.disabled ? true : !ally.button;
    }
  } //Skill Button


  if (option === "onTarget") {
    console.log("onSkill");
    app.state.button.ally.forEach(function (x) {
      if (x.onSkill === false) {
        x.skill.forEach(function (s) {
          s.button = true;

          if (x.name === payload.offense && s.name === app.source.ally[payload.heroIndex].skill[payload.skill].name) {
            s.button = false;
          }
        });
      }
    });
  }

  if (option === "onCancel") {
    console.log("onCancel");
    app.state.button.ally.forEach(function (x) {
      if (x.onSkill === false || x.name === payload.offense) {
        x.skill.forEach(function (s) {
          s.button = s.disabled ? true : false;

          if (x.name === payload.offense && s.name === app.source.ally[payload.heroIndex].skill[payload.skill].name) {
            s.button = false;
          }
        });
      }
    });
  } else if (option === "onTarget") {
    console.log("onTarget");
    app.state.button.ally.forEach(function (x) {
      var index = app.packet.findIndex(function (s) {
        return s.offense === x.name;
      });

      if (index < 0) {
        x.skill.forEach(function (s) {
          s.button = s.disabled ? true : false;
        });
      }
    });
  } else if (option === "onSelf") {
    console.log("onSelf");
    app.state.button.ally[payload.heroIndex].skill.forEach(function (s) {
      s.button = s.disabled ? true : false;
    });
  } //Energy Management


  if (option !== "onSkill") {
    app.state.button.ally.forEach(function (x, xi) {
      if (x.onSkill === false && x.name !== payload.offense) {
        console.log(x.name);
        console.log(option);
        x.skill.forEach(function (s, si) {
          var energy = energyManagement({
            heroIndex: xi,
            skill: si
          }, "check");
          s.button = s.disabled || energy ? true : false;

          if (x.name === payload.offense && s.name === app.source.ally[payload.heroIndex].skill[payload.skill].name) {
            s.button = false;
          }
        });
      }

      if ((option === "onSelf" || option === "onCancel") && x.name === payload.offense) {
        x.skill.forEach(function (s, si) {
          var energy = energyManagement({
            heroIndex: xi,
            skill: si
          }, "check");
          s.button = s.disabled || energy ? true : false;
        });
      }
    });
  }
}

function stunManagement(onState, skill) {
  var stun = onState.map(function (x) {
    if (x.type === "stun") {
      var ignore = ignoreManagement(onState, x);

      var intersect = _.intersection(x.classes, skill.classes);

      var evaluate;

      if (x.info === "inclusive") {
        evaluate = intersect.length > 0 ? true : false;
      } else if (x.info === "declusive") {
        evaluate = intersect.length === 0 ? true : false;
      }

      if (evaluate && !ignore) {
        return true;
      } else {
        return false;
      }
    }
  });

  if (stun.filter(function (x) {
    return x === true;
  }).length > 0) {
    return true;
  } else {
    return false;
  }
}

function invulnerableManagement(onState, skill) {
  var invulnerable = onState.map(function (x) {
    if (x.type === "invulnerable") {
      var ignoreInvul = skill.ignoreInvul;

      var intersect = _.intersection(x.classes, skill.classes);

      var evaluate;

      if (x.info === "inclusive") {
        evaluate = intersect.length > 0 ? true : false;
      } else if (x.info === "declusive") {
        evaluate = intersect.length === 0 ? true : false;
      }

      if (evaluate && !ignoreInvul) {
        return true;
      } else {
        return false;
      }
    }
  });

  if (invulnerable.filter(function (x) {
    return x === true;
  }).length > 0) {
    return true;
  } else {
    return false;
  }
}

function ignoreManagement(onState, skill) {
  var ignore = onState.map(function (x) {
    if (x.type === "ignore") {
      var intersect = _.intersection(x.classes, skill.classes);

      var evaluate;

      if (x.info === "inclusive") {
        evaluate = intersect.length > 0 ? true : false;
      } else if (x.info === "declusive") {
        evaluate = intersect.length === 0 ? true : false;
      }

      if (evaluate) {
        return true;
      } else {
        return false;
      }
    }
  });

  if (ignore.filter(function (x) {
    return x === true;
  }).length > 0) {
    return true;
  } else {
    return false;
  }
}
"use strict";

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function vueBind(payload) {
  var username = getCookie("username");
  console.log(payload);
  var ally = payload.team.teamEven === username ? "teamEven" : "teamOdd";
  var enemy = payload.team.teamEven === username ? "teamOdd" : "teamEven";
  var turn = ally === "teamEven" ? 0 : 1;
  var myTurn = payload.turn % 2 === turn ? true : false;

  if (payload.team.teamEven !== username && payload.team.teamOdd !== username) {
    console.log("spectate");
    app.mode = "spectate";
    myTurn = false; // return;
  }

  if (myTurn === true) {
    app.$refs.soundStartTurn.play();
  } // if (payload.winner.state === true && payload.winner.name === username) {
  // } else if (
  //   payload.winner.state === true &&
  //   payload.winner.name !== username
  // ) {
  //   app.$refs.soundLose.play();
  // }


  var store = {
    energy: {
      ally: payload.energy[ally],
      enemy: payload.energy[enemy]
    },
    ally: payload[ally].map(function (x) {
      return _objectSpread({}, x, {
        indicator: statusView(x.name, x.status)
      });
    }),
    enemy: payload[enemy].map(function (x) {
      return _objectSpread({}, x, {
        indicator: statusView(x.name, x.status)
      });
    }),
    turn: payload.turn,
    myTurn: myTurn,
    room: payload.room,
    meta: {
      myName: payload.team[ally],
      theirName: payload.team[enemy]
    },
    timestamp: payload.timestamp
  };
  store.energy.ally.r = store.energy.ally.a + store.energy.ally.i + store.energy.ally.s + store.energy.ally.w;
  console.log(store);
  var button = {
    ally: store.ally.map(function (x) {
      // let disabled = x.status.onState.findIndex(x => x.type === 'stun') > -1 || x.hp <= 0 ? true : false
      var disabled = x.hp <= 0 ? true : false; // let stun = x.status.onState.some(x => x.type === "stun") ? true : false;

      return {
        name: x.name,
        button: true,
        onSkill: false,
        disabled: disabled,
        skill: x.skill.map(function (s) {
          // console.log(s.type);
          var energy = energyManagement({
            energy: store.energy.ally,
            skillBind: s.energy
          }, "check");
          var stun = stunManagement(x.status.onState, s); // let disableDrVr =
          //   s.type === "invulnerable" &&
          //   x.status.onState.some(x => x.type === "disableDrIv")
          //     ? true
          //     : false;

          var disabled = stun || s.required || s.state === "cooldown" || myTurn === false || x.hp <= 0 ? true : false;
          return {
            name: s.name,
            disabled: disabled,
            button: disabled || energy ? true : false
          };
        })
      };
    }),
    enemy: store.enemy.map(function (x, i) {
      // let disabled =
      //   x.status.onState.some(x => x.type === "invulnerable") || x.hp <= 0
      //     ? true
      //     : false;
      var disabled = x.hp <= 0 ? true : false;
      return {
        name: x.name,
        index: i,
        disabled: disabled,
        button: true
      };
    })
  };
  app.source = store;
  app.state.button = button;
  app.state.winner = payload.winner;
  app.state.exchange.modal = false; //Time

  var timeDiff = (Date.now() - payload.timestamp) / 1000;
  var timeCalc = 45 - timeDiff;
  var remaining = 100 * (timeCalc / 45);
  console.log(payload.timestamp, timeDiff, timeCalc, remaining);

  if (remaining < 0) {
    remaining = 0;
  }

  app.state.timer.turn = remaining;
}

function statusView(name, payload) {
  // console.log(name, payload);
  var status = _.concat(payload.onAttack, payload.onReceive, payload.onState, payload.onSelf);

  status = status.filter(function (x) {
    return x.isInvisible === false;
  });

  var groupByNameId = _.groupBy(status, "nameId");

  var valuesByNameId = _.values(groupByNameId);

  var groupBySkillIndex = valuesByNameId.map(function (x) {
    return _.groupBy(x, "skillIndex");
  });

  var valuesBySkillIndex = _.values(groupBySkillIndex);

  var concatValues = [];
  valuesBySkillIndex.forEach(function (x) {
    concatValues = concatValues.concat(_.values(x));
  });
  var final = concatValues.map(function (x) {
    var info = x[0];
    return {
      name: info.name,
      nameId: info.nameId,
      skillIndex: info.skillIndex,
      active: info.active,
      val: x
    };
  });
  return final;
}
"use strict";

function initiate() {
  var url = window.location.href.split("/");
  var room = url[url.length - 1];

  if (room !== "") {
    socket.emit("initiate", {
      room: room
    });
    chat.emit("gameInitiate", {
      room: room
    });
    chat.emit("lobbyInitiate");
  } else {// window.location.replace('/');
  }
}

initiate();
setInterval(function () {
  if (app.source.turn == undefined || app.state.winner.state !== false) {
    return;
  }

  if (app.state.timer.turn > 0) {
    var timer = app.state.timer.turn - 2.2;

    if (timer < 0) {
      timer = 0;
    }

    app.state.timer.turn = timer;
  } else if (app.state.timer.turn <= 0 && app.source.myTurn === true) {
    var timeDiff = (Date.now() - app.source.timestamp) / 1000;
    var timeCalc = 45 - timeDiff;
    var remaining = 100 * (timeCalc / 45);
    console.log(app.source.timestamp, timeDiff, timeCalc, remaining);

    if (remaining <= 0 && app.state.timer.turn <= 0) {
      var payload = {
        energy: {
          a: 0,
          i: 0,
          s: 0,
          w: 0
        },
        packet: []
      };
      app.onDone(payload);
    }
  }
}, 1000);

window.onfocus = function () {
  document.title = "Anime Rumble";
};

function scrollChat() {
  var container = app.$el.querySelector("#chat");
  container.scrollTop = container.scrollHeight;
}
"use strict";

socket.on("apply", function (payload) {
  document.title = "(!) Anime Rumble";
  vueBind(payload);
});
socket.on("noMatch", function (payload) {
  console.log("none");
  window.location.replace("/");
});
chat.on("chat", function (payload) {
  if (payload.channel === "ingame") {
    app.chat.push(payload.message);

    if (app.chatChannel !== "ingame") {
      app.chatNotif.ingame = true;
    } else {
      scrollChat();
    }
  } else if (payload.channel === "lobby") {
    app.lobbychat.push(payload.message);

    if (app.chatChannel !== "lobby") {
      app.chatNotif.lobby = true;
    } else {
      scrollChat();
    }
  }
});
chat.on("gameInitiate", function (payload) {
  app.chat = payload;
  setTimeout(function () {
    scrollChat();
  }, 100);
});
chat.on("lobbyInitiate", function (payload) {
  app.lobbychat = payload;
});
"use strict";

function getParameterName(name, url) {
  if (!url) url = window.location.href;
  name = name.replace(/[\[\]]/g, "\\$&");
  var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
      results = regex.exec(url);
  if (!results) return null;
  if (!results[2]) return "";
  return decodeURIComponent(results[2].replace(/\+/g, " "));
}

var setCookie = function setCookie(name, value) {
  var days = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 7;
  var path = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : "/";
  var expires = new Date(Date.now() + days * 864e5).toGMTString();
  document.cookie = name + "=" + encodeURIComponent(value) + "; expires=" + expires + "; path=" + path;
};

var getCookie = function getCookie(name) {
  return document.cookie.split("; ").reduce(function (r, v) {
    var parts = v.split("=");
    return parts[0] === name ? decodeURIComponent(parts[1]) : r;
  }, "");
};

var deleteCookie = function deleteCookie(name, path) {
  setCookie(name, "", -1, path);
};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNldHVwLmpzIiwidnVlLmpzIiwibWFuYWdlbWVudC5qcyIsInJlbmRlcmVyLmpzIiwiZ2VuZXJhbC5qcyIsInNvY2tldC5qcyIsImhlbHBlci5qcyJdLCJuYW1lcyI6WyJzb2NrZXQiLCJpbyIsImNoYXQiLCJWdWUiLCJ1c2UiLCJWVG9vbHRpcCIsImFwcCIsImVsIiwiZGF0YSIsIm1vZGUiLCJsb2JieWNoYXQiLCJjaGF0U2VuZCIsImNoYXRDaGFubmVsIiwiY2hhdE5vdGlmIiwibG9iYnkiLCJpbmdhbWUiLCJzb3VyY2UiLCJlbmVyZ3kiLCJhbGx5IiwibWV0YSIsInBhY2tldCIsInN0YXRlIiwic2tpbGwiLCJvZmZlbnNlIiwidGFyZ2V0IiwiYWltIiwidGltZXIiLCJ0dXJuIiwib25Ta2lsbCIsImJ1dHRvbiIsImRlc2NyaXB0aW9uIiwid2lubmVyIiwibmFtZSIsIm1vZGFsIiwicmFuZG9tIiwiZXhjaGFuZ2UiLCJ1c2VkIiwidmFsIiwic2hvd01vZGFsIiwibWV0aG9kcyIsIm9uU3VycmVuZGVyIiwiY29uc29sZSIsImxvZyIsImVtaXQiLCJyb29tIiwib25DaGF0IiwiY2hhbm5lbCIsIm1lc3NhZ2UiLCJzY3JvbGxDaGF0Iiwic2V0VGltZW91dCIsIm9uRXhjaGFuZ2UiLCJlIiwiJHJlZnMiLCJzb3VuZENsaWNrIiwicGxheSIsInIiLCJjb3N0IiwiZm9yRWFjaCIsIngiLCJ4aSIsInMiLCJzaSIsImVuZXJneU1hbmFnZW1lbnQiLCJoZXJvSW5kZXgiLCJkaXNhYmxlZCIsImJ1dHRvbk1hbmFnZW1lbnQiLCJza2lsbElkIiwib25Eb25lIiwic291bmRFbmRUdXJuIiwiZmlsdGVyIiwidW5zaGlmdCIsIm1zZyIsInBheWxvYWQiLCJtYXJraW5nIiwic2tpbGxJbmRleCIsInRlbXBvcmFyeSIsImlzT25Ta2lsbCIsIm9uVGFyZ2V0IiwiZW5lbXkiLCJtYXAiLCJjb25jYXQiLCJwdXNoIiwib25BdHRhY2siLCJvbkRlc2NyaXB0aW9uIiwib3B0aW9uIiwidW5kZWZpbmVkIiwiY29uZmlnIiwibmFtZUlkIiwiYSIsImkiLCJ3IiwidG90YWwiLCJjbGFzc2VzIiwiY29vbGRvd24iLCJvblN0YXR1cyIsInN0YXR1cyIsIl8iLCJvblJlY2VpdmUiLCJvblN0YXRlIiwib25TZWxmIiwiZ3JvdXAiLCJncm91cEJ5Iiwic3ViZ3JvdXAiLCJ0b0FycmF5IiwicHJlcCIsImZpbmFsIiwiaW5mbyIsIm9uR2V0SW1hZ2UiLCJpbmRleCIsImZpbmRJbmRleCIsInNsaWNlIiwidGFyZ2V0aW5nQ3VlIiwicmVzdWx0Iiwib25IUCIsImhwIiwic2tpbGxCaW5kIiwiYWN0aXZlIiwiY291bnQiLCJsZW5ndGgiLCJlbmVteVN0YXR1cyIsImludnVsbmVyYWJsZSIsImludnVsbmVyYWJsZU1hbmFnZW1lbnQiLCJpZ25vcmUiLCJpZ25vcmVNYW5hZ2VtZW50Iiwic29tZSIsInR5cGUiLCJza2lsbE5hbWUiLCJsb2NrIiwic3R1bk1hbmFnZW1lbnQiLCJzdHVuIiwiaW50ZXJzZWN0IiwiaW50ZXJzZWN0aW9uIiwiZXZhbHVhdGUiLCJpZ25vcmVJbnZ1bCIsInZ1ZUJpbmQiLCJ1c2VybmFtZSIsImdldENvb2tpZSIsInRlYW0iLCJ0ZWFtRXZlbiIsIm15VHVybiIsInRlYW1PZGQiLCJzb3VuZFN0YXJ0VHVybiIsInN0b3JlIiwiaW5kaWNhdG9yIiwic3RhdHVzVmlldyIsIm15TmFtZSIsInRoZWlyTmFtZSIsInRpbWVzdGFtcCIsInJlcXVpcmVkIiwidGltZURpZmYiLCJEYXRlIiwibm93IiwidGltZUNhbGMiLCJyZW1haW5pbmciLCJpc0ludmlzaWJsZSIsImdyb3VwQnlOYW1lSWQiLCJ2YWx1ZXNCeU5hbWVJZCIsInZhbHVlcyIsImdyb3VwQnlTa2lsbEluZGV4IiwidmFsdWVzQnlTa2lsbEluZGV4IiwiY29uY2F0VmFsdWVzIiwiaW5pdGlhdGUiLCJ1cmwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJzcGxpdCIsInNldEludGVydmFsIiwib25mb2N1cyIsImRvY3VtZW50IiwidGl0bGUiLCJjb250YWluZXIiLCIkZWwiLCJxdWVyeVNlbGVjdG9yIiwic2Nyb2xsVG9wIiwic2Nyb2xsSGVpZ2h0Iiwib24iLCJyZXBsYWNlIiwiZ2V0UGFyYW1ldGVyTmFtZSIsInJlZ2V4IiwiUmVnRXhwIiwicmVzdWx0cyIsImV4ZWMiLCJkZWNvZGVVUklDb21wb25lbnQiLCJzZXRDb29raWUiLCJ2YWx1ZSIsImRheXMiLCJwYXRoIiwiZXhwaXJlcyIsInRvR01UU3RyaW5nIiwiY29va2llIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicmVkdWNlIiwidiIsInBhcnRzIiwiZGVsZXRlQ29va2llIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFNBQVNDLEdBQUcsT0FBSCxDQUFiO0FBQ0EsSUFBSUMsT0FBT0QsR0FBRyxPQUFILENBQVg7OztBQ0RBRSxJQUFJQyxHQUFKLENBQVFDLFFBQVI7QUFDQSxJQUFJQyxNQUFNLElBQUlILEdBQUosQ0FBUTtBQUNoQkksTUFBSSxNQURZO0FBRWhCQyxRQUFNO0FBQ0pDLFVBQU0sTUFERjtBQUVKUCxVQUFNLEVBRkY7QUFHSlEsZUFBVyxFQUhQO0FBSUpDLGNBQVUsRUFKTjtBQUtKQyxpQkFBYSxRQUxUO0FBTUpDLGVBQVc7QUFDVEMsYUFBTyxLQURFO0FBRVRDLGNBQVE7QUFGQyxLQU5QO0FBVUpDLFlBQVE7QUFDTkMsY0FBUTtBQUNOQyxjQUFNO0FBREEsT0FERjtBQUlOQyxZQUFNO0FBSkEsS0FWSjtBQWdCSkMsWUFBUSxFQWhCSjtBQWlCSkMsV0FBTztBQUNMQyxhQUFPO0FBQ0xDLGlCQUFTLElBREo7QUFFTEQsZUFBTyxJQUZGO0FBR0xFLGdCQUFRLElBSEg7QUFJTEMsYUFBSztBQUpBLE9BREY7QUFPTEMsYUFBTztBQUNMQyxjQUFNO0FBREQsT0FQRjtBQVVMQyxlQUFTLEtBVko7QUFXTEMsY0FBUSxFQVhIO0FBWUxDLG1CQUFhLElBWlI7QUFhTEMsY0FBUTtBQUNOVixlQUFPLEtBREQ7QUFFTlcsY0FBTTtBQUZBLE9BYkg7QUFpQkxmLGNB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M0IsS0FBRixDQUFRLEdBQVIsQ0FBZDtBQUNBLFdBQU80QixNQUFNLENBQU4sTUFBYWxLLElBQWIsR0FBb0J1SixtQkFBbUJXLE1BQU0sQ0FBTixDQUFuQixDQUFwQixHQUFtRDNJLENBQTFEO0FBQ0QsR0FITSxFQUdKLEVBSEksQ0FBUDtBQUlELENBTEQ7O0FBT0EsSUFBTTRJLGVBQWUsU0FBZkEsWUFBZSxDQUFDbkssSUFBRCxFQUFPMkosSUFBUCxFQUFnQjtBQUNuQ0gsWUFBVXhKLElBQVYsRUFBZ0IsRUFBaEIsRUFBb0IsQ0FBQyxDQUFyQixFQUF3QjJKLElBQXhCO0FBQ0QsQ0FGRCIsImZpbGUiOiJnYW1lLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBzb2NrZXQgPSBpbyhcIi9nYW1lXCIpO1xubGV0IGNoYXQgPSBpbyhcIi9jaGF0XCIpO1xuIiwiVnVlLnVzZShWVG9vbHRpcCk7XG5sZXQgYXBwID0gbmV3IFZ1ZSh7XG4gIGVsOiBcIiNhcHBcIixcbiAgZGF0YToge1xuICAgIG1vZGU6IFwiZ2FtZVwiLFxuICAgIGNoYXQ6IFtdLFxuICAgIGxvYmJ5Y2hhdDogW10sXG4gICAgY2hhdFNlbmQ6IFwiXCIsXG4gICAgY2hhdENoYW5uZWw6IFwiaW5nYW1lXCIsXG4gICAgY2hhdE5vdGlmOiB7XG4gICAgICBsb2JieTogZmFsc2UsXG4gICAgICBpbmdhbWU6IGZhbHNlXG4gICAgfSxcbiAgICBzb3VyY2U6IHtcbiAgICAgIGVuZXJneToge1xuICAgICAgICBhbGx5OiB7fVxuICAgICAgfSxcbiAgICAgIG1ldGE6IHt9XG4gICAgfSxcbiAgICBwYWNrZXQ6IFtdLFxuICAgIHN0YXRlOiB7XG4gICAgICBza2lsbDoge1xuICAgICAgICBvZmZlbnNlOiBudWxsLFxuICAgICAgICBza2lsbDogbnVsbCxcbiAgICAgICAgdGFyZ2V0OiBudWxsLFxuICAgICAgICBhaW06IG51bGxcbiAgICAgIH0sXG4gICAgICB0aW1lcjoge1xuICAgICAgICB0dXJuOiAxMDBcbiAgICAgIH0sXG4gICAgICBvblNraWxsOiBmYWxzZSxcbiAgICAgIGJ1dHRvbjoge30sXG4gICAgICBkZXNjcmlwdGlvbjogbnVsbCxcbiAgICAgIHdpbm5lcjoge1xuICAgICAgICBzdGF0ZTogZmFsc2UsXG4gICAgICAgIG5hbWU6IFwiXCJcbiAgICAgIH0sXG4gICAgICBlbmVyZ3k6IHtcbiAgICAgICAgbW9kYWw6IGZhbHNlLFxuICAgICAgICByYW5kb206IDBcbiAgICAgIH0sXG4gICAgICBleGNoYW5nZToge1xuICAgICAgICBtb2RhbDogZmFsc2UsXG4gICAgICAgIHVzZWQ6IGZhbHNlLFxuICAgICAgICBlbmVyZ3k6IHt9LFxuICAgICAgICB2YWw6IFwiXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIHNob3dNb2RhbDogdHJ1ZVxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgb25TdXJyZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJzdXJyZW5kZXJcIik7XG4gICAgICBzb2NrZXQuZW1pdChcInN1cnJlbmRlclwiLCB7IHJvb206IHRoaXMuc291cmNlLnJvb20gfSk7XG4gICAgfSxcbiAgICBvbkNoYXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgbGV0IGNoYW5uZWwgPSB0aGlzLmNoYXRDaGFubmVsID09PSBcImluZ2FtZVwiID8gXCJpbmdhbWVcIiA6IFwibG9iYnlcIjtcblxuICAgICAgbGV0IHBhY2tldCA9IHtcbiAgICAgICAgY2hhbm5lbDogY2hhbm5lbCxcbiAgICAgICAgcm9vbTogdGhpcy5zb3VyY2Uucm9vbSxcbiAgICAgICAgbWVzc2FnZTogdGhpcy5jaGF0U2VuZFxuICAgICAgfTtcbiAgICAgIGNoYXQuZW1pdChcImNoYXRcIiwgcGFja2V0KTtcbiAgICAgIHRoaXMuY2hhdFNlbmQgPSBcIlwiO1xuICAgIH0sXG4gICAgc2Nyb2xsQ2hhdDogZnVuY3Rpb24oKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc2Nyb2xsQ2hhdCgpO1xuICAgICAgfSwgMTAwKTtcbiAgICB9LFxuICAgIG9uRXhjaGFuZ2U6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIC8vU291bmRcbiAgICAgIHRoaXMuJHJlZnMuc291bmRDbGljay5wbGF5KCk7XG5cbiAgICAgIGxldCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICB0aGlzLnNvdXJjZS5lbmVyZ3kuYWxseSA9IGUuZW5lcmd5O1xuICAgICAgdGhpcy5zb3VyY2UuZW5lcmd5LmFsbHkuciA9XG4gICAgICAgIHRoaXMuc291cmNlLmVuZXJneS5hbGx5LnIgLSB0aGlzLnN0YXRlLmVuZXJneS5yYW5kb207XG4gICAgICBzdGF0ZS5leGNoYW5nZS5lbmVyZ3kgPSBlLmNvc3Q7XG4gICAgICBzdGF0ZS5leGNoYW5nZS5tb2RhbCA9IGZhbHNlO1xuICAgICAgc3RhdGUuZXhjaGFuZ2UudXNlZCA9IHRydWU7XG4gICAgICBzdGF0ZS5leGNoYW5nZS52YWwgPSBlLmV4Y2hhbmdlO1xuXG4gICAgICBzdGF0ZS5idXR0b24uYWxseS5mb3JFYWNoKCh4LCB4aSkgPT4ge1xuICAgICAgICBpZiAoeC5vblNraWxsID09PSBmYWxzZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKHgubmFtZSk7XG4gICAgICAgICAgeC5za2lsbC5mb3JFYWNoKChzLCBzaSkgPT4ge1xuICAgICAgICAgICAgbGV0IGVuZXJneSA9IGVuZXJneU1hbmFnZW1lbnQoXG4gICAgICAgICAgICAgIHsgaGVyb0luZGV4OiB4aSwgc2tpbGw6IHNpIH0sXG4gICAgICAgICAgICAgIFwiY2hlY2tcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHMuYnV0dG9uID0gcy5kaXNhYmxlZCB8fCBlbmVyZ3kgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlbmVyZ3ksIHMuZGlzYWJsZWQsIHMuYnV0dG9uKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vQ2xlYW4gU2tpbGwgQnVmZmVyXG4gICAgICBpZiAoc3RhdGUuc2tpbGwub2ZmZW5zZSAhPT0gbnVsbCAmJiBzdGF0ZS5za2lsbC50YXJnZXQgPT09IG51bGwpIHtcbiAgICAgICAgLy9Td2l0Y2ggQ2hvaWNlXG4gICAgICAgIC8vQnV0dG9uIE1hbmFnZW1lbnRcbiAgICAgICAgYnV0dG9uTWFuYWdlbWVudChzdGF0ZS5za2lsbCwgXCJvbkNhbmNlbFwiKTtcbiAgICAgICAgLy9DbGVhbiBCdWZmZXJcbiAgICAgICAgc3RhdGUuc2tpbGwgPSB7XG4gICAgICAgICAgb2ZmZW5zZTogbnVsbCxcbiAgICAgICAgICBza2lsbDogbnVsbCxcbiAgICAgICAgICBza2lsbElkOiBudWxsLFxuICAgICAgICAgIHRhcmdldDogbnVsbCxcbiAgICAgICAgICBhaW06IG51bGwsXG4gICAgICAgICAgaGVyb0luZGV4OiBudWxsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSxcbiAgICBvbkRvbmU6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgLy9Tb3VuZFxuICAgICAgdGhpcy4kcmVmcy5zb3VuZEVuZFR1cm4ucGxheSgpO1xuXG4gICAgICAvL0RlZmluZVxuICAgICAgbGV0IHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgIGxldCBwYWNrZXQgPSBlLnBhY2tldDtcblxuICAgICAgLy9Pcmdhbml6ZVxuICAgICAgc3RhdGUuZW5lcmd5Lm1vZGFsID0gZmFsc2U7XG4gICAgICBwYWNrZXQgPSBwYWNrZXQuZmlsdGVyKFxuICAgICAgICB4ID0+XG4gICAgICAgICAgeC5za2lsbCAhPT0gbnVsbCAmJlxuICAgICAgICAgIHgub2ZmZW5zZSAhPT0gbnVsbCAmJlxuICAgICAgICAgIHgudGFyZ2V0ICE9PSBudWxsICYmXG4gICAgICAgICAgeC5haW0gIT09IG51bGwgJiZcbiAgICAgICAgICB4Lmhlcm9JbmRleCAhPT0gbnVsbFxuICAgICAgKTtcbiAgICAgIHBhY2tldC51bnNoaWZ0KGUuZW5lcmd5KTtcbiAgICAgIGlmIChzdGF0ZS5leGNoYW5nZS51c2VkID09PSB0cnVlKSB7XG4gICAgICAgIHBhY2tldC51bnNoaWZ0KFxuICAgICAgICAgIHsgbXNnOiBcImV4Y2hhbmdlXCIsIHZhbDogc3RhdGUuZXhjaGFuZ2UudmFsIH0sXG4gICAgICAgICAgc3RhdGUuZXhjaGFuZ2UuZW5lcmd5XG4gICAgICAgICk7XG4gICAgICAgIHN0YXRlLmV4Y2hhbmdlLnVzZWQgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy9TZW5kXG4gICAgICBzb2NrZXQuZW1pdChcInNlcXVlbmNlXCIsIHtcbiAgICAgICAgcGFja2V0OiBwYWNrZXQsXG4gICAgICAgIHJvb206IHRoaXMuc291cmNlLnJvb21cbiAgICAgIH0pO1xuXG4gICAgICAvL1Jlc2V0XG4gICAgICBzdGF0ZS5lbmVyZ3kucmFuZG9tID0gMDtcbiAgICAgIHRoaXMucGFja2V0ID0gW107XG4gICAgICBzdGF0ZS5za2lsbCA9IHtcbiAgICAgICAgb2ZmZW5zZTogbnVsbCxcbiAgICAgICAgc2tpbGw6IG51bGwsXG4gICAgICAgIHNraWxsSWQ6IG51bGwsXG4gICAgICAgIHRhcmdldDogbnVsbCxcbiAgICAgICAgYWltOiBudWxsLFxuICAgICAgICBoZXJvSW5kZXg6IG51bGxcbiAgICAgIH07XG4gICAgfSxcbiAgICBvblNraWxsOiBmdW5jdGlvbihwYXlsb2FkKSB7XG4gICAgICAvL0RlZmluZSBhbmQgU3dpdGNoIFN0YXRlXG4gICAgICBsZXQgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgbGV0IG1hcmtpbmcgPSB0aGlzLnNvdXJjZS5hbGx5W3BheWxvYWQuaGVyb0luZGV4XS5za2lsbFtcbiAgICAgICAgcGF5bG9hZC5za2lsbEluZGV4XG4gICAgICBdLm1hcmtpbmc7XG4gICAgICBsZXQgdGVtcG9yYXJ5ID0ge1xuICAgICAgICBvZmZlbnNlOiBwYXlsb2FkLm5hbWUsXG4gICAgICAgIHNraWxsOiBwYXlsb2FkLnNraWxsSW5kZXgsXG4gICAgICAgIHNraWxsSWQ6IHBheWxvYWQuc2tpbGxJZCxcbiAgICAgICAgdGFyZ2V0OiBudWxsLFxuICAgICAgICBhaW06IHBheWxvYWQudGFyZ2V0LFxuICAgICAgICBoZXJvSW5kZXg6IHBheWxvYWQuaGVyb0luZGV4LFxuICAgICAgICBtYXJraW5nOiBtYXJraW5nXG4gICAgICB9O1xuXG4gICAgICAvL0lzIFNraWxsIENob3Nlbj9cbiAgICAgIGxldCBpc09uU2tpbGwgPSBzdGF0ZS5idXR0b24uYWxseVt0ZW1wb3JhcnkuaGVyb0luZGV4XS5vblNraWxsO1xuXG4gICAgICBpZiAoXG4gICAgICAgIGlzT25Ta2lsbCA9PT0gZmFsc2UgJiZcbiAgICAgICAgc3RhdGUuc2tpbGwub2ZmZW5zZSA9PT0gbnVsbCAmJlxuICAgICAgICBzdGF0ZS5za2lsbC50YXJnZXQgPT09IG51bGxcbiAgICAgICkge1xuICAgICAgICAvL0ZpcnN0IENob2ljZVxuICAgICAgICAvL0J1ZmZlciBTa2lsbFxuICAgICAgICBzdGF0ZS5za2lsbCA9IHRlbXBvcmFyeTtcbiAgICAgICAgLy9CdXR0b24gTWFuYWdlbWVudFxuICAgICAgICBidXR0b25NYW5hZ2VtZW50KHRlbXBvcmFyeSwgXCJvblNraWxsXCIpO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgaXNPblNraWxsID09PSBmYWxzZSAmJlxuICAgICAgICBzdGF0ZS5za2lsbC5vZmZlbnNlICE9PSBudWxsICYmXG4gICAgICAgIHN0YXRlLnNraWxsLnRhcmdldCA9PT0gbnVsbFxuICAgICAgKSB7XG4gICAgICAgIC8vU3dpdGNoIENob2ljZVxuICAgICAgICAvL0J1dHRvbiBNYW5hZ2VtZW50XG4gICAgICAgIGJ1dHRvbk1hbmFnZW1lbnQoc3RhdGUuc2tpbGwsIFwib25DYW5jZWxcIik7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGJ1dHRvbk1hbmFnZW1lbnQodGVtcG9yYXJ5LCBcIm9uU2tpbGxcIik7XG4gICAgICAgIH0sIDEwMCk7XG4gICAgICAgIC8vQnVmZmVyIFNraWxsXG4gICAgICAgIHN0YXRlLnNraWxsID0gdGVtcG9yYXJ5O1xuICAgICAgfSBlbHNlIGlmIChpc09uU2tpbGwgPT09IHRydWUpIHtcbiAgICAgICAgLy9DYW5jZWwgQ2hvaWNlXG4gICAgICAgIGVuZXJneU1hbmFnZW1lbnQodGVtcG9yYXJ5LCBcImFkZFwiKTtcbiAgICAgICAgLy9CdXR0b24gTWFuYWdlbWVudFxuICAgICAgICBidXR0b25NYW5hZ2VtZW50KHN0YXRlLnNraWxsLCBcIm9uQ2FuY2VsXCIpO1xuICAgICAgICBidXR0b25NYW5hZ2VtZW50KHRlbXBvcmFyeSwgXCJvblNlbGZcIik7XG4gICAgICAgIHRoaXMucGFja2V0ID0gdGhpcy5wYWNrZXQuZmlsdGVyKHggPT4geC5vZmZlbnNlICE9PSB0ZW1wb3Jhcnkub2ZmZW5zZSk7XG4gICAgICAgIC8vQ2xlYW4gU2tpbGwgQnVmZmVyXG4gICAgICAgIHN0YXRlLnNraWxsID0ge1xuICAgICAgICAgIG9mZmVuc2U6IG51bGwsXG4gICAgICAgICAgc2tpbGw6IG51bGwsXG4gICAgICAgICAgc2tpbGxJZDogbnVsbCxcbiAgICAgICAgICB0YXJnZXQ6IG51bGwsXG4gICAgICAgICAgYWltOiBudWxsLFxuICAgICAgICAgIGhlcm9JbmRleDogbnVsbFxuICAgICAgICB9O1xuICAgICAgICAvL1N0YXRlIE1hbmFnZW1lbnRcbiAgICAgICAgc3RhdGUuYnV0dG9uLmFsbHlbdGVtcG9yYXJ5Lmhlcm9JbmRleF0ub25Ta2lsbCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0sXG4gICAgb25UYXJnZXQ6IGZ1bmN0aW9uKHBheWxvYWQpIHtcbiAgICAgIC8vU291bmRcbiAgICAgIHRoaXMuJHJlZnMuc291bmRDbGljay5wbGF5KCk7XG5cbiAgICAgIC8vRGVmaW5lIFN0YXRlXG4gICAgICBsZXQgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXG4gICAgICAvL0J1ZmZlciBTa2lsbFxuICAgICAgaWYgKHN0YXRlLnNraWxsLmFpbSA9PT0gXCJhbGxlbmVteVwiIHx8IHN0YXRlLnNraWxsLmFpbSA9PT0gXCJyYW5kb21lbmVteVwiKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHN0YXRlLmJ1dHRvbi5lbmVteSk7XG4gICAgICAgIHN0YXRlLnNraWxsLnRhcmdldCA9IHN0YXRlLmJ1dHRvbi5lbmVteVxuICAgICAgICAgIC5maWx0ZXIoeCA9PiB4LmJ1dHRvbiAhPT0gdHJ1ZSAmJiB4Lm5hbWUgIT09IHBheWxvYWQubmFtZSlcbiAgICAgICAgICAubWFwKHggPT4geC5uYW1lKTtcbiAgICAgICAgc3RhdGUuc2tpbGwudGFyZ2V0LnVuc2hpZnQocGF5bG9hZC5uYW1lKTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUuc2tpbGwuYWltID09PSBcImFsbGFsbHlcIikge1xuICAgICAgICBzdGF0ZS5za2lsbC50YXJnZXQgPSBzdGF0ZS5idXR0b24uYWxseS5tYXAoeCA9PiB4Lm5hbWUpO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZS5za2lsbC5haW0gPT09IFwiYWxsZW5lbXlhbGxhbGx5XCIpIHtcbiAgICAgICAgc3RhdGUuc2tpbGwudGFyZ2V0ID0gc3RhdGUuYnV0dG9uLmVuZW15XG4gICAgICAgICAgLmZpbHRlcih4ID0+IHguYnV0dG9uICE9PSB0cnVlICYmIHgubmFtZSAhPT0gcGF5bG9hZC5uYW1lKVxuICAgICAgICAgIC5tYXAoeCA9PiB4Lm5hbWUpO1xuICAgICAgICBzdGF0ZS5za2lsbC50YXJnZXQudW5zaGlmdChwYXlsb2FkLm5hbWUpO1xuICAgICAgICBsZXQgYWxseSA9IHN0YXRlLmJ1dHRvbi5hbGx5Lm1hcCh4ID0+IHgubmFtZSk7XG4gICAgICAgIHN0YXRlLnNraWxsLnRhcmdldCA9IHN0YXRlLnNraWxsLnRhcmdldC5jb25jYXQoYWxseSk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLnNraWxsLmFpbSA9PT0gXCJvdGhlcmFsbHlcIikge1xuICAgICAgICBzdGF0ZS5za2lsbC50YXJnZXQgPSBzdGF0ZS5idXR0b24uYWxseVxuICAgICAgICAgIC5maWx0ZXIoeCA9PiB4Lm5hbWUgIT09IHN0YXRlLnNraWxsLm9mZmVuc2UpXG4gICAgICAgICAgLm1hcCh4ID0+IHgubmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS5za2lsbC50YXJnZXQgPSBbcGF5bG9hZC5uYW1lXTtcbiAgICAgIH1cbiAgICAgIC8vUmVnaXN0ZXIgU2tpbGxcbiAgICAgIHRoaXMucGFja2V0LnB1c2godGhpcy5zdGF0ZS5za2lsbCk7XG5cbiAgICAgIC8vRW5lcmd5IE1hbmFnZW1lbnRcbiAgICAgIGVuZXJneU1hbmFnZW1lbnQoc3RhdGUuc2tpbGwsIFwic3Vic3RyYWN0XCIpO1xuICAgICAgLy9CdXR0b24gTWFuYWdlbWVudFxuICAgICAgLy8gYnV0dG9uTWFuYWdlbWVudChzdGF0ZS5za2lsbCwgXCJvblNraWxsXCIpO1xuICAgICAgYnV0dG9uTWFuYWdlbWVudChzdGF0ZS5za2lsbCwgXCJvblRhcmdldFwiKTtcbiAgICAgIC8vU3RhdGUgTWFuYWdlbWVudFxuICAgICAgc3RhdGUuYnV0dG9uLmFsbHlbc3RhdGUuc2tpbGwuaGVyb0luZGV4XS5vblNraWxsID0gdHJ1ZTtcblxuICAgICAgLy9DbGVhbiBTa2lsbCBCdWZmZXJcbiAgICAgIHN0YXRlLnNraWxsID0ge1xuICAgICAgICBvZmZlbnNlOiBudWxsLFxuICAgICAgICBza2lsbDogbnVsbCxcbiAgICAgICAgc2tpbGxJZDogbnVsbCxcbiAgICAgICAgdGFyZ2V0OiBudWxsLFxuICAgICAgICBhaW06IG51bGwsXG4gICAgICAgIGhlcm9JbmRleDogbnVsbFxuICAgICAgfTtcbiAgICB9LFxuICAgIG9uQXR0YWNrOiBmdW5jdGlvbihwYXlsb2FkKSB7XG4gICAgICAvL1NvdW5kXG4gICAgICB0aGlzLiRyZWZzLnNvdW5kQ2xpY2sucGxheSgpO1xuXG4gICAgICB0aGlzLnN0YXRlLmVuZXJneS5tb2RhbCA9IHRydWU7XG4gICAgfSxcbiAgICBvbkRlc2NyaXB0aW9uOiBmdW5jdGlvbihwYXlsb2FkLCBvcHRpb24gPSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChvcHRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvcHRpb24gPSBcImFsbHlcIjtcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKHBheWxvYWQpO1xuICAgICAgLy9Tb3VuZFxuICAgICAgdGhpcy4kcmVmcy5zb3VuZENsaWNrLnBsYXkoKTtcbiAgICAgIC8vRGVmaW5lXG4gICAgICBsZXQgY29uZmlnID0ge1xuICAgICAgICBuYW1lSWQ6IHBheWxvYWQubmFtZUlkLFxuICAgICAgICBza2lsbDogcGF5bG9hZC5za2lsbEluZGV4LFxuICAgICAgICBza2lsbElkOiBwYXlsb2FkLnNraWxsSWQsXG4gICAgICAgIGhlcm9JbmRleDogcGF5bG9hZC5oZXJvSW5kZXgsXG4gICAgICAgIG9wdGlvbjogb3B0aW9uXG4gICAgICB9O1xuICAgICAgbGV0IHNraWxsID0gdGhpcy5zb3VyY2VbY29uZmlnLm9wdGlvbl1bY29uZmlnLmhlcm9JbmRleF0uc2tpbGxbXG4gICAgICAgIGNvbmZpZy5za2lsbFxuICAgICAgXTtcbiAgICAgIC8vTWFwIERlc2NyaXB0aW9uXG4gICAgICBsZXQgbWFwID0ge1xuICAgICAgICBuYW1lOiBza2lsbC5uYW1lLFxuICAgICAgICBlbmVyZ3k6IHtcbiAgICAgICAgICBhOiBza2lsbC5lbmVyZ3kuYSxcbiAgICAgICAgICBpOiBza2lsbC5lbmVyZ3kuaSxcbiAgICAgICAgICBzOiBza2lsbC5lbmVyZ3kucyxcbiAgICAgICAgICB3OiBza2lsbC5lbmVyZ3kudyxcbiAgICAgICAgICByOiBza2lsbC5lbmVyZ3kucixcbiAgICAgICAgICB0b3RhbDpcbiAgICAgICAgICAgIHNraWxsLmVuZXJneS5hICtcbiAgICAgICAgICAgIHNraWxsLmVuZXJneS5pICtcbiAgICAgICAgICAgIHNraWxsLmVuZXJneS5zICtcbiAgICAgICAgICAgIHNraWxsLmVuZXJneS53ICtcbiAgICAgICAgICAgIHNraWxsLmVuZXJneS5yXG4gICAgICAgIH0sXG4gICAgICAgIGRlc2NyaXB0aW9uOiBza2lsbC5kZXNjcmlwdGlvbixcbiAgICAgICAgY2xhc3Nlczogc2tpbGwuY2xhc3NlcyxcbiAgICAgICAgY29vbGRvd246IHNraWxsLmNvb2xkb3duXG4gICAgICB9O1xuXG4gICAgICAvL0J1ZmZlciBEZXNjcmlwdGlvblxuICAgICAgbGV0IHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgIHN0YXRlLmRlc2NyaXB0aW9uID0ge1xuICAgICAgICBuYW1lSWQ6IGNvbmZpZy5uYW1lSWQsXG4gICAgICAgIHNraWxsOiBjb25maWcuc2tpbGxJZCxcbiAgICAgICAgaGVyb0luZGV4OiBjb25maWcuaGVyb0luZGV4LFxuICAgICAgICBtYXA6IG1hcFxuICAgICAgfTtcbiAgICB9LFxuICAgIG9uU3RhdHVzOiBmdW5jdGlvbihwYXlsb2FkKSB7XG4gICAgICBjb25zb2xlLmxvZyhwYXlsb2FkKTtcbiAgICAgIGxldCBzdGF0dXMgPSBfLmNvbmNhdChcbiAgICAgICAgcGF5bG9hZC5vbkF0dGFjayxcbiAgICAgICAgcGF5bG9hZC5vblJlY2VpdmUsXG4gICAgICAgIHBheWxvYWQub25TdGF0ZSxcbiAgICAgICAgcGF5bG9hZC5vblNlbGZcbiAgICAgICk7XG4gICAgICBjb25zb2xlLmxvZyhzdGF0dXMpO1xuICAgICAgbGV0IGdyb3VwID0gXy5ncm91cEJ5KHN0YXR1cywgXCJuYW1lSWRcIik7XG4gICAgICBjb25zb2xlLmxvZyhncm91cCk7XG4gICAgICBsZXQgc3ViZ3JvdXAgPSBfLnRvQXJyYXkoZ3JvdXApLm1hcCh4ID0+XG4gICAgICAgIF8udG9BcnJheShfLmdyb3VwQnkoeCwgXCJza2lsbEluZGV4XCIpKVxuICAgICAgKTtcbiAgICAgIGxldCBwcmVwID0gc3ViZ3JvdXAubWFwKHggPT4geFswXSk7XG4gICAgICBsZXQgZmluYWwgPSBwcmVwLm1hcCh4ID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coeFswXSk7XG4gICAgICAgIGxldCBpbmZvID0geFswXTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuYW1lSWQ6IGluZm8ubmFtZUlkLFxuICAgICAgICAgIHN0YXR1czogaW5mby5za2lsbEluZGV4LFxuICAgICAgICAgIHZhbDogeFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhwcmVwKTtcbiAgICAgIGNvbnNvbGUubG9nKGZpbmFsKTtcbiAgICAgIHJldHVybiBmaW5hbDtcbiAgICAgIC8vIGxldCBzdWJncm91cCA9IGdyb3VwLm1hcCh4ID0+IF8uZ3JvdXBCeSh4LCBcInNraWxsSW5kZXhcIikpO1xuICAgIH0sXG4gICAgb25HZXRJbWFnZTogZnVuY3Rpb24ocGF5bG9hZCwgb3B0aW9uKSB7XG4gICAgICBpZiAob3B0aW9uID09PSBcInBhY2tldFwiKSB7XG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMuc291cmNlLmFsbHkuZmluZEluZGV4KHggPT4geC5uYW1lID09PSBwYXlsb2FkLm9mZmVuc2UpO1xuICAgICAgICBsZXQgbmFtZUlkID0gdGhpcy5zb3VyY2UuYWxseVtpbmRleF0ubmFtZUlkO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgXCIvYXNzZXRzL2NoYXJhY3Rlci9cIiArXG4gICAgICAgICAgbmFtZUlkLnNsaWNlKDAsIC0xKSArXG4gICAgICAgICAgXCIvc2tpbGxcIiArXG4gICAgICAgICAgKHBheWxvYWQuc2tpbGwgKyAxKSArXG4gICAgICAgICAgXCIvYXZhdGFyLmpwZ1wiXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKG9wdGlvbiA9PT0gXCJjaGFyXCIpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBcIi9hc3NldHMvY2hhcmFjdGVyL1wiICsgcGF5bG9hZC5uYW1lSWQuc2xpY2UoMCwgLTEpICsgXCIvYXZhdGFyLmpwZ1wiXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKG9wdGlvbiA9PT0gXCJza2lsbFwiKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgXCIvYXNzZXRzL2NoYXJhY3Rlci9cIiArXG4gICAgICAgICAgcGF5bG9hZC5uYW1lSWQuc2xpY2UoMCwgLTEpICtcbiAgICAgICAgICBcIi9za2lsbFwiICtcbiAgICAgICAgICAocGF5bG9hZC5za2lsbCArIDEpICtcbiAgICAgICAgICBcIi9hdmF0YXIuanBnXCJcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9uID09PSBcInN0YXR1c1wiKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgXCIvYXNzZXRzL2NoYXJhY3Rlci9cIiArXG4gICAgICAgICAgcGF5bG9hZC5uYW1lSWQuc2xpY2UoMCwgLTEpICtcbiAgICAgICAgICBcIi9za2lsbFwiICtcbiAgICAgICAgICBwYXlsb2FkLnNraWxsICtcbiAgICAgICAgICBcIi9hdmF0YXIuanBnXCJcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9uID09PSBcInRhcmdldGluZ1wiKSB7XG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMucGFja2V0LmZpbmRJbmRleCh4ID0+IHgub2ZmZW5zZSA9PT0gcGF5bG9hZC5uYW1lKTtcbiAgICAgICAgbGV0IHNraWxsSWQgPSB0aGlzLnBhY2tldFtpbmRleF0uc2tpbGxJZDtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBcIi9hc3NldHMvY2hhcmFjdGVyL1wiICtcbiAgICAgICAgICBwYXlsb2FkLm5hbWVJZC5zbGljZSgwLCAtMSkgK1xuICAgICAgICAgIFwiL3NraWxsXCIgK1xuICAgICAgICAgIChza2lsbElkICsgMSkgK1xuICAgICAgICAgIFwiL2F2YXRhci5qcGdcIlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0sXG4gICAgdGFyZ2V0aW5nQ3VlOiBmdW5jdGlvbihwYXlsb2FkLCBuYW1lSWQpIHtcbiAgICAgIGxldCBuYW1lID0gcGF5bG9hZDtcbiAgICAgIGxldCBpbmRleCA9IHRoaXMucGFja2V0LmZpbmRJbmRleCh4ID0+IHgub2ZmZW5zZSA9PT0gcGF5bG9hZCk7XG4gICAgICBsZXQgcGFja2V0ID0gdGhpcy5wYWNrZXRbaW5kZXhdO1xuXG4gICAgICBsZXQgcmVzdWx0ID0ge1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBza2lsbEluZGV4OiBwYWNrZXQuc2tpbGwsXG4gICAgICAgIHNraWxsSWQ6IHBhY2tldC5za2lsbElkLFxuICAgICAgICBoZXJvSW5kZXg6IHBhY2tldC5oZXJvSW5kZXgsXG4gICAgICAgIHRhcmdldDogcGFja2V0LnRhcmdldFxuICAgICAgfTtcblxuICAgICAgaWYgKG5hbWVJZCkge1xuICAgICAgICByZXN1bHQubmFtZUlkID0gbmFtZUlkO1xuICAgICAgfVxuICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuICAgIG9uSFA6IGZ1bmN0aW9uKGhwKSB7XG4gICAgICBpZiAoaHAgPiA3MCkge1xuICAgICAgICByZXR1cm4gXCJsLS1ocC1mdWxsXCI7XG4gICAgICB9IGVsc2UgaWYgKGhwIDw9IDcwICYmIGhwID49IDQwKSB7XG4gICAgICAgIHJldHVybiBcImwtLWhwLW1pZFwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFwibC0taHAtbG93XCI7XG4gICAgICB9XG4gICAgfVxuICB9XG59KTtcbiIsImZ1bmN0aW9uIGVuZXJneU1hbmFnZW1lbnQodGVtcG9yYXJ5LCBvcHRpb24pIHtcbiAgbGV0IGVuZXJneSA9IHRlbXBvcmFyeS5lbmVyZ3kgPyB0ZW1wb3JhcnkuZW5lcmd5IDogYXBwLnNvdXJjZS5lbmVyZ3kuYWxseTtcbiAgbGV0IHNraWxsID0gdGVtcG9yYXJ5LnNraWxsQmluZFxuICAgID8gdGVtcG9yYXJ5LnNraWxsQmluZFxuICAgIDogYXBwLnNvdXJjZS5hbGx5W3RlbXBvcmFyeS5oZXJvSW5kZXhdLnNraWxsW3RlbXBvcmFyeS5za2lsbF0uZW5lcmd5O1xuICBsZXQgdG90YWwgPSB7XG4gICAgZW5lcmd5OiBlbmVyZ3kuYSArIGVuZXJneS5pICsgZW5lcmd5LnMgKyBlbmVyZ3kudyxcbiAgICBza2lsbDogc2tpbGwuYSArIHNraWxsLmkgKyBza2lsbC5zICsgc2tpbGwud1xuICB9O1xuXG4gIGlmIChvcHRpb24gPT09IFwic3Vic3RyYWN0XCIpIHtcbiAgICBpZiAoc2tpbGwuYSA+IDApIHtcbiAgICAgIGVuZXJneS5hIC09IHNraWxsLmE7XG4gICAgICBlbmVyZ3kuciAtPSBza2lsbC5hO1xuICAgIH1cbiAgICBpZiAoc2tpbGwuaSA+IDApIHtcbiAgICAgIGVuZXJneS5pIC09IHNraWxsLmk7XG4gICAgICBlbmVyZ3kuciAtPSBza2lsbC5pO1xuICAgIH1cbiAgICBpZiAoc2tpbGwucyA+IDApIHtcbiAgICAgIGVuZXJneS5zIC09IHNraWxsLnM7XG4gICAgICBlbmVyZ3kuciAtPSBza2lsbC5zO1xuICAgIH1cbiAgICBpZiAoc2tpbGwudyA+IDApIHtcbiAgICAgIGVuZXJneS53IC09IHNraWxsLnc7XG4gICAgICBlbmVyZ3kuciAtPSBza2lsbC53O1xuICAgIH1cbiAgICBpZiAoc2tpbGwuciA+IDApIHtcbiAgICAgIGVuZXJneS5yIC09IHNraWxsLnI7XG4gICAgICBhcHAuc3RhdGUuZW5lcmd5LnJhbmRvbSArPSBza2lsbC5yO1xuICAgIH1cbiAgfSBlbHNlIGlmIChvcHRpb24gPT09IFwiYWRkXCIpIHtcbiAgICBpZiAoc2tpbGwuYSA+IDApIHtcbiAgICAgIGVuZXJneS5hICs9IHNraWxsLmE7XG4gICAgICBlbmVyZ3kuciArPSBza2lsbC5hO1xuICAgIH1cbiAgICBpZiAoc2tpbGwuaSA+IDApIHtcbiAgICAgIGVuZXJneS5pICs9IHNraWxsLmk7XG4gICAgICBlbmVyZ3kuciArPSBza2lsbC5pO1xuICAgIH1cbiAgICBpZiAoc2tpbGwucyA+IDApIHtcbiAgICAgIGVuZXJneS5zICs9IHNraWxsLnM7XG4gICAgICBlbmVyZ3kuciArPSBza2lsbC5zO1xuICAgIH1cbiAgICBpZiAoc2tpbGwudyA+IDApIHtcbiAgICAgIGVuZXJneS53ICs9IHNraWxsLnc7XG4gICAgICBlbmVyZ3kuciArPSBza2lsbC53O1xuICAgIH1cbiAgICBpZiAoc2tpbGwuciA+IDApIHtcbiAgICAgIGVuZXJneS5yICs9IHNraWxsLnI7XG4gICAgICBhcHAuc3RhdGUuZW5lcmd5LnJhbmRvbSAtPSBza2lsbC5yO1xuICAgIH1cbiAgfSBlbHNlIGlmIChvcHRpb24gPT09IFwiY2hlY2tcIikge1xuICAgIGxldCBhY3RpdmUgPSB0cnVlO1xuICAgIGlmICh0b3RhbC5lbmVyZ3kgPj0gdG90YWwuc2tpbGwpIHtcbiAgICAgIGxldCBjb3VudCA9IFt0cnVlLCB0cnVlLCB0cnVlLCB0cnVlLCB0cnVlXTtcbiAgICAgIGlmIChza2lsbC5hID49IDApIHtcbiAgICAgICAgY291bnRbMF0gPSBlbmVyZ3kuYSA+PSBza2lsbC5hID8gZmFsc2UgOiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHNraWxsLmkgPj0gMCkge1xuICAgICAgICBjb3VudFsxXSA9IGVuZXJneS5pID49IHNraWxsLmkgPyBmYWxzZSA6IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoc2tpbGwucyA+PSAwKSB7XG4gICAgICAgIGNvdW50WzJdID0gZW5lcmd5LnMgPj0gc2tpbGwucyA/IGZhbHNlIDogdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChza2lsbC53ID49IDApIHtcbiAgICAgICAgY291bnRbM10gPSBlbmVyZ3kudyA+PSBza2lsbC53ID8gZmFsc2UgOiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHNraWxsLnIgPj0gMCkge1xuICAgICAgICBjb3VudFs0XSA9IGVuZXJneS5yID49IHRvdGFsLnNraWxsICsgc2tpbGwuciA/IGZhbHNlIDogdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNvdW50LmZpbHRlcih4ID0+IHggPT09IGZhbHNlKS5sZW5ndGggPT09IDUpIHtcbiAgICAgICAgYWN0aXZlID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY3RpdmUgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYWN0aXZlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGJ1dHRvbk1hbmFnZW1lbnQocGF5bG9hZCwgb3B0aW9uKSB7XG4gIC8vVGFyZ2V0IEJ1dHRvblxuICBpZiAob3B0aW9uICE9PSBcIm9uU2VsZlwiKSB7XG4gICAgaWYgKHBheWxvYWQuYWltID09PSBcImVuZW15XCIpIHtcbiAgICAgIGFwcC5zdGF0ZS5idXR0b24uZW5lbXkuZm9yRWFjaCh4ID0+IHtcbiAgICAgICAgLy9EZWZpbmVcbiAgICAgICAgbGV0IHNraWxsID0gYXBwLnNvdXJjZS5hbGx5W3BheWxvYWQuaGVyb0luZGV4XS5za2lsbFtwYXlsb2FkLnNraWxsXTtcbiAgICAgICAgbGV0IGVuZW15U3RhdHVzID0gYXBwLnNvdXJjZS5lbmVteVt4LmluZGV4XS5zdGF0dXM7XG5cbiAgICAgICAgLy9JbnZ1bG5lcmFiaWxpdHlcbiAgICAgICAgbGV0IHN0YXRlID0gZW5lbXlTdGF0dXMub25TdGF0ZTtcbiAgICAgICAgbGV0IGludnVsbmVyYWJsZSA9IGludnVsbmVyYWJsZU1hbmFnZW1lbnQoc3RhdGUsIHNraWxsKTtcblxuICAgICAgICAvL0Rpc2FibGVcbiAgICAgICAgeC5idXR0b24gPSB4LmRpc2FibGVkIHx8IGludnVsbmVyYWJsZSA/IHRydWUgOiAheC5idXR0b247XG5cbiAgICAgICAgLy9JZ25vcmVcbiAgICAgICAgbGV0IGlnbm9yZSA9IGlnbm9yZU1hbmFnZW1lbnQoc3RhdGUsIHNraWxsKTtcbiAgICAgICAgY29uc29sZS5sb2coaWdub3JlKTtcblxuICAgICAgICAvL1ByZXZlbnQgSW52dWxuZXJhYmlsaXR5XG4gICAgICAgIGlmIChcbiAgICAgICAgICBvcHRpb24gPT09IFwib25Ta2lsbFwiICYmXG4gICAgICAgICAgZW5lbXlTdGF0dXMub25TdGF0ZS5zb21lKHggPT4geC50eXBlID09PSBcImRpc2FibGVEckl2XCIpICYmXG4gICAgICAgICAgaWdub3JlID09PSBmYWxzZVxuICAgICAgICApIHtcbiAgICAgICAgICB4LmJ1dHRvbiA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9NYXJraW5nXG4gICAgICAgIGlmIChwYXlsb2FkLm1hcmtpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICBsZXQgc2tpbGxOYW1lID0gc2tpbGwubmFtZTtcbiAgICAgICAgICBsZXQgbWFya2luZyA9XG4gICAgICAgICAgICBlbmVteVN0YXR1cy5vblJlY2VpdmUuc29tZSh4ID0+IHgubmFtZSA9PT0gc2tpbGxOYW1lKSB8fFxuICAgICAgICAgICAgZW5lbXlTdGF0dXMub25TdGF0ZS5zb21lKHggPT4geC5uYW1lID09PSBza2lsbE5hbWUpO1xuICAgICAgICAgIGlmIChtYXJraW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICB4LmJ1dHRvbiA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHBheWxvYWQuYWltID09PSBcImVuZW15bG9ja1wiKSB7XG4gICAgICBhcHAuc3RhdGUuYnV0dG9uLmVuZW15LmZvckVhY2goeCA9PiB7XG4gICAgICAgIC8vRGVmaW5lXG4gICAgICAgIGxldCBza2lsbCA9IGFwcC5zb3VyY2UuYWxseVtwYXlsb2FkLmhlcm9JbmRleF0uc2tpbGxbcGF5bG9hZC5za2lsbF07XG4gICAgICAgIGxldCBlbmVteVN0YXR1cyA9IGFwcC5zb3VyY2UuZW5lbXlbeC5pbmRleF0uc3RhdHVzO1xuICAgICAgICBsZXQgbG9jayA9IGVuZW15U3RhdHVzLm9uU3RhdGUuc29tZShcbiAgICAgICAgICB4ID0+IHgudHlwZSA9PT0gXCJzdGF0ZVwiICYmIHguaW5mbyA9PT0gc2tpbGwubmFtZVxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChsb2NrID09PSB0cnVlKSB7XG4gICAgICAgICAgLy9JbnZ1bG5lcmFiaWxpdHlcbiAgICAgICAgICBsZXQgc3RhdGUgPSBlbmVteVN0YXR1cy5vblN0YXRlO1xuICAgICAgICAgIGxldCBpbnZ1bG5lcmFibGUgPSBpbnZ1bG5lcmFibGVNYW5hZ2VtZW50KHN0YXRlLCBza2lsbCk7XG5cbiAgICAgICAgICAvL0Rpc2FibGVcbiAgICAgICAgICB4LmJ1dHRvbiA9IHguZGlzYWJsZWQgfHwgaW52dWxuZXJhYmxlID8gdHJ1ZSA6ICF4LmJ1dHRvbjtcblxuICAgICAgICAgIC8vSWdub3JlXG4gICAgICAgICAgbGV0IGlnbm9yZSA9IGlnbm9yZU1hbmFnZW1lbnQoc3RhdGUsIHNraWxsKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhpbnZ1bG5lcmFibGUpO1xuXG4gICAgICAgICAgLy9QcmV2ZW50IEludnVsbmVyYWJpbGl0eVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIG9wdGlvbiA9PT0gXCJvblNraWxsXCIgJiZcbiAgICAgICAgICAgIGVuZW15U3RhdHVzLm9uU3RhdGUuc29tZSh4ID0+IHgudHlwZSA9PT0gXCJkaXNhYmxlRHJJdlwiKSAmJlxuICAgICAgICAgICAgaWdub3JlID09PSBmYWxzZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgeC5idXR0b24gPSBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvL01hcmtpbmdcbiAgICAgICAgICBpZiAocGF5bG9hZC5tYXJraW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICBsZXQgc2tpbGxOYW1lID0gc2tpbGwubmFtZTtcbiAgICAgICAgICAgIGxldCBtYXJraW5nID1cbiAgICAgICAgICAgICAgZW5lbXlTdGF0dXMub25SZWNlaXZlLnNvbWUoeCA9PiB4Lm5hbWUgPT09IHNraWxsTmFtZSkgfHxcbiAgICAgICAgICAgICAgZW5lbXlTdGF0dXMub25TdGF0ZS5zb21lKHggPT4geC5uYW1lID09PSBza2lsbE5hbWUpO1xuICAgICAgICAgICAgaWYgKG1hcmtpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgeC5idXR0b24gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIHBheWxvYWQuYWltID09PSBcImFsbGVuZW15XCIgfHxcbiAgICAgIHBheWxvYWQuYWltID09PSBcInJhbmRvbWVuZW15XCIgfHxcbiAgICAgIHBheWxvYWQuYWltID09PSBcImFsbGVuZW15YWxsYWxseVwiXG4gICAgKSB7XG4gICAgICBhcHAuc3RhdGUuYnV0dG9uLmVuZW15LmZvckVhY2goeCA9PiB7XG4gICAgICAgIC8vRGVmaW5lXG4gICAgICAgIGxldCBza2lsbCA9IGFwcC5zb3VyY2UuYWxseVtwYXlsb2FkLmhlcm9JbmRleF0uc2tpbGxbcGF5bG9hZC5za2lsbF07XG4gICAgICAgIGxldCBlbmVteVN0YXR1cyA9IGFwcC5zb3VyY2UuZW5lbXlbeC5pbmRleF0uc3RhdHVzO1xuXG4gICAgICAgIC8vSW52dWxuZXJhYmlsaXR5XG4gICAgICAgIGxldCBzdGF0ZSA9IGVuZW15U3RhdHVzLm9uU3RhdGU7XG4gICAgICAgIGxldCBpbnZ1bG5lcmFibGUgPSBpbnZ1bG5lcmFibGVNYW5hZ2VtZW50KHN0YXRlLCBza2lsbCk7XG5cbiAgICAgICAgLy9EaXNhYmxlXG4gICAgICAgIHguYnV0dG9uID0geC5kaXNhYmxlZCB8fCBpbnZ1bG5lcmFibGUgPyB0cnVlIDogIXguYnV0dG9uO1xuXG4gICAgICAgIC8vUHJldmVudCBJbnZ1bG5lcmFiaWxpdHlcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG9wdGlvbiA9PT0gXCJvblNraWxsXCIgJiZcbiAgICAgICAgICBlbmVteVN0YXR1cy5vblN0YXRlLnNvbWUoeCA9PiB4LnR5cGUgPT09IFwiZGlzYWJsZURySXZcIilcbiAgICAgICAgKSB7XG4gICAgICAgICAgeC5idXR0b24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChwYXlsb2FkLmFpbSA9PT0gXCJhbGx5XCIgfHwgcGF5bG9hZC5haW0gPT09IFwiYWxsYWxseVwiKSB7XG4gICAgICBhcHAuc3RhdGUuYnV0dG9uLmFsbHkuZm9yRWFjaChcbiAgICAgICAgeCA9PiAoeC5idXR0b24gPSB4LmRpc2FibGVkID8gdHJ1ZSA6ICF4LmJ1dHRvbilcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChwYXlsb2FkLmFpbSA9PT0gXCJvdGhlcmFsbHlcIikge1xuICAgICAgYXBwLnN0YXRlLmJ1dHRvbi5hbGx5LmZvckVhY2goeCA9PiB7XG4gICAgICAgIGxldCBuYW1lID0gYXBwLnN0YXRlLmJ1dHRvbi5hbGx5W3BheWxvYWQuaGVyb0luZGV4XS5uYW1lO1xuICAgICAgICBpZiAoeC5uYW1lICE9PSBuYW1lKSB7XG4gICAgICAgICAgeC5idXR0b24gPSB4LmRpc2FibGVkID8gdHJ1ZSA6ICF4LmJ1dHRvbjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChwYXlsb2FkLmFpbSA9PT0gXCJzZWxmXCIpIHtcbiAgICAgIGxldCBhbGx5ID0gYXBwLnN0YXRlLmJ1dHRvbi5hbGx5W3BheWxvYWQuaGVyb0luZGV4XTtcbiAgICAgIGFsbHkuYnV0dG9uID0gYWxseS5kaXNhYmxlZCA/IHRydWUgOiAhYWxseS5idXR0b247XG4gICAgfVxuICB9XG5cbiAgLy9Ta2lsbCBCdXR0b25cbiAgaWYgKG9wdGlvbiA9PT0gXCJvblRhcmdldFwiKSB7XG4gICAgY29uc29sZS5sb2coXCJvblNraWxsXCIpO1xuICAgIGFwcC5zdGF0ZS5idXR0b24uYWxseS5mb3JFYWNoKHggPT4ge1xuICAgICAgaWYgKHgub25Ta2lsbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgeC5za2lsbC5mb3JFYWNoKHMgPT4ge1xuICAgICAgICAgIHMuYnV0dG9uID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB4Lm5hbWUgPT09IHBheWxvYWQub2ZmZW5zZSAmJlxuICAgICAgICAgICAgcy5uYW1lID09PVxuICAgICAgICAgICAgICBhcHAuc291cmNlLmFsbHlbcGF5bG9hZC5oZXJvSW5kZXhdLnNraWxsW3BheWxvYWQuc2tpbGxdLm5hbWVcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHMuYnV0dG9uID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBpZiAob3B0aW9uID09PSBcIm9uQ2FuY2VsXCIpIHtcbiAgICBjb25zb2xlLmxvZyhcIm9uQ2FuY2VsXCIpO1xuICAgIGFwcC5zdGF0ZS5idXR0b24uYWxseS5mb3JFYWNoKHggPT4ge1xuICAgICAgaWYgKHgub25Ta2lsbCA9PT0gZmFsc2UgfHwgeC5uYW1lID09PSBwYXlsb2FkLm9mZmVuc2UpIHtcbiAgICAgICAgeC5za2lsbC5mb3JFYWNoKHMgPT4ge1xuICAgICAgICAgIHMuYnV0dG9uID0gcy5kaXNhYmxlZCA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB4Lm5hbWUgPT09IHBheWxvYWQub2ZmZW5zZSAmJlxuICAgICAgICAgICAgcy5uYW1lID09PVxuICAgICAgICAgICAgICBhcHAuc291cmNlLmFsbHlbcGF5bG9hZC5oZXJvSW5kZXhdLnNraWxsW3BheWxvYWQuc2tpbGxdLm5hbWVcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHMuYnV0dG9uID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIGlmIChvcHRpb24gPT09IFwib25UYXJnZXRcIikge1xuICAgIGNvbnNvbGUubG9nKFwib25UYXJnZXRcIik7XG4gICAgYXBwLnN0YXRlLmJ1dHRvbi5hbGx5LmZvckVhY2goeCA9PiB7XG4gICAgICBsZXQgaW5kZXggPSBhcHAucGFja2V0LmZpbmRJbmRleChzID0+IHMub2ZmZW5zZSA9PT0geC5uYW1lKTtcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgeC5za2lsbC5mb3JFYWNoKHMgPT4ge1xuICAgICAgICAgIHMuYnV0dG9uID0gcy5kaXNhYmxlZCA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAob3B0aW9uID09PSBcIm9uU2VsZlwiKSB7XG4gICAgY29uc29sZS5sb2coXCJvblNlbGZcIik7XG4gICAgYXBwLnN0YXRlLmJ1dHRvbi5hbGx5W3BheWxvYWQuaGVyb0luZGV4XS5za2lsbC5mb3JFYWNoKHMgPT4ge1xuICAgICAgcy5idXR0b24gPSBzLmRpc2FibGVkID8gdHJ1ZSA6IGZhbHNlO1xuICAgIH0pO1xuICB9XG5cbiAgLy9FbmVyZ3kgTWFuYWdlbWVudFxuICBpZiAob3B0aW9uICE9PSBcIm9uU2tpbGxcIikge1xuICAgIGFwcC5zdGF0ZS5idXR0b24uYWxseS5mb3JFYWNoKCh4LCB4aSkgPT4ge1xuICAgICAgaWYgKHgub25Ta2lsbCA9PT0gZmFsc2UgJiYgeC5uYW1lICE9PSBwYXlsb2FkLm9mZmVuc2UpIHtcbiAgICAgICAgY29uc29sZS5sb2coeC5uYW1lKTtcbiAgICAgICAgY29uc29sZS5sb2cob3B0aW9uKTtcbiAgICAgICAgeC5za2lsbC5mb3JFYWNoKChzLCBzaSkgPT4ge1xuICAgICAgICAgIGxldCBlbmVyZ3kgPSBlbmVyZ3lNYW5hZ2VtZW50KHsgaGVyb0luZGV4OiB4aSwgc2tpbGw6IHNpIH0sIFwiY2hlY2tcIik7XG4gICAgICAgICAgcy5idXR0b24gPSBzLmRpc2FibGVkIHx8IGVuZXJneSA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB4Lm5hbWUgPT09IHBheWxvYWQub2ZmZW5zZSAmJlxuICAgICAgICAgICAgcy5uYW1lID09PVxuICAgICAgICAgICAgICBhcHAuc291cmNlLmFsbHlbcGF5bG9hZC5oZXJvSW5kZXhdLnNraWxsW3BheWxvYWQuc2tpbGxdLm5hbWVcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHMuYnV0dG9uID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICAob3B0aW9uID09PSBcIm9uU2VsZlwiIHx8IG9wdGlvbiA9PT0gXCJvbkNhbmNlbFwiKSAmJlxuICAgICAgICB4Lm5hbWUgPT09IHBheWxvYWQub2ZmZW5zZVxuICAgICAgKSB7XG4gICAgICAgIHguc2tpbGwuZm9yRWFjaCgocywgc2kpID0+IHtcbiAgICAgICAgICBsZXQgZW5lcmd5ID0gZW5lcmd5TWFuYWdlbWVudCh7IGhlcm9JbmRleDogeGksIHNraWxsOiBzaSB9LCBcImNoZWNrXCIpO1xuICAgICAgICAgIHMuYnV0dG9uID0gcy5kaXNhYmxlZCB8fCBlbmVyZ3kgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0dW5NYW5hZ2VtZW50KG9uU3RhdGUsIHNraWxsKSB7XG4gIGxldCBzdHVuID0gb25TdGF0ZS5tYXAoeCA9PiB7XG4gICAgaWYgKHgudHlwZSA9PT0gXCJzdHVuXCIpIHtcbiAgICAgIGxldCBpZ25vcmUgPSBpZ25vcmVNYW5hZ2VtZW50KG9uU3RhdGUsIHgpO1xuICAgICAgbGV0IGludGVyc2VjdCA9IF8uaW50ZXJzZWN0aW9uKHguY2xhc3Nlcywgc2tpbGwuY2xhc3Nlcyk7XG5cbiAgICAgIGxldCBldmFsdWF0ZTtcblxuICAgICAgaWYgKHguaW5mbyA9PT0gXCJpbmNsdXNpdmVcIikge1xuICAgICAgICBldmFsdWF0ZSA9IGludGVyc2VjdC5sZW5ndGggPiAwID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmICh4LmluZm8gPT09IFwiZGVjbHVzaXZlXCIpIHtcbiAgICAgICAgZXZhbHVhdGUgPSBpbnRlcnNlY3QubGVuZ3RoID09PSAwID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZhbHVhdGUgJiYgIWlnbm9yZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGlmIChzdHVuLmZpbHRlcih4ID0+IHggPT09IHRydWUpLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW52dWxuZXJhYmxlTWFuYWdlbWVudChvblN0YXRlLCBza2lsbCkge1xuICBsZXQgaW52dWxuZXJhYmxlID0gb25TdGF0ZS5tYXAoeCA9PiB7XG4gICAgaWYgKHgudHlwZSA9PT0gXCJpbnZ1bG5lcmFibGVcIikge1xuICAgICAgbGV0IGlnbm9yZUludnVsID0gc2tpbGwuaWdub3JlSW52dWw7XG4gICAgICBsZXQgaW50ZXJzZWN0ID0gXy5pbnRlcnNlY3Rpb24oeC5jbGFzc2VzLCBza2lsbC5jbGFzc2VzKTsgICAgICBcblxuICAgICAgbGV0IGV2YWx1YXRlO1xuXG4gICAgICBpZiAoeC5pbmZvID09PSBcImluY2x1c2l2ZVwiKSB7XG4gICAgICAgIGV2YWx1YXRlID0gaW50ZXJzZWN0Lmxlbmd0aCA+IDAgPyB0cnVlIDogZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKHguaW5mbyA9PT0gXCJkZWNsdXNpdmVcIikge1xuICAgICAgICBldmFsdWF0ZSA9IGludGVyc2VjdC5sZW5ndGggPT09IDAgPyB0cnVlIDogZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmIChldmFsdWF0ZSAmJiAhaWdub3JlSW52dWwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBpZiAoaW52dWxuZXJhYmxlLmZpbHRlcih4ID0+IHggPT09IHRydWUpLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gaWdub3JlTWFuYWdlbWVudChvblN0YXRlLCBza2lsbCkge1xuICBsZXQgaWdub3JlID0gb25TdGF0ZS5tYXAoeCA9PiB7XG4gICAgaWYgKHgudHlwZSA9PT0gXCJpZ25vcmVcIikge1xuICAgICAgbGV0IGludGVyc2VjdCA9IF8uaW50ZXJzZWN0aW9uKHguY2xhc3Nlcywgc2tpbGwuY2xhc3Nlcyk7XG5cbiAgICAgIGxldCBldmFsdWF0ZTtcblxuICAgICAgaWYgKHguaW5mbyA9PT0gXCJpbmNsdXNpdmVcIikge1xuICAgICAgICBldmFsdWF0ZSA9IGludGVyc2VjdC5sZW5ndGggPiAwID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmICh4LmluZm8gPT09IFwiZGVjbHVzaXZlXCIpIHtcbiAgICAgICAgZXZhbHVhdGUgPSBpbnRlcnNlY3QubGVuZ3RoID09PSAwID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZhbHVhdGUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBpZiAoaWdub3JlLmZpbHRlcih4ID0+IHggPT09IHRydWUpLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbiIsImZ1bmN0aW9uIHZ1ZUJpbmQocGF5bG9hZCkge1xuICBsZXQgdXNlcm5hbWUgPSBnZXRDb29raWUoXCJ1c2VybmFtZVwiKTtcbiAgY29uc29sZS5sb2cocGF5bG9hZCk7XG4gIGxldCBhbGx5ID0gcGF5bG9hZC50ZWFtLnRlYW1FdmVuID09PSB1c2VybmFtZSA/IFwidGVhbUV2ZW5cIiA6IFwidGVhbU9kZFwiO1xuICBsZXQgZW5lbXkgPSBwYXlsb2FkLnRlYW0udGVhbUV2ZW4gPT09IHVzZXJuYW1lID8gXCJ0ZWFtT2RkXCIgOiBcInRlYW1FdmVuXCI7XG4gIGxldCB0dXJuID0gYWxseSA9PT0gXCJ0ZWFtRXZlblwiID8gMCA6IDE7XG4gIGxldCBteVR1cm4gPSBwYXlsb2FkLnR1cm4gJSAyID09PSB0dXJuID8gdHJ1ZSA6IGZhbHNlO1xuXG4gIGlmIChwYXlsb2FkLnRlYW0udGVhbUV2ZW4gIT09IHVzZXJuYW1lICYmIHBheWxvYWQudGVhbS50ZWFtT2RkICE9PSB1c2VybmFtZSkge1xuICAgIGNvbnNvbGUubG9nKFwic3BlY3RhdGVcIik7XG4gICAgYXBwLm1vZGUgPSBcInNwZWN0YXRlXCI7XG4gICAgbXlUdXJuID0gZmFsc2U7XG4gICAgLy8gcmV0dXJuO1xuICB9XG5cbiAgaWYgKG15VHVybiA9PT0gdHJ1ZSkge1xuICAgIGFwcC4kcmVmcy5zb3VuZFN0YXJ0VHVybi5wbGF5KCk7XG4gIH1cblxuICAvLyBpZiAocGF5bG9hZC53aW5uZXIuc3RhdGUgPT09IHRydWUgJiYgcGF5bG9hZC53aW5uZXIubmFtZSA9PT0gdXNlcm5hbWUpIHtcbiAgLy8gfSBlbHNlIGlmIChcbiAgLy8gICBwYXlsb2FkLndpbm5lci5zdGF0ZSA9PT0gdHJ1ZSAmJlxuICAvLyAgIHBheWxvYWQud2lubmVyLm5hbWUgIT09IHVzZXJuYW1lXG4gIC8vICkge1xuICAvLyAgIGFwcC4kcmVmcy5zb3VuZExvc2UucGxheSgpO1xuICAvLyB9XG5cbiAgbGV0IHN0b3JlID0ge1xuICAgIGVuZXJneToge1xuICAgICAgYWxseTogcGF5bG9hZC5lbmVyZ3lbYWxseV0sXG4gICAgICBlbmVteTogcGF5bG9hZC5lbmVyZ3lbZW5lbXldXG4gICAgfSxcbiAgICBhbGx5OiBwYXlsb2FkW2FsbHldLm1hcCh4ID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLngsXG4gICAgICAgIGluZGljYXRvcjogc3RhdHVzVmlldyh4Lm5hbWUsIHguc3RhdHVzKVxuICAgICAgfTtcbiAgICB9KSxcbiAgICBlbmVteTogcGF5bG9hZFtlbmVteV0ubWFwKHggPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ueCxcbiAgICAgICAgaW5kaWNhdG9yOiBzdGF0dXNWaWV3KHgubmFtZSwgeC5zdGF0dXMpXG4gICAgICB9O1xuICAgIH0pLFxuICAgIHR1cm46IHBheWxvYWQudHVybixcbiAgICBteVR1cm46IG15VHVybixcbiAgICByb29tOiBwYXlsb2FkLnJvb20sXG4gICAgbWV0YToge1xuICAgICAgbXlOYW1lOiBwYXlsb2FkLnRlYW1bYWxseV0sXG4gICAgICB0aGVpck5hbWU6IHBheWxvYWQudGVhbVtlbmVteV1cbiAgICB9LFxuICAgIHRpbWVzdGFtcDogcGF5bG9hZC50aW1lc3RhbXBcbiAgfTtcbiAgc3RvcmUuZW5lcmd5LmFsbHkuciA9XG4gICAgc3RvcmUuZW5lcmd5LmFsbHkuYSArXG4gICAgc3RvcmUuZW5lcmd5LmFsbHkuaSArXG4gICAgc3RvcmUuZW5lcmd5LmFsbHkucyArXG4gICAgc3RvcmUuZW5lcmd5LmFsbHkudztcbiAgY29uc29sZS5sb2coc3RvcmUpO1xuICBsZXQgYnV0dG9uID0ge1xuICAgIGFsbHk6IHN0b3JlLmFsbHkubWFwKHggPT4ge1xuICAgICAgLy8gbGV0IGRpc2FibGVkID0geC5zdGF0dXMub25TdGF0ZS5maW5kSW5kZXgoeCA9PiB4LnR5cGUgPT09ICdzdHVuJykgPiAtMSB8fCB4LmhwIDw9IDAgPyB0cnVlIDogZmFsc2VcbiAgICAgIGxldCBkaXNhYmxlZCA9IHguaHAgPD0gMCA/IHRydWUgOiBmYWxzZTtcbiAgICAgIC8vIGxldCBzdHVuID0geC5zdGF0dXMub25TdGF0ZS5zb21lKHggPT4geC50eXBlID09PSBcInN0dW5cIikgPyB0cnVlIDogZmFsc2U7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiB4Lm5hbWUsXG4gICAgICAgIGJ1dHRvbjogdHJ1ZSxcbiAgICAgICAgb25Ta2lsbDogZmFsc2UsXG4gICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgc2tpbGw6IHguc2tpbGwubWFwKHMgPT4ge1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHMudHlwZSk7XG4gICAgICAgICAgbGV0IGVuZXJneSA9IGVuZXJneU1hbmFnZW1lbnQoXG4gICAgICAgICAgICB7IGVuZXJneTogc3RvcmUuZW5lcmd5LmFsbHksIHNraWxsQmluZDogcy5lbmVyZ3kgfSxcbiAgICAgICAgICAgIFwiY2hlY2tcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IHN0dW4gPSBzdHVuTWFuYWdlbWVudCh4LnN0YXR1cy5vblN0YXRlLCBzKTtcbiAgICAgICAgICAvLyBsZXQgZGlzYWJsZURyVnIgPVxuICAgICAgICAgIC8vICAgcy50eXBlID09PSBcImludnVsbmVyYWJsZVwiICYmXG4gICAgICAgICAgLy8gICB4LnN0YXR1cy5vblN0YXRlLnNvbWUoeCA9PiB4LnR5cGUgPT09IFwiZGlzYWJsZURySXZcIilcbiAgICAgICAgICAvLyAgICAgPyB0cnVlXG4gICAgICAgICAgLy8gICAgIDogZmFsc2U7XG4gICAgICAgICAgbGV0IGRpc2FibGVkID1cbiAgICAgICAgICAgIHN0dW4gfHxcbiAgICAgICAgICAgIHMucmVxdWlyZWQgfHxcbiAgICAgICAgICAgIHMuc3RhdGUgPT09IFwiY29vbGRvd25cIiB8fFxuICAgICAgICAgICAgbXlUdXJuID09PSBmYWxzZSB8fFxuICAgICAgICAgICAgeC5ocCA8PSAwXG4gICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICA6IGZhbHNlO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiBzLm5hbWUsXG4gICAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgICAgICBidXR0b246IGRpc2FibGVkIHx8IGVuZXJneSA/IHRydWUgOiBmYWxzZVxuICAgICAgICAgIH07XG4gICAgICAgIH0pXG4gICAgICB9O1xuICAgIH0pLFxuICAgIGVuZW15OiBzdG9yZS5lbmVteS5tYXAoKHgsIGkpID0+IHtcbiAgICAgIC8vIGxldCBkaXNhYmxlZCA9XG4gICAgICAvLyAgIHguc3RhdHVzLm9uU3RhdGUuc29tZSh4ID0+IHgudHlwZSA9PT0gXCJpbnZ1bG5lcmFibGVcIikgfHwgeC5ocCA8PSAwXG4gICAgICAvLyAgICAgPyB0cnVlXG4gICAgICAvLyAgICAgOiBmYWxzZTtcbiAgICAgIGxldCBkaXNhYmxlZCA9IHguaHAgPD0gMCA/IHRydWUgOiBmYWxzZTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IHgubmFtZSxcbiAgICAgICAgaW5kZXg6IGksXG4gICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgYnV0dG9uOiB0cnVlXG4gICAgICB9O1xuICAgIH0pXG4gIH07XG5cbiAgYXBwLnNvdXJjZSA9IHN0b3JlO1xuICBhcHAuc3RhdGUuYnV0dG9uID0gYnV0dG9uO1xuICBhcHAuc3RhdGUud2lubmVyID0gcGF5bG9hZC53aW5uZXI7XG4gIGFwcC5zdGF0ZS5leGNoYW5nZS5tb2RhbCA9IGZhbHNlO1xuXG4gIC8vVGltZVxuICBsZXQgdGltZURpZmYgPSAoRGF0ZS5ub3coKSAtIHBheWxvYWQudGltZXN0YW1wKSAvIDEwMDA7XG4gIGxldCB0aW1lQ2FsYyA9IDQ1IC0gdGltZURpZmY7XG4gIGxldCByZW1haW5pbmcgPSAxMDAgKiAodGltZUNhbGMgLyA0NSk7XG4gIGNvbnNvbGUubG9nKHBheWxvYWQudGltZXN0YW1wLCB0aW1lRGlmZiwgdGltZUNhbGMsIHJlbWFpbmluZyk7XG5cbiAgaWYgKHJlbWFpbmluZyA8IDApIHtcbiAgICByZW1haW5pbmcgPSAwO1xuICB9XG4gIGFwcC5zdGF0ZS50aW1lci50dXJuID0gcmVtYWluaW5nO1xufVxuXG5mdW5jdGlvbiBzdGF0dXNWaWV3KG5hbWUsIHBheWxvYWQpIHtcbiAgLy8gY29uc29sZS5sb2cobmFtZSwgcGF5bG9hZCk7XG4gIGxldCBzdGF0dXMgPSBfLmNvbmNhdChcbiAgICBwYXlsb2FkLm9uQXR0YWNrLFxuICAgIHBheWxvYWQub25SZWNlaXZlLFxuICAgIHBheWxvYWQub25TdGF0ZSxcbiAgICBwYXlsb2FkLm9uU2VsZlxuICApO1xuICBzdGF0dXMgPSBzdGF0dXMuZmlsdGVyKHggPT4geC5pc0ludmlzaWJsZSA9PT0gZmFsc2UpO1xuICBsZXQgZ3JvdXBCeU5hbWVJZCA9IF8uZ3JvdXBCeShzdGF0dXMsIFwibmFtZUlkXCIpO1xuICBsZXQgdmFsdWVzQnlOYW1lSWQgPSBfLnZhbHVlcyhncm91cEJ5TmFtZUlkKTtcbiAgbGV0IGdyb3VwQnlTa2lsbEluZGV4ID0gdmFsdWVzQnlOYW1lSWQubWFwKHggPT4gXy5ncm91cEJ5KHgsIFwic2tpbGxJbmRleFwiKSk7XG4gIGxldCB2YWx1ZXNCeVNraWxsSW5kZXggPSBfLnZhbHVlcyhncm91cEJ5U2tpbGxJbmRleCk7XG4gIGxldCBjb25jYXRWYWx1ZXMgPSBbXTtcbiAgdmFsdWVzQnlTa2lsbEluZGV4LmZvckVhY2goeCA9PiB7XG4gICAgY29uY2F0VmFsdWVzID0gY29uY2F0VmFsdWVzLmNvbmNhdChfLnZhbHVlcyh4KSk7XG4gIH0pO1xuICBsZXQgZmluYWwgPSBjb25jYXRWYWx1ZXMubWFwKHggPT4ge1xuICAgIGxldCBpbmZvID0geFswXTtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogaW5mby5uYW1lLFxuICAgICAgbmFtZUlkOiBpbmZvLm5hbWVJZCxcbiAgICAgIHNraWxsSW5kZXg6IGluZm8uc2tpbGxJbmRleCxcbiAgICAgIGFjdGl2ZTogaW5mby5hY3RpdmUsXG4gICAgICB2YWw6IHhcbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIGZpbmFsO1xufVxuIiwiZnVuY3Rpb24gaW5pdGlhdGUoKSB7XG4gIGxldCB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdChcIi9cIik7XG4gIGxldCByb29tID0gdXJsW3VybC5sZW5ndGggLSAxXTtcbiAgaWYgKHJvb20gIT09IFwiXCIpIHtcbiAgICBzb2NrZXQuZW1pdChcImluaXRpYXRlXCIsIHtcbiAgICAgIHJvb206IHJvb21cbiAgICB9KTtcbiAgICBjaGF0LmVtaXQoXCJnYW1lSW5pdGlhdGVcIiwge1xuICAgICAgcm9vbTogcm9vbVxuICAgIH0pO1xuICAgIGNoYXQuZW1pdChcImxvYmJ5SW5pdGlhdGVcIik7XG4gIH0gZWxzZSB7XG4gICAgLy8gd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoJy8nKTtcbiAgfVxufVxuXG5pbml0aWF0ZSgpO1xuXG5zZXRJbnRlcnZhbCgoKSA9PiB7XG4gIGlmIChhcHAuc291cmNlLnR1cm4gPT0gdW5kZWZpbmVkIHx8IGFwcC5zdGF0ZS53aW5uZXIuc3RhdGUgIT09IGZhbHNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChhcHAuc3RhdGUudGltZXIudHVybiA+IDApIHtcbiAgICBsZXQgdGltZXIgPSBhcHAuc3RhdGUudGltZXIudHVybiAtIDIuMjtcbiAgICBpZiAodGltZXIgPCAwKSB7XG4gICAgICB0aW1lciA9IDA7XG4gICAgfVxuICAgIGFwcC5zdGF0ZS50aW1lci50dXJuID0gdGltZXI7XG4gIH0gZWxzZSBpZiAoYXBwLnN0YXRlLnRpbWVyLnR1cm4gPD0gMCAmJiBhcHAuc291cmNlLm15VHVybiA9PT0gdHJ1ZSkge1xuICAgIGxldCB0aW1lRGlmZiA9IChEYXRlLm5vdygpIC0gYXBwLnNvdXJjZS50aW1lc3RhbXApIC8gMTAwMDtcbiAgICBsZXQgdGltZUNhbGMgPSA0NSAtIHRpbWVEaWZmO1xuICAgIGxldCByZW1haW5pbmcgPSAxMDAgKiAodGltZUNhbGMgLyA0NSk7XG4gICAgY29uc29sZS5sb2coYXBwLnNvdXJjZS50aW1lc3RhbXAsIHRpbWVEaWZmLCB0aW1lQ2FsYywgcmVtYWluaW5nKTtcblxuICAgIGlmIChyZW1haW5pbmcgPD0gMCAmJiBhcHAuc3RhdGUudGltZXIudHVybiA8PSAwKSB7XG4gICAgICBsZXQgcGF5bG9hZCA9IHtcbiAgICAgICAgZW5lcmd5OiB7XG4gICAgICAgICAgYTogMCxcbiAgICAgICAgICBpOiAwLFxuICAgICAgICAgIHM6IDAsXG4gICAgICAgICAgdzogMFxuICAgICAgICB9LFxuICAgICAgICBwYWNrZXQ6IFtdXG4gICAgICB9O1xuICAgICAgYXBwLm9uRG9uZShwYXlsb2FkKTtcbiAgICB9XG4gIH1cbn0sIDEwMDApO1xuXG53aW5kb3cub25mb2N1cyA9IGZ1bmN0aW9uKCkge1xuICBkb2N1bWVudC50aXRsZSA9IFwiQW5pbWUgUnVtYmxlXCI7XG59O1xuXG5mdW5jdGlvbiBzY3JvbGxDaGF0KCkge1xuICB2YXIgY29udGFpbmVyID0gYXBwLiRlbC5xdWVyeVNlbGVjdG9yKFwiI2NoYXRcIik7XG4gIGNvbnRhaW5lci5zY3JvbGxUb3AgPSBjb250YWluZXIuc2Nyb2xsSGVpZ2h0O1xufVxuIiwic29ja2V0Lm9uKFwiYXBwbHlcIiwgcGF5bG9hZCA9PiB7XG4gIGRvY3VtZW50LnRpdGxlID0gXCIoISkgQW5pbWUgUnVtYmxlXCI7XG4gIHZ1ZUJpbmQocGF5bG9hZCk7XG59KTtcblxuc29ja2V0Lm9uKFwibm9NYXRjaFwiLCBwYXlsb2FkID0+IHtcbiAgY29uc29sZS5sb2coXCJub25lXCIpO1xuICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShcIi9cIik7XG59KTtcblxuY2hhdC5vbihcImNoYXRcIiwgcGF5bG9hZCA9PiB7XG4gIGlmIChwYXlsb2FkLmNoYW5uZWwgPT09IFwiaW5nYW1lXCIpIHtcbiAgICBhcHAuY2hhdC5wdXNoKHBheWxvYWQubWVzc2FnZSk7XG4gICAgaWYgKGFwcC5jaGF0Q2hhbm5lbCAhPT0gXCJpbmdhbWVcIikge1xuICAgICAgYXBwLmNoYXROb3RpZi5pbmdhbWUgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY3JvbGxDaGF0KCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHBheWxvYWQuY2hhbm5lbCA9PT0gXCJsb2JieVwiKSB7XG4gICAgYXBwLmxvYmJ5Y2hhdC5wdXNoKHBheWxvYWQubWVzc2FnZSk7XG5cbiAgICBpZiAoYXBwLmNoYXRDaGFubmVsICE9PSBcImxvYmJ5XCIpIHtcbiAgICAgIGFwcC5jaGF0Tm90aWYubG9iYnkgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY3JvbGxDaGF0KCk7XG4gICAgfVxuICB9XG59KTtcblxuY2hhdC5vbihcImdhbWVJbml0aWF0ZVwiLCBwYXlsb2FkID0+IHtcbiAgYXBwLmNoYXQgPSBwYXlsb2FkO1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBzY3JvbGxDaGF0KCk7XG4gIH0sIDEwMCk7XG59KTtcbmNoYXQub24oXCJsb2JieUluaXRpYXRlXCIsIHBheWxvYWQgPT4ge1xuICBhcHAubG9iYnljaGF0ID0gcGF5bG9hZDtcbn0pO1xuIiwiZnVuY3Rpb24gZ2V0UGFyYW1ldGVyTmFtZShuYW1lLCB1cmwpIHtcbiAgaWYgKCF1cmwpIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICBuYW1lID0gbmFtZS5yZXBsYWNlKC9bXFxbXFxdXS9nLCBcIlxcXFwkJlwiKTtcbiAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChcIls/Jl1cIiArIG5hbWUgKyBcIig9KFteJiNdKil8JnwjfCQpXCIpLFxuICAgIHJlc3VsdHMgPSByZWdleC5leGVjKHVybCk7XG4gIGlmICghcmVzdWx0cykgcmV0dXJuIG51bGw7XG4gIGlmICghcmVzdWx0c1syXSkgcmV0dXJuIFwiXCI7XG4gIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocmVzdWx0c1syXS5yZXBsYWNlKC9cXCsvZywgXCIgXCIpKTtcbn1cblxuY29uc3Qgc2V0Q29va2llID0gKG5hbWUsIHZhbHVlLCBkYXlzID0gNywgcGF0aCA9IFwiL1wiKSA9PiB7XG4gIGNvbnN0IGV4cGlyZXMgPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgZGF5cyAqIDg2NGU1KS50b0dNVFN0cmluZygpO1xuICBkb2N1bWVudC5jb29raWUgPVxuICAgIG5hbWUgK1xuICAgIFwiPVwiICtcbiAgICBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpICtcbiAgICBcIjsgZXhwaXJlcz1cIiArXG4gICAgZXhwaXJlcyArXG4gICAgXCI7IHBhdGg9XCIgK1xuICAgIHBhdGg7XG59O1xuXG5jb25zdCBnZXRDb29raWUgPSBuYW1lID0+IHtcbiAgcmV0dXJuIGRvY3VtZW50LmNvb2tpZS5zcGxpdChcIjsgXCIpLnJlZHVjZSgociwgdikgPT4ge1xuICAgIGNvbnN0IHBhcnRzID0gdi5zcGxpdChcIj1cIik7XG4gICAgcmV0dXJuIHBhcnRzWzBdID09PSBuYW1lID8gZGVjb2RlVVJJQ29tcG9uZW50KHBhcnRzWzFdKSA6IHI7XG4gIH0sIFwiXCIpO1xufTtcblxuY29uc3QgZGVsZXRlQ29va2llID0gKG5hbWUsIHBhdGgpID0+IHtcbiAgc2V0Q29va2llKG5hbWUsIFwiXCIsIC0xLCBwYXRoKTtcbn07XG4iXX0=
