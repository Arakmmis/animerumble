"use strict";

function getParameterName(name, url) {
  if (!url) url = window.location.href;
  name = name.replace(/[\[\]]/g, "\\$&");
  var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
      results = regex.exec(url);
  if (!results) return null;
  if (!results[2]) return "";
  return decodeURIComponent(results[2].replace(/\+/g, " "));
}

var setCookie = function setCookie(name, value) {
  var days = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 7;
  var path = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : "/";
  var expires = new Date(Date.now() + days * 864e5).toGMTString();
  document.cookie = name + "=" + encodeURIComponent(value) + "; expires=" + expires + "; path=" + path;
};

var getCookie = function getCookie(name) {
  return document.cookie.split("; ").reduce(function (r, v) {
    var parts = v.split("=");
    return parts[0] === name ? decodeURIComponent(parts[1]) : r;
  }, "");
};

var deleteCookie = function deleteCookie(name, path) {
  setCookie(name, "", -1, path);
};

function getRoomName() {
  var url = window.location.href.split("/");
  var room = url[url.length - 1];
  return room;
}

;
"use strict";

var room = getRoomName();
var socket = io("/game?room=" + room);
var chat = io("/chat");
"use strict";

Vue.use(VTooltip);
var app = new Vue({
  el: "#app",
  data: {
    mode: "game",
    chat: [],
    lobbychat: [],
    chatSend: "",
    chatChannel: "ingame",
    chatNotif: {
      lobby: false,
      ingame: false
    },
    source: {
      energy: {
        ally: {}
      },
      meta: {}
    },
    packet: [],
    state: {
      skill: {
        offense: null,
        skill: null,
        skillId: null,
        skillName: null,
        target: null,
        aim: null,
        heroIndex: null
      },
      timer: {
        turn: 100
      },
      onSkill: false,
      button: {},
      description: null,
      winner: {
        state: false,
        name: ""
      },
      energy: {
        modal: false,
        random: 0
      },
      exchange: {
        modal: false,
        used: false,
        energy: {},
        val: ""
      }
    },
    showModal: true
  },
  methods: {
    onSurrender: function onSurrender() {
      console.log("surrender");
      socket.emit("surrender", {
        room: this.source.room
      });
    },
    onChat: function onChat() {
      var channel = this.chatChannel === "ingame" ? "ingame" : "lobby";
      var packet = {
        channel: channel,
        room: this.source.room,
        message: this.chatSend
      };
      chat.emit("chat", packet);
      this.chatSend = "";
    },
    scrollChat: function (_scrollChat) {
      function scrollChat() {
        return _scrollChat.apply(this, arguments);
      }

      scrollChat.toString = function () {
        return _scrollChat.toString();
      };

      return scrollChat;
    }(function () {
      setTimeout(function () {
        scrollChat();
      }, 100);
    }),
    onExchange: function onExchange(e) {
      //Sound
      this.$refs.soundClick.play();
      var state = this.state;
      this.source.energy.ally = e.energy;
      this.source.energy.ally.r = this.source.energy.ally.r - this.state.energy.random;
      state.exchange.energy = e.cost;
      state.exchange.modal = false;
      state.exchange.used = true;
      state.exchange.val = e.exchange;
      state.button.ally.forEach(function (x, xi) {
        if (x.onSkill === false) {
          console.log(x.name);
          x.skill.forEach(function (s, si) {
            var energy = energyManagement({
              heroIndex: xi,
              skill: si
            }, "check");
            s.button = s.disabled || energy ? true : false;
            console.log(energy, s.disabled, s.button);
          });
        }
      }); //Clean Skill Buffer

      if (state.skill.offense !== null && state.skill.target === null) {
        //Switch Choice
        //Button Management
        buttonManagement(state.skill, "onCancel"); //Clean Buffer

        state.skill = {
          offense: null,
          skill: null,
          skillId: null,
          skillName: null,
          target: null,
          aim: null,
          heroIndex: null
        };
      }
    },
    onDone: function onDone(e) {
      console.log(e);
      app.source.myTurn = false; //Sound

      this.$refs.soundEndTurn.play(); //Define

      var state = this.state;
      var packet = e.packet; //Organize

      state.energy.modal = false;
      packet = packet.filter(function (x) {
        return x.skill !== null && x.skillId !== null && x.skillName !== null && x.offense !== null && x.target !== null && x.aim !== null && x.heroIndex !== null;
      });
      packet.unshift(e.energy);

      if (state.exchange.used === true) {
        packet.unshift({
          msg: "exchange",
          val: state.exchange.val
        }, state.exchange.energy);
        state.exchange.used = false;
      } //Send


      socket.emit("sequence", {
        packet: packet,
        room: this.source.room
      }); //Reset

      state.energy.random = 0;
      this.packet = [];
      state.skill = {
        offense: null,
        skill: null,
        skillId: null,
        skillName: null,
        target: null,
        aim: null,
        heroIndex: null
      };
    },
    onSkill: function onSkill(payload) {
      //Define and Switch State
      var state = this.state;
      var skill = this.source.ally[payload.heroIndex].skill[payload.skillIndex];
      var marking = skill.marking;
      var skillName = skill.name;
      var temporary = {
        offense: payload.name,
        skill: payload.skillIndex,
        skillId: payload.skillId,
        skillName: skillName,
        target: null,
        aim: payload.target,
        heroIndex: payload.heroIndex,
        marking: marking
      }; //Is Skill Chosen?

      var isOnSkill = state.button.ally[temporary.heroIndex].onSkill;

      if (isOnSkill === false && state.skill.offense === null && state.skill.target === null) {
        //First Choice
        //Buffer Skill
        state.skill = temporary; //Button Management

        buttonManagement(temporary, "onSkill");
      } else if (isOnSkill === false && state.skill.offense !== null && state.skill.target === null) {
        //Switch Choice
        //Button Management
        buttonManagement(state.skill, "onCancel");
        setTimeout(function () {
          buttonManagement(temporary, "onSkill");
        }, 100); //Buffer Skill

        state.skill = temporary;
      } else if (isOnSkill === true) {
        //Cancel Choice
        energyManagement(temporary, "add"); //Button Management

        buttonManagement(state.skill, "onCancel");
        buttonManagement(temporary, "onSelf");
        this.packet = this.packet.filter(function (x) {
          return x.offense !== temporary.offense;
        }); //Clean Skill Buffer

        state.skill = {
          offense: null,
          skill: null,
          skillId: null,
          skillName: null,
          target: null,
          aim: null,
          heroIndex: null
        }; //State Management

        state.button.ally[temporary.heroIndex].onSkill = false;
      }
    },
    onTarget: function onTarget(payload) {
      //Sound
      this.$refs.soundClick.play(); //Define State

      var state = this.state; //Buffer Skill

      if (state.skill.aim === "allenemy" || state.skill.aim === "randomenemy") {
        console.log(state.button.enemy);
        state.skill.target = state.button.enemy.filter(function (x) {
          return x.button !== true && x.name !== payload.name;
        }).map(function (x) {
          return x.name;
        });
        state.skill.target.unshift(payload.name);
      } else if (state.skill.aim === "allally") {
        state.skill.target = state.button.ally.map(function (x) {
          return x.name;
        });
      } else if (state.skill.aim === "allenemyallally") {
        state.skill.target = state.button.enemy.filter(function (x) {
          return x.button !== true && x.name !== payload.name;
        }).map(function (x) {
          return x.name;
        });
        state.skill.target.unshift(payload.name);
        var ally = state.button.ally.map(function (x) {
          return x.name;
        });
        state.skill.target = state.skill.target.concat(ally);
      } else if (state.skill.aim === "allotherally") {
        state.skill.target = state.button.ally.filter(function (x) {
          return x.name !== state.skill.offense;
        }).map(function (x) {
          return x.name;
        });
      } else {
        state.skill.target = [payload.name];
      } //Register Skill


      this.packet.push(this.state.skill); //Energy Management

      energyManagement(state.skill, "substract"); //Button Management
      // buttonManagement(state.skill, "onSkill");

      buttonManagement(state.skill, "onTarget"); //State Management

      state.button.ally[state.skill.heroIndex].onSkill = true; //Clean Skill Buffer

      state.skill = {
        offense: null,
        skill: null,
        skillId: null,
        skillName: null,
        target: null,
        aim: null,
        heroIndex: null
      };
    },
    onAttack: function onAttack(payload) {
      //Sound
      this.$refs.soundClick.play();
      this.state.energy.modal = true;
    },
    onDescription: function onDescription(payload) {
      var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;

      if (option === undefined) {
        option = "ally";
      } //Sound


      this.$refs.soundClick.play(); //Define

      var owner = this.source[option][payload.heroIndex];
      var skillIndex = owner.skill.findIndex(function (x) {
        return x.id === payload.skillId;
      });
      var config = {
        nameId: payload.nameId,
        skill: skillIndex,
        skillId: payload.skillId,
        heroIndex: payload.heroIndex,
        option: option
      };
      var skill = owner.skill[config.skill]; //Map Description

      var map = {
        name: skill.name,
        energy: {
          a: skill.energy.a,
          i: skill.energy.i,
          s: skill.energy.s,
          w: skill.energy.w,
          r: skill.energy.r,
          total: skill.energy.a + skill.energy.i + skill.energy.s + skill.energy.w + skill.energy.r
        },
        description: skill.description,
        classes: skill.classes,
        cooldown: skill.cooldown
      };
      var alt = skill.alt !== false ? skill.alt : false; //Buffer Description

      var state = this.state;
      state.description = {
        nameId: config.nameId,
        skill: config.skillId,
        heroIndex: config.heroIndex,
        map: map,
        alt: alt,
        option: option
      };
    },
    onStatus: function onStatus(payload) {
      console.log(payload);

      var status = _.concat(payload.onAttack, payload.onReceive, payload.onState, payload.onSelf);

      console.log(status);

      var group = _.groupBy(status, "nameId");

      console.log(group);

      var subgroup = _.toArray(group).map(function (x) {
        return _.toArray(_.groupBy(x, "skillIndex"));
      });

      var prep = subgroup.map(function (x) {
        return x[0];
      });
      var final = prep.map(function (x) {
        console.log(x[0]);
        var info = x[0];
        return {
          nameId: info.nameId,
          status: info.skillIndex,
          val: x
        };
      });
      console.log(prep);
      console.log(final);
      return final; // let subgroup = group.map(x => _.groupBy(x, "skillIndex"));
    },
    onGetImage: function onGetImage(payload, option) {
      if (option === "packet") {
        var index = this.source.ally.findIndex(function (x) {
          return x.name === payload.offense;
        });
        var nameId = this.source.ally[index].nameId;
        return "/assets/character/" + nameId.slice(0, -1) + "/skill" + (payload.skill + 1) + "/avatar.jpg";
      } else if (option === "char") {
        return "/assets/character/" + payload.nameId.slice(0, -1) + "/avatar.jpg";
      } else if (option === "skill") {
        return "/assets/character/" + payload.nameId.slice(0, -1) + "/skill" + (payload.skill + 1) + "/avatar.jpg";
      } else if (option === "status") {
        return "/assets/character/" + payload.nameId.slice(0, -1) + "/skill" + payload.skill + "/avatar.jpg";
      } else if (option === "targeting") {
        var _index = this.packet.findIndex(function (x) {
          return x.offense === payload.name;
        });

        var skillId = this.packet[_index].skillId;
        return "/assets/character/" + payload.nameId.slice(0, -1) + "/skill" + (skillId + 1) + "/avatar.jpg";
      }
    },
    targetingCue: function targetingCue(payload, nameId) {
      var name = payload;
      var index = this.packet.findIndex(function (x) {
        return x.offense === payload;
      });
      var packet = this.packet[index];
      var result = {
        name: name,
        skillIndex: packet.skill,
        skillId: packet.skillId,
        heroIndex: packet.heroIndex,
        target: packet.target
      };

      if (nameId) {
        result.nameId = nameId;
      }

      console.log(result);
      return result;
    },
    onHP: function onHP(hp) {
      if (hp > 70) {
        return "l--hp-full";
      } else if (hp <= 70 && hp >= 40) {
        return "l--hp-mid";
      } else {
        return "l--hp-low";
      }
    }
  }
});
"use strict";

function energyManagement(temporary, option) {
  var energy = temporary.energy ? temporary.energy : app.source.energy.ally;
  var skill = temporary.skillBind ? temporary.skillBind : app.source.ally[temporary.heroIndex].skill[temporary.skill].energy;
  var total = {
    energy: energy.a + energy.i + energy.s + energy.w,
    skill: skill.a + skill.i + skill.s + skill.w
  };

  if (option === "substract") {
    if (skill.a > 0) {
      energy.a -= skill.a;
      energy.r -= skill.a;
    }

    if (skill.i > 0) {
      energy.i -= skill.i;
      energy.r -= skill.i;
    }

    if (skill.s > 0) {
      energy.s -= skill.s;
      energy.r -= skill.s;
    }

    if (skill.w > 0) {
      energy.w -= skill.w;
      energy.r -= skill.w;
    }

    if (skill.r > 0) {
      energy.r -= skill.r;
      app.state.energy.random += skill.r;
    }
  } else if (option === "add") {
    if (skill.a > 0) {
      energy.a += skill.a;
      energy.r += skill.a;
    }

    if (skill.i > 0) {
      energy.i += skill.i;
      energy.r += skill.i;
    }

    if (skill.s > 0) {
      energy.s += skill.s;
      energy.r += skill.s;
    }

    if (skill.w > 0) {
      energy.w += skill.w;
      energy.r += skill.w;
    }

    if (skill.r > 0) {
      energy.r += skill.r;
      app.state.energy.random -= skill.r;
    }
  } else if (option === "check") {
    var active = true;

    if (total.energy >= total.skill) {
      var count = [true, true, true, true, true];

      if (skill.a >= 0) {
        count[0] = energy.a >= skill.a ? false : true;
      }

      if (skill.i >= 0) {
        count[1] = energy.i >= skill.i ? false : true;
      }

      if (skill.s >= 0) {
        count[2] = energy.s >= skill.s ? false : true;
      }

      if (skill.w >= 0) {
        count[3] = energy.w >= skill.w ? false : true;
      }

      if (skill.r >= 0) {
        count[4] = energy.r >= total.skill + skill.r ? false : true;
      }

      if (count.filter(function (x) {
        return x === false;
      }).length === 5) {
        active = false;
      } else {
        active = true;
      }
    }

    return active;
  }
}

function buttonManagement(payload, option) {
  //Target Button
  if (option !== "onSelf") {
    if (payload.aim === "enemy") {
      app.state.button.enemy.forEach(function (x) {
        //Define
        var skill = app.source.ally[payload.heroIndex].skill[payload.skill];
        var enemyStatus = app.source.enemy[x.index].status; //Invulnerability

        var state = enemyStatus.onState;
        var invulnerable = invulnerableManagement(state, skill); //Disable

        x.button = x.disabled || invulnerable ? true : !x.button; //Ignore

        var ignore = ignoreManagement(state, skill);
        console.log(ignore); //Prevent Invulnerability

        if (option === "onSkill" && enemyStatus.onState.some(function (x) {
          return x.type === "disableDrIv";
        }) && ignore === false) {
          console.log("hi");
          x.button = false;
        }

        console.log(x.button); //Marking

        if (payload.marking === true) {
          var skillName = skill.name;
          var marking = enemyStatus.onReceive.some(function (x) {
            return x.name === skillName;
          }) || enemyStatus.onState.some(function (x) {
            return x.name === skillName;
          });

          if (marking === true) {
            x.button = true;
          }
        }
      });
    } else if (payload.aim === "enemylock") {
      app.state.button.enemy.forEach(function (x) {
        //Define
        var skill = app.source.ally[payload.heroIndex].skill[payload.skill];
        var enemyStatus = app.source.enemy[x.index].status;
        var lock = enemyStatus.onState.some(function (x) {
          return x.type === "lock" && x.info === skill.name;
        });

        if (lock === true) {
          //Invulnerability
          var state = enemyStatus.onState;
          var invulnerable = invulnerableManagement(state, skill); //Disable

          x.button = x.disabled || invulnerable ? true : !x.button; //Ignore

          var ignore = ignoreManagement(state, skill);
          console.log(invulnerable); //Prevent Invulnerability

          if (option === "onSkill" && enemyStatus.onState.some(function (x) {
            return x.type === "disableDrIv";
          }) && ignore === false) {
            x.button = false;
          } //Marking


          if (payload.marking === true) {
            var skillName = skill.name;
            var marking = enemyStatus.onReceive.some(function (x) {
              return x.name === skillName;
            }) || enemyStatus.onState.some(function (x) {
              return x.name === skillName;
            });

            if (marking === true) {
              x.button = true;
            }
          }
        }
      });
    } else if (payload.aim === "allenemy" || payload.aim === "randomenemy" || payload.aim === "allenemyallally") {
      app.state.button.enemy.forEach(function (x) {
        //Define
        var skill = app.source.ally[payload.heroIndex].skill[payload.skill];
        var enemyStatus = app.source.enemy[x.index].status; //Invulnerability

        var state = enemyStatus.onState;
        var invulnerable = invulnerableManagement(state, skill); //Disable

        x.button = x.disabled || invulnerable ? true : !x.button; //Prevent Invulnerability

        if (option === "onSkill" && enemyStatus.onState.some(function (x) {
          return x.type === "disableDrIv";
        })) {
          x.button = false;
        }
      });
    } else if (payload.aim === "ally" || payload.aim === "allally") {
      app.state.button.ally.forEach(function (x) {
        console.log(x); //Define

        var allyStatus = app.source.ally[x.index].status; //Friendly Invulnerability

        var state = allyStatus.onState;
        var invulnerable = state.some(function (x) {
          return x.type === "friendlyInvulnerable";
        });
        x.button = x.disabled || invulnerable ? true : !x.button;
      });
    } else if (payload.aim === "otherally" || payload.aim === "allotherally") {
      app.state.button.ally.forEach(function (x) {
        //Define
        var allyStatus = app.source.ally[x.index].status; //Friendly Invulnerability

        var state = allyStatus.onState;
        var invulnerable = state.some(function (x) {
          return x.type === "friendlyInvulnerable";
        });
        var name = app.state.button.ally[payload.heroIndex].name;

        if (x.name !== name) {
          x.button = x.disabled || invulnerable ? true : !x.button;
        }
      });
    } else if (payload.aim === "self") {
      var ally = app.state.button.ally[payload.heroIndex];
      ally.button = ally.disabled ? true : !ally.button;
    }
  } //Skill Button


  if (option === "onTarget") {
    console.log("onSkill");
    app.state.button.ally.forEach(function (x) {
      if (x.onSkill === false) {
        x.skill.forEach(function (s) {
          s.button = true;

          if (x.name === payload.offense && s.name === app.source.ally[payload.heroIndex].skill[payload.skill].name) {
            s.button = false;
          }
        });
      }
    });
  }

  if (option === "onCancel") {
    console.log("onCancel");
    app.state.button.ally.forEach(function (x) {
      if (x.onSkill === false || x.name === payload.offense) {
        x.skill.forEach(function (s) {
          s.button = s.disabled ? true : false;

          if (x.name === payload.offense && s.name === app.source.ally[payload.heroIndex].skill[payload.skill].name) {
            s.button = false;
          }
        });
      }
    });
  } else if (option === "onTarget") {
    console.log("onTarget");
    app.state.button.ally.forEach(function (x) {
      var index = app.packet.findIndex(function (s) {
        return s.offense === x.name;
      });

      if (index < 0) {
        x.skill.forEach(function (s) {
          s.button = s.disabled ? true : false;
        });
      }
    });
  } else if (option === "onSelf") {
    console.log("onSelf");
    app.state.button.ally[payload.heroIndex].skill.forEach(function (s) {
      s.button = s.disabled ? true : false;
    });
  } //Energy Management


  if (option !== "onSkill") {
    app.state.button.ally.forEach(function (x, xi) {
      if (x.onSkill === false && x.name !== payload.offense) {
        console.log(x.name);
        console.log(option);
        x.skill.forEach(function (s, si) {
          var energy = energyManagement({
            heroIndex: xi,
            skill: si
          }, "check");
          s.button = s.disabled || energy ? true : false;

          if (x.name === payload.offense && s.name === app.source.ally[payload.heroIndex].skill[payload.skill].name) {
            s.button = false;
          }
        });
      }

      if ((option === "onSelf" || option === "onCancel") && x.name === payload.offense) {
        x.skill.forEach(function (s, si) {
          var energy = energyManagement({
            heroIndex: xi,
            skill: si
          }, "check");
          s.button = s.disabled || energy ? true : false;
        });
      }
    });
  }
}

function stunManagement(onState, skill) {
  var stun = onState.map(function (x) {
    if (x.type === "stun") {
      var ignore = ignoreManagement(onState, x);

      var intersect = _.intersection(x.comprise, skill.classes);

      var evaluate;

      if (x.info === "inclusive") {
        evaluate = intersect.length > 0 ? true : false;
      } else if (x.info === "declusive") {
        evaluate = intersect.length === 0 ? true : false;
      }

      if (evaluate && !ignore) {
        return true;
      } else {
        return false;
      }
    }
  });

  if (stun.filter(function (x) {
    return x === true;
  }).length > 0) {
    return true;
  } else {
    return false;
  }
}

function invulnerableManagement(onState, skill) {
  var invulnerable = onState.map(function (x) {
    if (x.type === "invulnerable") {
      var ignoreInvul = skill.ignoreInvul;

      var intersect = _.intersection(x.comprise, skill.classes);

      var evaluate;

      if (x.info === "inclusive") {
        evaluate = intersect.length > 0 ? true : false;
      } else if (x.info === "declusive") {
        evaluate = intersect.length === 0 ? true : false;
      }

      if (evaluate && !ignoreInvul) {
        return true;
      } else {
        return false;
      }
    }
  });

  if (invulnerable.filter(function (x) {
    return x === true;
  }).length > 0) {
    return true;
  } else {
    return false;
  }
}

function ignoreManagement(onState, skill) {
  var ignore = onState.map(function (x) {
    if (x.type === "ignore") {
      var intersect = _.intersection(x.comprise, skill.classes);

      var evaluate;

      if (x.info === "inclusive") {
        evaluate = intersect.length > 0 ? true : false;
      } else if (x.info === "declusive") {
        evaluate = intersect.length === 0 ? true : false;
      }

      if (evaluate) {
        return true;
      } else {
        return false;
      }
    }
  });

  if (ignore.filter(function (x) {
    return x === true;
  }).length > 0) {
    return true;
  } else {
    return false;
  }
}
"use strict";

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function vueBind(payload) {
  var username = getCookie("username");
  console.log(payload);
  var ally = payload.team.teamEven === username ? "teamEven" : "teamOdd";
  var enemy = payload.team.teamEven === username ? "teamOdd" : "teamEven";
  var turnVal = ally === "teamEven" ? 0 : 1;
  var myTurn = payload.turn % 2 === turnVal ? true : false;

  if (payload.team.teamEven !== username && payload.team.teamOdd !== username) {
    console.log("spectate");
    app.mode = "spectate";
    myTurn = false; // return;
  }

  if (myTurn === true) {
    app.$refs.soundStartTurn.play();
  } //Time


  var timeDiff = (Date.now() - payload.timestamp) / 1000;
  var timeCalc = Math.floor(60 - timeDiff);
  var remaining = 100 * (timeCalc / 60);
  console.log(payload.timestamp, timeDiff, timeCalc, remaining);

  if (remaining < 0) {
    remaining = 0;
  }

  app.state.timer.turn = remaining; // if (payload.winner.state === true && payload.winner.name === username) {
  // } else if (
  //   payload.winner.state === true &&
  //   payload.winner.name !== username
  // ) {
  //   app.$refs.soundLose.play();
  // }

  var store = {
    energy: {
      ally: payload.energy[ally],
      enemy: payload.energy[enemy]
    },
    ally: payload[ally].map(function (x) {
      return _objectSpread({}, x, {
        skill: app.mode === "game" ? x.skill : x.skill.sort(function (a, b) {
          return a.id - b.id;
        }),
        indicator: statusView(x.name, x.status, turnVal)
      });
    }),
    enemy: payload[enemy].map(function (x) {
      return _objectSpread({}, x, {
        skill: x.skill.sort(function (a, b) {
          return a.id - b.id;
        }),
        indicator: statusView(x.name, x.status, turnVal)
      });
    }),
    turn: payload.turn,
    myTurn: myTurn,
    turnVal: turnVal,
    room: payload.room,
    meta: {
      myName: payload.team[ally],
      theirName: payload.team[enemy]
    },
    timestamp: payload.timestamp
  };
  store.energy.ally.r = store.energy.ally.a + store.energy.ally.i + store.energy.ally.s + store.energy.ally.w;
  console.log(store);
  var button = {
    ally: store.ally.map(function (x, i) {
      // let disabled = x.status.onState.findIndex(x => x.type === 'stun') > -1 || x.hp <= 0 ? true : false
      var disabled = x.hp <= 0 ? true : false; // let stun = x.status.onState.some(x => x.type === "stun") ? true : false;

      return {
        name: x.name,
        index: i,
        button: true,
        onSkill: false,
        disabled: disabled,
        skill: x.skill.map(function (s) {
          // console.log(s.type);
          var energy = energyManagement({
            energy: store.energy.ally,
            skillBind: s.energy
          }, "check");
          var stun = stunManagement(x.status.onState, s); // let disableDrVr =
          //   s.type === "invulnerable" &&
          //   x.status.onState.some(x => x.type === "disableDrIv")
          //     ? true
          //     : false;

          var disabled = stun || s.required || s.state === "cooldown" || myTurn === false || x.hp <= 0 ? true : false;
          return {
            name: s.name,
            disabled: disabled,
            button: disabled || energy ? true : false
          };
        })
      };
    }),
    enemy: store.enemy.map(function (x, i) {
      // let disabled =
      //   x.status.onState.some(x => x.type === "invulnerable") || x.hp <= 0
      //     ? true
      //     : false;
      var disabled = x.hp <= 0 ? true : false;
      return {
        name: x.name,
        index: i,
        disabled: disabled,
        button: true
      };
    })
  };
  app.source = store;
  app.state.button = button;
  app.state.winner = payload.winner;
  app.state.exchange.modal = false;
}

function statusView(name, payload, turnVal) {
  console.log(name.slice(-1), payload);

  var status = _.concat(payload.onAttack, payload.onReceive, payload.onState, payload.onSelf); // console.log("invisible", turnVal, name.slice(-1));


  if (app.mode === "game") {
    status = status.filter(function (x) {
      return x.isInvisible === false || x.isInvisible !== false && Number(x.nameId.slice(-1)) === turnVal;
    });
  } else {
    status = status.filter(function (x) {
      return x.isInvisible === false;
    });
  } // if (turnVal === Number(name.slice(-1))) {
  //   status = status.filter(
  //     x => x.isInvisible === false || x.isInvisible !== false && Number(x.nameId.slice(-1)) === turnVal
  //   );
  // } else {
  //   status = status.filter(
  //     x => x.isInvisible === false || x.isInvisible !== false && Number(x.nameId.slice(-1)) === turnVal
  //   );
  // }


  var groupByNameId = _.groupBy(status, "nameId");

  var valuesByNameId = _.values(groupByNameId);

  var groupBySkillIndex = valuesByNameId.map(function (x) {
    return _.groupBy(x, "skillIndex");
  });

  var valuesBySkillIndex = _.values(groupBySkillIndex);

  var concatValues = [];
  valuesBySkillIndex.forEach(function (x) {
    concatValues = concatValues.concat(_.values(x));
  });
  var final = concatValues.map(function (x) {
    var info = x[0];
    return {
      name: info.name,
      nameId: info.nameId,
      skillIndex: info.skillIndex,
      active: info.active,
      val: x
    };
  });
  return final;
}
"use strict";

function initiate() {
  var url = window.location.href.split("/");
  var room = url[url.length - 1];

  if (room !== "") {
    socket.emit("initiate", {
      room: room
    });
    chat.emit("gameInitiate", {
      room: room
    });
    chat.emit("lobbyInitiate");
  } else {// window.location.replace('/');
  }
}

initiate();
setInterval(function () {
  if (app.source.turn == undefined || app.state.winner.state !== false) {
    return;
  }

  if (app.state.timer.turn > 0) {
    var timer = app.state.timer.turn - 1.66;

    if (timer < 0) {
      timer = 0;
    }

    app.state.timer.turn = timer;
  } else if (app.state.timer.turn <= 0 && app.source.myTurn === true) {
    var timeDiff = (Date.now() - app.source.timestamp) / 1000;
    var timeCalc = 60 - timeDiff;
    var remaining = 100 * (timeCalc / 60); // console.log(app.source.timestamp, timeDiff, timeCalc, remaining);

    if (remaining <= 0 && app.state.timer.turn <= 0 && app.source.myTurn === true) {
      var payload = {
        energy: {
          a: 0,
          i: 0,
          s: 0,
          w: 0
        },
        packet: []
      };
      app.onDone(payload);
      app.source.myTurn = false;
    }
  }
}, 1000);

window.onfocus = function () {
  document.title = "Anime Rumble";
};

function scrollChat() {
  var container = app.$el.querySelector("#chat");
  container.scrollTop = container.scrollHeight;
}

var devtools = /./;

devtools.toString = function () {
  this.opened = true;
  var url = window.location.href.split("/");

  if (url[2] !== "localhost:3000") {
    setTimeout(function () {
      app.onSurrender();
      window.location.replace("/");
    }, 1000);
  }

  return "v.0.0.1 Alpha";
};

console.log("Welcome to Anime Rumble", devtools);
"use strict";

socket.on("apply", function (payload) {
  document.title = "(!) Anime Rumble";
  vueBind(payload);
});
socket.on("noMatch", function (payload) {
  console.log("none");
  window.location.replace("/");
});
chat.on("chat", function (payload) {
  console.log(payload);

  if (payload.channel === "ingame") {
    app.chat.push(payload.message);

    if (app.chatChannel !== "ingame") {
      app.chatNotif.ingame = true;
    } else {
      scrollChat();
    }
  } else if (payload.channel === "lobby") {
    app.lobbychat.push(payload.message);

    if (app.chatChannel !== "lobby") {
      app.chatNotif.lobby = true;
    } else {
      scrollChat();
    }
  }
});
chat.on("gameInitiate", function (payload) {
  app.chat = payload;
  setTimeout(function () {
    scrollChat();
  }, 100);
});
chat.on("lobbyInitiate", function (payload) {
  app.lobbychat = payload;
}); //Handle Disconnect

socket.on("onDisconnect", function (payload) {
  var message = {
    name: "System",
    message: payload.username + " disconnected. Has 30 seconds to reconnect.",
    timestamp: Date.now()
  };
  app.chat.push(message);
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlbHBlci5qcyIsInNldHVwLmpzIiwidnVlLmpzIiwibWFuYWdlbWVudC5qcyIsInJlbmRlcmVyLmpzIiwiZ2VuZXJhbC5qcyIsInNvY2tldC5qcyJdLCJuYW1lcyI6WyJnZXRQYXJhbWV0ZXJOYW1lIiwibmFtZSIsInVybCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsInJlcGxhY2UiLCJyZWdleCIsIlJlZ0V4cCIsInJlc3VsdHMiLCJleGVjIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwic2V0Q29va2llIiwidmFsdWUiLCJkYXlzIiwicGF0aCIsImV4cGlyZXMiLCJEYXRlIiwibm93IiwidG9HTVRTdHJpbmciLCJkb2N1bWVudCIsImNvb2tpZSIsImVuY29kZVVSSUNvbXBvbmVudCIsImdldENvb2tpZSIsInNwbGl0IiwicmVkdWNlIiwiciIsInYiLCJwYXJ0cyIsImRlbGV0ZUNvb2tpZSIsImdldFJvb21OYW1lIiwicm9vbSIsImxlbmd0aCIsInNvY2tldCIsImlvIiwiY2hhdCIsIlZ1ZSIsInVzZSIsIlZUb29sdGlwIiwiYXBwIiwiZWwiLCJkYXRhIiwibW9kZSIsImxvYmJ5Y2hhdCIsImNoYXRTZW5kIiwiY2hhdENoYW5uZWwiLCJjaGF0Tm90aWYiLCJsb2JieSIsImluZ2FtZSIsInNvdXJjZSIsImVuZXJneSIsImFsbHkiLCJtZXRhIiwicGFja2V0Iiwic3RhdGUiLCJza2lsbCIsIm9mZmVuc2UiLCJza2lsbElkIiwic2tpbGxOYW1lIiwidGFyZ2V0IiwiYWltIiwiaGVyb0luZGV4IiwidGltZXIiLCJ0dXJuIiwib25Ta2lsbCIsImJ1dHRvbiIsImRlc2NyaXB0aW9uIiwid2lubmVyIiwibW9kYWwiLCJyYW5kb20iLCJleGNoYW5nZSIsInVzZWQiLCJ2YWwiLCJzaG93TW9kYWwiLCJtZXRob2RzIiwib25TdXJyZW5kZXIiLCJjb25zb2xlIiwibG9nIiwiZW1pdCIsIm9uQ2hhdCIsImNoYW5uZWwiLCJtZXNzYWdlIiwic2Nyb2xsQ2hhdCIsInNldFRpbWVvdXQiLCJvbkV4Y2hhbmdlIiwiZSIsIiRyZWZzIiwic291bmRDbGljayIsInBsYXkiLCJjb3N0IiwiZm9yRWFjaCIsIngiLCJ4aSIsInMiLCJzaSIsImVuZXJneU1hbmFnZW1lbnQiLCJkaXNhYmxlZCIsImJ1dHRvbk1hbmFnZW1lbnQiLCJvbkRvbmUiLCJteVR1cm4iLCJzb3VuZEVuZFR1cm4iLCJmaWx0ZXIiLCJ1bnNoaWZ0IiwibXNnIiwicGF5bG9hZCIsInNraWxsSW5kZXgiLCJtYXJraW5nIiwidGVtcG9yYXJ5IiwiaXNPblNraWxsIiwib25UYXJnZXQiLCJlbmVteSIsIm1hcCIsImNvbmNhdCIsInB1c2giLCJvbkF0dGFjayIsIm9uRGVzY3JpcHRpb24iLCJvcHRpb24iLCJ1bmRlZmluZWQiLCJvd25lciIsImZpbmRJbmRleCIsImlkIiwiY29uZmlnIiwibmFtZUlkIiwiYSIsImkiLCJ3IiwidG90YWwiLCJjbGFzc2VzIiwiY29vbGRvd24iLCJhbHQiLCJvblN0YXR1cyIsInN0YXR1cyIsIl8iLCJvblJlY2VpdmUiLCJvblN0YXRlIiwib25TZWxmIiwiZ3JvdXAiLCJncm91cEJ5Iiwic3ViZ3JvdXAiLCJ0b0FycmF5IiwicHJlcCIsImZpbmFsIiwiaW5mbyIsIm9uR2V0SW1hZ2UiLCJpbmRleCIsInNsaWNlIiwidGFyZ2V0aW5nQ3VlIiwicmVzdWx0Iiwib25IUCIsImhwIiwic2tpbGxCaW5kIiwiYWN0aXZlIiwiY291bnQiLCJlbmVteVN0YXR1cyIsImludnVsbmVyYWJsZSIsImludnVsbmVyYWJsZU1hbmFnZW1lbnQiLCJpZ25vcmUiLCJpZ25vcmVNYW5hZ2VtZW50Iiwic29tZSIsInR5cGUiLCJsb2NrIiwiYWxseVN0YXR1cyIsInN0dW5NYW5hZ2VtZW50Iiwic3R1biIsImludGVyc2VjdCIsImludGVyc2VjdGlvbiIsImNvbXByaXNlIiwiZXZhbHVhdGUiLCJpZ25vcmVJbnZ1bCIsInZ1ZUJpbmQiLCJ1c2VybmFtZSIsInRlYW0iLCJ0ZWFtRXZlbiIsInR1cm5WYWwiLCJ0ZWFtT2RkIiwic291bmRTdGFydFR1cm4iLCJ0aW1lRGlmZiIsInRpbWVzdGFtcCIsInRpbWVDYWxjIiwiTWF0aCIsImZsb29yIiwicmVtYWluaW5nIiwic3RvcmUiLCJzb3J0IiwiYiIsImluZGljYXRvciIsInN0YXR1c1ZpZXciLCJteU5hbWUiLCJ0aGVpck5hbWUiLCJyZXF1aXJlZCIsImlzSW52aXNpYmxlIiwiTnVtYmVyIiwiZ3JvdXBCeU5hbWVJZCIsInZhbHVlc0J5TmFtZUlkIiwidmFsdWVzIiwiZ3JvdXBCeVNraWxsSW5kZXgiLCJ2YWx1ZXNCeVNraWxsSW5kZXgiLCJjb25jYXRWYWx1ZXMiLCJpbml0aWF0ZSIsInNldEludGVydmFsIiwib25mb2N1cyIsInRpdGxlIiwiY29udGFpbmVyIiwiJGVsIiwicXVlcnlTZWxlY3RvciIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsImRldnRvb2xzIiwidG9TdHJpbmciLCJvcGVuZWQiLCJvbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxTQUFTQSxnQkFBVCxDQUEwQkMsSUFBMUIsRUFBZ0NDLEdBQWhDLEVBQXFDO0FBQ25DLE1BQUksQ0FBQ0EsR0FBTCxFQUFVQSxNQUFNQyxPQUFPQyxRQUFQLENBQWdCQyxJQUF0QjtBQUNWSixTQUFPQSxLQUFLSyxPQUFMLENBQWEsU0FBYixFQUF3QixNQUF4QixDQUFQO0FBQ0EsTUFBSUMsUUFBUSxJQUFJQyxNQUFKLENBQVcsU0FBU1AsSUFBVCxHQUFnQixtQkFBM0IsQ0FBWjtBQUFBLE1BQ0VRLFVBQVVGLE1BQU1HLElBQU4sQ0FBV1IsR0FBWCxDQURaO0FBRUEsTUFBSSxDQUFDTyxPQUFMLEVBQWMsT0FBTyxJQUFQO0FBQ2QsTUFBSSxDQUFDQSxRQUFRLENBQVIsQ0FBTCxFQUFpQixPQUFPLEVBQVA7QUFDakIsU0FBT0UsbUJBQW1CRixRQUFRLENBQVIsRUFBV0gsT0FBWCxDQUFtQixLQUFuQixFQUEwQixHQUExQixDQUFuQixDQUFQO0FBQ0Q7O0FBRUQsSUFBTU0sWUFBWSxTQUFaQSxTQUFZLENBQUNYLElBQUQsRUFBT1ksS0FBUCxFQUF1QztBQUFBLE1BQXpCQyxJQUF5Qix1RUFBbEIsQ0FBa0I7QUFBQSxNQUFmQyxJQUFlLHVFQUFSLEdBQVE7QUFDdkQsTUFBTUMsVUFBVSxJQUFJQyxJQUFKLENBQVNBLEtBQUtDLEdBQUwsS0FBYUosT0FBTyxLQUE3QixFQUFvQ0ssV0FBcEMsRUFBaEI7QUFDQUMsV0FBU0MsTUFBVCxHQUNFcEIsT0FDQSxHQURBLEdBRUFxQixtQkFBbUJULEtBQW5CLENBRkEsR0FHQSxZQUhBLEdBSUFHLE9BSkEsR0FLQSxTQUxBLEdBTUFELElBUEY7QUFRRCxDQVZEOztBQVlBLElBQU1RLFlBQVksU0FBWkEsU0FBWSxPQUFRO0FBQ3hCLFNBQU9ILFNBQVNDLE1BQVQsQ0FBZ0JHLEtBQWhCLENBQXNCLElBQXRCLEVBQTRCQyxNQUE1QixDQUFtQyxVQUFDQyxDQUFELEVBQUlDLENBQUosRUFBVTtBQUNsRCxRQUFNQyxRQUFRRCxFQUFFSCxLQUFGLENBQVEsR0FBUixDQUFkO0FBQ0EsV0FBT0ksTUFBTSxDQUFOLE1BQWEzQixJQUFiLEdBQW9CVSxtQkFBbUJpQixNQUFNLENBQU4sQ0FBbkIsQ0FBcEIsR0FBbURGLENBQTFEO0FBQ0QsR0FITSxFQUdKLEVBSEksQ0FBUDtBQUlELENBTEQ7O0FBT0EsSUFBTUcsZUFBZSxTQUFmQSxZQUFlLENBQUM1QixJQUFELEVBQU9jLElBQVAsRUFBZ0I7QUFDbkNILFlBQVVYLElBQVYsRUFBZ0IsRUFBaEIsRUFBb0IsQ0FBQyxDQUFyQixFQUF3QmMsSUFBeEI7QUFDRCxDQUZEOztBQUlBLFNBQVNlLFdBQVQsR0FBdUI7QUFDckIsTUFBSTVCLE1BQU1DLE9BQU9DLFFBQVAsQ0FBZ0JDLElBQWhCLENBQXFCbUIsS0FBckIsQ0FBMkIsR0FBM0IsQ0FBVjtBQUNBLE1BQUlPLE9BQU83QixJQUFJQSxJQUFJOEIsTUFBSixHQUFhLENBQWpCLENBQVg7QUFDQSxTQUFPRCxJQUFQO0FBQ0Q7O0FBQUE7OztBQ3JDRCxJQUFJQSxPQUFPRCxhQUFYO0FBQ0EsSUFBSUcsU0FBU0MsR0FBRyxnQkFBZ0JILElBQW5CLENBQWI7QUFDQSxJQUFJSSxPQUFPRCxHQUFHLE9BQUgsQ0FBWDs7O0FDRkFFLElBQUlDLEdBQUosQ0FBUUMsUUFBUjtBQUNBLElBQUlDLE1BQU0sSUFBSUgsR0FBSixDQUFRO0FBQ2hCSSxNQUFJLE1BRFk7QUFFaEJDLFFBQU07QUFDSkMsVUFBTSxNQURGO0FBRUpQLFVBQU0sRUFGRjtBQUdKUSxlQUFXLEVBSFA7QUFJSkMsY0FBVSxFQUpOO0FBS0pDLGlCQUFhLFFBTFQ7QUFNSkMsZUFBVztBQUNUQyxhQUFPLEtBREU7QUFFVEMsY0FBUTtBQUZDLEtBTlA7QUFVSkMsWUFBUTtBQUNOQyxjQUFRO0FBQ05DLGNBQU07QUFEQSxPQURGO0FBSU5DLFlBQU07QUFKQSxLQVZKO0FBZ0JKQyxZQUFRLEVBaEJKO0FBaUJKQyxXQUFPO0FBQ0xDLGFBQU87QUFDTEMsaUJBQVMsSUFESjtBQUVMRCxlQUFPLElBRkY7QUFHTEUsaUJBQVMsSUFISjtBQUlMQyxtQkFBVyxJQUpOO0FBS0xDLGdCQUFRLElBTEg7QUFNTEMsYUFBSyxJQU5BO0FBT0xDLG1CQUFXO0FBUE4sT0FERjtBQVVMQyxhQUFPO0FBQ0xDLGNBQU07QUFERCxPQVZGO0FBYUxDLGVBQVMsS0FiSjtBQWNMQyxjQUFRLEVBZEg7QUFlTEMsbUJBQWEsSUFmUjtBQWdCTEMsY0FBUTtBQUNOYixlQUFPLEtBREQ7QUFFTnJELGNBQU07QUFGQSxPQWhCSDtBQW9CTGlELGNBQVE7QUFDTmtCLGVBQU8sS0FERDtBQUVOQyxnQkFBUTtBQUZGLE9BcEJIO0FBd0JMQyxnQkFBVTtBQUNSRixlQUFPLEtBREM7QUFFUkcsY0FBTSxLQUZFO0FBR1JyQixnQkFBUSxFQUhBO0FBSVJzQixhQUFLO0FBSkc7QUF4QkwsS0FqQkg7QUFnREpDLGVBQVc7QUFoRFAsR0FGVTtBQW9EaEJDLFdBQVM7QUFDUEMsaUJBQWEsdUJBQVc7QUFDdEJDLGNBQVFDLEdBQVIsQ0FBWSxXQUFaO0FBQ0E1QyxhQUFPNkMsSUFBUCxDQUFZLFdBQVosRUFBeUI7QUFBRS9DLGNBQU0sS0FBS2tCLE1BQUwsQ0FBWWxCO0FBQXBCLE9BQXpCO0FBQ0QsS0FKTTtBQUtQZ0QsWUFBUSxrQkFBVztBQUNqQixVQUFJQyxVQUFVLEtBQUtuQyxXQUFMLEtBQXFCLFFBQXJCLEdBQWdDLFFBQWhDLEdBQTJDLE9BQXpEO0FBRUEsVUFBSVEsU0FBUztBQUNYMkIsaUJBQVNBLE9BREU7QUFFWGpELGNBQU0sS0FBS2tCLE1BQUwsQ0FBWWxCLElBRlA7QUFHWGtELGlCQUFTLEtBQUtyQztBQUhILE9BQWI7QUFLQVQsV0FBSzJDLElBQUwsQ0FBVSxNQUFWLEVBQWtCekIsTUFBbEI7QUFDQSxXQUFLVCxRQUFMLEdBQWdCLEVBQWhCO0FBQ0QsS0FmTTtBQWdCUHNDO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBLE1BQVksWUFBVztBQUNyQkMsaUJBQVcsWUFBTTtBQUNmRDtBQUNELE9BRkQsRUFFRyxHQUZIO0FBR0QsS0FKRCxDQWhCTztBQXFCUEUsZ0JBQVksb0JBQVNDLENBQVQsRUFBWTtBQUN0QjtBQUNBLFdBQUtDLEtBQUwsQ0FBV0MsVUFBWCxDQUFzQkMsSUFBdEI7QUFFQSxVQUFJbEMsUUFBUSxLQUFLQSxLQUFqQjtBQUNBLFdBQUtMLE1BQUwsQ0FBWUMsTUFBWixDQUFtQkMsSUFBbkIsR0FBMEJrQyxFQUFFbkMsTUFBNUI7QUFDQSxXQUFLRCxNQUFMLENBQVlDLE1BQVosQ0FBbUJDLElBQW5CLENBQXdCekIsQ0FBeEIsR0FDRSxLQUFLdUIsTUFBTCxDQUFZQyxNQUFaLENBQW1CQyxJQUFuQixDQUF3QnpCLENBQXhCLEdBQTRCLEtBQUs0QixLQUFMLENBQVdKLE1BQVgsQ0FBa0JtQixNQURoRDtBQUVBZixZQUFNZ0IsUUFBTixDQUFlcEIsTUFBZixHQUF3Qm1DLEVBQUVJLElBQTFCO0FBQ0FuQyxZQUFNZ0IsUUFBTixDQUFlRixLQUFmLEdBQXVCLEtBQXZCO0FBQ0FkLFlBQU1nQixRQUFOLENBQWVDLElBQWYsR0FBc0IsSUFBdEI7QUFDQWpCLFlBQU1nQixRQUFOLENBQWVFLEdBQWYsR0FBcUJhLEVBQUVmLFFBQXZCO0FBRUFoQixZQUFNVyxNQUFOLENBQWFkLElBQWIsQ0FBa0J1QyxPQUFsQixDQUEwQixVQUFDQyxDQUFELEVBQUlDLEVBQUosRUFBVztBQUNuQyxZQUFJRCxFQUFFM0IsT0FBRixLQUFjLEtBQWxCLEVBQXlCO0FBQ3ZCWSxrQkFBUUMsR0FBUixDQUFZYyxFQUFFMUYsSUFBZDtBQUNBMEYsWUFBRXBDLEtBQUYsQ0FBUW1DLE9BQVIsQ0FBZ0IsVUFBQ0csQ0FBRCxFQUFJQyxFQUFKLEVBQVc7QUFDekIsZ0JBQUk1QyxTQUFTNkMsaUJBQ1g7QUFBRWxDLHlCQUFXK0IsRUFBYjtBQUFpQnJDLHFCQUFPdUM7QUFBeEIsYUFEVyxFQUVYLE9BRlcsQ0FBYjtBQUlBRCxjQUFFNUIsTUFBRixHQUFXNEIsRUFBRUcsUUFBRixJQUFjOUMsTUFBZCxHQUF1QixJQUF2QixHQUE4QixLQUF6QztBQUNBMEIsb0JBQVFDLEdBQVIsQ0FBWTNCLE1BQVosRUFBb0IyQyxFQUFFRyxRQUF0QixFQUFnQ0gsRUFBRTVCLE1BQWxDO0FBQ0QsV0FQRDtBQVFEO0FBQ0YsT0FaRCxFQWJzQixDQTJCdEI7O0FBQ0EsVUFBSVgsTUFBTUMsS0FBTixDQUFZQyxPQUFaLEtBQXdCLElBQXhCLElBQWdDRixNQUFNQyxLQUFOLENBQVlJLE1BQVosS0FBdUIsSUFBM0QsRUFBaUU7QUFDL0Q7QUFDQTtBQUNBc0MseUJBQWlCM0MsTUFBTUMsS0FBdkIsRUFBOEIsVUFBOUIsRUFIK0QsQ0FJL0Q7O0FBQ0FELGNBQU1DLEtBQU4sR0FBYztBQUNaQyxtQkFBUyxJQURHO0FBRVpELGlCQUFPLElBRks7QUFHWkUsbUJBQVMsSUFIRztBQUlaQyxxQkFBVyxJQUpDO0FBS1pDLGtCQUFRLElBTEk7QUFNWkMsZUFBSyxJQU5PO0FBT1pDLHFCQUFXO0FBUEMsU0FBZDtBQVNEO0FBQ0YsS0FoRU07QUFpRVBxQyxZQUFRLGdCQUFTYixDQUFULEVBQVk7QUFDbEJULGNBQVFDLEdBQVIsQ0FBWVEsQ0FBWjtBQUNBOUMsVUFBSVUsTUFBSixDQUFXa0QsTUFBWCxHQUFvQixLQUFwQixDQUZrQixDQUdsQjs7QUFDQSxXQUFLYixLQUFMLENBQVdjLFlBQVgsQ0FBd0JaLElBQXhCLEdBSmtCLENBTWxCOztBQUNBLFVBQUlsQyxRQUFRLEtBQUtBLEtBQWpCO0FBQ0EsVUFBSUQsU0FBU2dDLEVBQUVoQyxNQUFmLENBUmtCLENBVWxCOztBQUNBQyxZQUFNSixNQUFOLENBQWFrQixLQUFiLEdBQXFCLEtBQXJCO0FBQ0FmLGVBQVNBLE9BQU9nRCxNQUFQLENBQ1A7QUFBQSxlQUNFVixFQUFFcEMsS0FBRixLQUFZLElBQVosSUFDQW9DLEVBQUVsQyxPQUFGLEtBQWMsSUFEZCxJQUVBa0MsRUFBRWpDLFNBQUYsS0FBZ0IsSUFGaEIsSUFHQWlDLEVBQUVuQyxPQUFGLEtBQWMsSUFIZCxJQUlBbUMsRUFBRWhDLE1BQUYsS0FBYSxJQUpiLElBS0FnQyxFQUFFL0IsR0FBRixLQUFVLElBTFYsSUFNQStCLEVBQUU5QixTQUFGLEtBQWdCLElBUGxCO0FBQUEsT0FETyxDQUFUO0FBVUFSLGFBQU9pRCxPQUFQLENBQWVqQixFQUFFbkMsTUFBakI7O0FBQ0EsVUFBSUksTUFBTWdCLFFBQU4sQ0FBZUMsSUFBZixLQUF3QixJQUE1QixFQUFrQztBQUNoQ2xCLGVBQU9pRCxPQUFQLENBQ0U7QUFBRUMsZUFBSyxVQUFQO0FBQW1CL0IsZUFBS2xCLE1BQU1nQixRQUFOLENBQWVFO0FBQXZDLFNBREYsRUFFRWxCLE1BQU1nQixRQUFOLENBQWVwQixNQUZqQjtBQUlBSSxjQUFNZ0IsUUFBTixDQUFlQyxJQUFmLEdBQXNCLEtBQXRCO0FBQ0QsT0E3QmlCLENBK0JsQjs7O0FBQ0F0QyxhQUFPNkMsSUFBUCxDQUFZLFVBQVosRUFBd0I7QUFDdEJ6QixnQkFBUUEsTUFEYztBQUV0QnRCLGNBQU0sS0FBS2tCLE1BQUwsQ0FBWWxCO0FBRkksT0FBeEIsRUFoQ2tCLENBcUNsQjs7QUFDQXVCLFlBQU1KLE1BQU4sQ0FBYW1CLE1BQWIsR0FBc0IsQ0FBdEI7QUFDQSxXQUFLaEIsTUFBTCxHQUFjLEVBQWQ7QUFDQUMsWUFBTUMsS0FBTixHQUFjO0FBQ1pDLGlCQUFTLElBREc7QUFFWkQsZUFBTyxJQUZLO0FBR1pFLGlCQUFTLElBSEc7QUFJWkMsbUJBQVcsSUFKQztBQUtaQyxnQkFBUSxJQUxJO0FBTVpDLGFBQUssSUFOTztBQU9aQyxtQkFBVztBQVBDLE9BQWQ7QUFTRCxLQWxITTtBQW1IUEcsYUFBUyxpQkFBU3dDLE9BQVQsRUFBa0I7QUFDekI7QUFDQSxVQUFJbEQsUUFBUSxLQUFLQSxLQUFqQjtBQUNBLFVBQUlDLFFBQVEsS0FBS04sTUFBTCxDQUFZRSxJQUFaLENBQWlCcUQsUUFBUTNDLFNBQXpCLEVBQW9DTixLQUFwQyxDQUEwQ2lELFFBQVFDLFVBQWxELENBQVo7QUFDQSxVQUFJQyxVQUFVbkQsTUFBTW1ELE9BQXBCO0FBQ0EsVUFBSWhELFlBQVlILE1BQU10RCxJQUF0QjtBQUNBLFVBQUkwRyxZQUFZO0FBQ2RuRCxpQkFBU2dELFFBQVF2RyxJQURIO0FBRWRzRCxlQUFPaUQsUUFBUUMsVUFGRDtBQUdkaEQsaUJBQVMrQyxRQUFRL0MsT0FISDtBQUlkQyxtQkFBV0EsU0FKRztBQUtkQyxnQkFBUSxJQUxNO0FBTWRDLGFBQUs0QyxRQUFRN0MsTUFOQztBQU9kRSxtQkFBVzJDLFFBQVEzQyxTQVBMO0FBUWQ2QyxpQkFBU0E7QUFSSyxPQUFoQixDQU55QixDQWlCekI7O0FBQ0EsVUFBSUUsWUFBWXRELE1BQU1XLE1BQU4sQ0FBYWQsSUFBYixDQUFrQndELFVBQVU5QyxTQUE1QixFQUF1Q0csT0FBdkQ7O0FBRUEsVUFDRTRDLGNBQWMsS0FBZCxJQUNBdEQsTUFBTUMsS0FBTixDQUFZQyxPQUFaLEtBQXdCLElBRHhCLElBRUFGLE1BQU1DLEtBQU4sQ0FBWUksTUFBWixLQUF1QixJQUh6QixFQUlFO0FBQ0E7QUFDQTtBQUNBTCxjQUFNQyxLQUFOLEdBQWNvRCxTQUFkLENBSEEsQ0FJQTs7QUFDQVYseUJBQWlCVSxTQUFqQixFQUE0QixTQUE1QjtBQUNELE9BVkQsTUFVTyxJQUNMQyxjQUFjLEtBQWQsSUFDQXRELE1BQU1DLEtBQU4sQ0FBWUMsT0FBWixLQUF3QixJQUR4QixJQUVBRixNQUFNQyxLQUFOLENBQVlJLE1BQVosS0FBdUIsSUFIbEIsRUFJTDtBQUNBO0FBQ0E7QUFDQXNDLHlCQUFpQjNDLE1BQU1DLEtBQXZCLEVBQThCLFVBQTlCO0FBQ0E0QixtQkFBVyxZQUFNO0FBQ2ZjLDJCQUFpQlUsU0FBakIsRUFBNEIsU0FBNUI7QUFDRCxTQUZELEVBRUcsR0FGSCxFQUpBLENBT0E7O0FBQ0FyRCxjQUFNQyxLQUFOLEdBQWNvRCxTQUFkO0FBQ0QsT0FiTSxNQWFBLElBQUlDLGNBQWMsSUFBbEIsRUFBd0I7QUFDN0I7QUFDQWIseUJBQWlCWSxTQUFqQixFQUE0QixLQUE1QixFQUY2QixDQUc3Qjs7QUFDQVYseUJBQWlCM0MsTUFBTUMsS0FBdkIsRUFBOEIsVUFBOUI7QUFDQTBDLHlCQUFpQlUsU0FBakIsRUFBNEIsUUFBNUI7QUFDQSxhQUFLdEQsTUFBTCxHQUFjLEtBQUtBLE1BQUwsQ0FBWWdELE1BQVosQ0FBbUI7QUFBQSxpQkFBS1YsRUFBRW5DLE9BQUYsS0FBY21ELFVBQVVuRCxPQUE3QjtBQUFBLFNBQW5CLENBQWQsQ0FONkIsQ0FPN0I7O0FBQ0FGLGNBQU1DLEtBQU4sR0FBYztBQUNaQyxtQkFBUyxJQURHO0FBRVpELGlCQUFPLElBRks7QUFHWkUsbUJBQVMsSUFIRztBQUlaQyxxQkFBVyxJQUpDO0FBS1pDLGtCQUFRLElBTEk7QUFNWkMsZUFBSyxJQU5PO0FBT1pDLHFCQUFXO0FBUEMsU0FBZCxDQVI2QixDQWlCN0I7O0FBQ0FQLGNBQU1XLE1BQU4sQ0FBYWQsSUFBYixDQUFrQndELFVBQVU5QyxTQUE1QixFQUF1Q0csT0FBdkMsR0FBaUQsS0FBakQ7QUFDRDtBQUNGLEtBbExNO0FBbUxQNkMsY0FBVSxrQkFBU0wsT0FBVCxFQUFrQjtBQUMxQjtBQUNBLFdBQUtsQixLQUFMLENBQVdDLFVBQVgsQ0FBc0JDLElBQXRCLEdBRjBCLENBSTFCOztBQUNBLFVBQUlsQyxRQUFRLEtBQUtBLEtBQWpCLENBTDBCLENBTzFCOztBQUNBLFVBQUlBLE1BQU1DLEtBQU4sQ0FBWUssR0FBWixLQUFvQixVQUFwQixJQUFrQ04sTUFBTUMsS0FBTixDQUFZSyxHQUFaLEtBQW9CLGFBQTFELEVBQXlFO0FBQ3ZFZ0IsZ0JBQVFDLEdBQVIsQ0FBWXZCLE1BQU1XLE1BQU4sQ0FBYTZDLEtBQXpCO0FBQ0F4RCxjQUFNQyxLQUFOLENBQVlJLE1BQVosR0FBcUJMLE1BQU1XLE1BQU4sQ0FBYTZDLEtBQWIsQ0FDbEJULE1BRGtCLENBQ1g7QUFBQSxpQkFBS1YsRUFBRTFCLE1BQUYsS0FBYSxJQUFiLElBQXFCMEIsRUFBRTFGLElBQUYsS0FBV3VHLFFBQVF2RyxJQUE3QztBQUFBLFNBRFcsRUFFbEI4RyxHQUZrQixDQUVkO0FBQUEsaUJBQUtwQixFQUFFMUYsSUFBUDtBQUFBLFNBRmMsQ0FBckI7QUFHQXFELGNBQU1DLEtBQU4sQ0FBWUksTUFBWixDQUFtQjJDLE9BQW5CLENBQTJCRSxRQUFRdkcsSUFBbkM7QUFDRCxPQU5ELE1BTU8sSUFBSXFELE1BQU1DLEtBQU4sQ0FBWUssR0FBWixLQUFvQixTQUF4QixFQUFtQztBQUN4Q04sY0FBTUMsS0FBTixDQUFZSSxNQUFaLEdBQXFCTCxNQUFNVyxNQUFOLENBQWFkLElBQWIsQ0FBa0I0RCxHQUFsQixDQUFzQjtBQUFBLGlCQUFLcEIsRUFBRTFGLElBQVA7QUFBQSxTQUF0QixDQUFyQjtBQUNELE9BRk0sTUFFQSxJQUFJcUQsTUFBTUMsS0FBTixDQUFZSyxHQUFaLEtBQW9CLGlCQUF4QixFQUEyQztBQUNoRE4sY0FBTUMsS0FBTixDQUFZSSxNQUFaLEdBQXFCTCxNQUFNVyxNQUFOLENBQWE2QyxLQUFiLENBQ2xCVCxNQURrQixDQUNYO0FBQUEsaUJBQUtWLEVBQUUxQixNQUFGLEtBQWEsSUFBYixJQUFxQjBCLEVBQUUxRixJQUFGLEtBQVd1RyxRQUFRdkcsSUFBN0M7QUFBQSxTQURXLEVBRWxCOEcsR0FGa0IsQ0FFZDtBQUFBLGlCQUFLcEIsRUFBRTFGLElBQVA7QUFBQSxTQUZjLENBQXJCO0FBR0FxRCxjQUFNQyxLQUFOLENBQVlJLE1BQVosQ0FBbUIyQyxPQUFuQixDQUEyQkUsUUFBUXZHLElBQW5DO0FBQ0EsWUFBSWtELE9BQU9HLE1BQU1XLE1BQU4sQ0FBYWQsSUFBYixDQUFrQjRELEdBQWxCLENBQXNCO0FBQUEsaUJBQUtwQixFQUFFMUYsSUFBUDtBQUFBLFNBQXRCLENBQVg7QUFDQXFELGNBQU1DLEtBQU4sQ0FBWUksTUFBWixHQUFxQkwsTUFBTUMsS0FBTixDQUFZSSxNQUFaLENBQW1CcUQsTUFBbkIsQ0FBMEI3RCxJQUExQixDQUFyQjtBQUNELE9BUE0sTUFPQSxJQUFJRyxNQUFNQyxLQUFOLENBQVlLLEdBQVosS0FBb0IsY0FBeEIsRUFBd0M7QUFDN0NOLGNBQU1DLEtBQU4sQ0FBWUksTUFBWixHQUFxQkwsTUFBTVcsTUFBTixDQUFhZCxJQUFiLENBQ2xCa0QsTUFEa0IsQ0FDWDtBQUFBLGlCQUFLVixFQUFFMUYsSUFBRixLQUFXcUQsTUFBTUMsS0FBTixDQUFZQyxPQUE1QjtBQUFBLFNBRFcsRUFFbEJ1RCxHQUZrQixDQUVkO0FBQUEsaUJBQUtwQixFQUFFMUYsSUFBUDtBQUFBLFNBRmMsQ0FBckI7QUFHRCxPQUpNLE1BSUE7QUFDTHFELGNBQU1DLEtBQU4sQ0FBWUksTUFBWixHQUFxQixDQUFDNkMsUUFBUXZHLElBQVQsQ0FBckI7QUFDRCxPQTdCeUIsQ0E4QjFCOzs7QUFDQSxXQUFLb0QsTUFBTCxDQUFZNEQsSUFBWixDQUFpQixLQUFLM0QsS0FBTCxDQUFXQyxLQUE1QixFQS9CMEIsQ0FpQzFCOztBQUNBd0MsdUJBQWlCekMsTUFBTUMsS0FBdkIsRUFBOEIsV0FBOUIsRUFsQzBCLENBbUMxQjtBQUNBOztBQUNBMEMsdUJBQWlCM0MsTUFBTUMsS0FBdkIsRUFBOEIsVUFBOUIsRUFyQzBCLENBc0MxQjs7QUFDQUQsWUFBTVcsTUFBTixDQUFhZCxJQUFiLENBQWtCRyxNQUFNQyxLQUFOLENBQVlNLFNBQTlCLEVBQXlDRyxPQUF6QyxHQUFtRCxJQUFuRCxDQXZDMEIsQ0F5QzFCOztBQUNBVixZQUFNQyxLQUFOLEdBQWM7QUFDWkMsaUJBQVMsSUFERztBQUVaRCxlQUFPLElBRks7QUFHWkUsaUJBQVMsSUFIRztBQUlaQyxtQkFBVyxJQUpDO0FBS1pDLGdCQUFRLElBTEk7QUFNWkMsYUFBSyxJQU5PO0FBT1pDLG1CQUFXO0FBUEMsT0FBZDtBQVNELEtBdE9NO0FBdU9QcUQsY0FBVSxrQkFBU1YsT0FBVCxFQUFrQjtBQUMxQjtBQUNBLFdBQUtsQixLQUFMLENBQVdDLFVBQVgsQ0FBc0JDLElBQXRCO0FBRUEsV0FBS2xDLEtBQUwsQ0FBV0osTUFBWCxDQUFrQmtCLEtBQWxCLEdBQTBCLElBQTFCO0FBQ0QsS0E1T007QUE2T1ArQyxtQkFBZSx1QkFBU1gsT0FBVCxFQUFzQztBQUFBLFVBQXBCWSxNQUFvQix1RUFBWEMsU0FBVzs7QUFDbkQsVUFBSUQsV0FBV0MsU0FBZixFQUEwQjtBQUN4QkQsaUJBQVMsTUFBVDtBQUNELE9BSGtELENBS25EOzs7QUFDQSxXQUFLOUIsS0FBTCxDQUFXQyxVQUFYLENBQXNCQyxJQUF0QixHQU5tRCxDQU9uRDs7QUFDQSxVQUFJOEIsUUFBUSxLQUFLckUsTUFBTCxDQUFZbUUsTUFBWixFQUFvQlosUUFBUTNDLFNBQTVCLENBQVo7QUFDQSxVQUFJNEMsYUFBYWEsTUFBTS9ELEtBQU4sQ0FBWWdFLFNBQVosQ0FBc0I7QUFBQSxlQUFLNUIsRUFBRTZCLEVBQUYsS0FBU2hCLFFBQVEvQyxPQUF0QjtBQUFBLE9BQXRCLENBQWpCO0FBQ0EsVUFBSWdFLFNBQVM7QUFDWEMsZ0JBQVFsQixRQUFRa0IsTUFETDtBQUVYbkUsZUFBT2tELFVBRkk7QUFHWGhELGlCQUFTK0MsUUFBUS9DLE9BSE47QUFJWEksbUJBQVcyQyxRQUFRM0MsU0FKUjtBQUtYdUQsZ0JBQVFBO0FBTEcsT0FBYjtBQU9BLFVBQUk3RCxRQUFRK0QsTUFBTS9ELEtBQU4sQ0FBWWtFLE9BQU9sRSxLQUFuQixDQUFaLENBakJtRCxDQW1CbkQ7O0FBQ0EsVUFBSXdELE1BQU07QUFDUjlHLGNBQU1zRCxNQUFNdEQsSUFESjtBQUVSaUQsZ0JBQVE7QUFDTnlFLGFBQUdwRSxNQUFNTCxNQUFOLENBQWF5RSxDQURWO0FBRU5DLGFBQUdyRSxNQUFNTCxNQUFOLENBQWEwRSxDQUZWO0FBR04vQixhQUFHdEMsTUFBTUwsTUFBTixDQUFhMkMsQ0FIVjtBQUlOZ0MsYUFBR3RFLE1BQU1MLE1BQU4sQ0FBYTJFLENBSlY7QUFLTm5HLGFBQUc2QixNQUFNTCxNQUFOLENBQWF4QixDQUxWO0FBTU5vRyxpQkFDRXZFLE1BQU1MLE1BQU4sQ0FBYXlFLENBQWIsR0FDQXBFLE1BQU1MLE1BQU4sQ0FBYTBFLENBRGIsR0FFQXJFLE1BQU1MLE1BQU4sQ0FBYTJDLENBRmIsR0FHQXRDLE1BQU1MLE1BQU4sQ0FBYTJFLENBSGIsR0FJQXRFLE1BQU1MLE1BQU4sQ0FBYXhCO0FBWFQsU0FGQTtBQWVSd0MscUJBQWFYLE1BQU1XLFdBZlg7QUFnQlI2RCxpQkFBU3hFLE1BQU13RSxPQWhCUDtBQWlCUkMsa0JBQVV6RSxNQUFNeUU7QUFqQlIsT0FBVjtBQW9CQSxVQUFJQyxNQUFNMUUsTUFBTTBFLEdBQU4sS0FBYyxLQUFkLEdBQXNCMUUsTUFBTTBFLEdBQTVCLEdBQWtDLEtBQTVDLENBeENtRCxDQTBDbkQ7O0FBQ0EsVUFBSTNFLFFBQVEsS0FBS0EsS0FBakI7QUFDQUEsWUFBTVksV0FBTixHQUFvQjtBQUNsQndELGdCQUFRRCxPQUFPQyxNQURHO0FBRWxCbkUsZUFBT2tFLE9BQU9oRSxPQUZJO0FBR2xCSSxtQkFBVzRELE9BQU81RCxTQUhBO0FBSWxCa0QsYUFBS0EsR0FKYTtBQUtsQmtCLGFBQUtBLEdBTGE7QUFNbEJiLGdCQUFRQTtBQU5VLE9BQXBCO0FBUUQsS0FqU007QUFrU1BjLGNBQVUsa0JBQVMxQixPQUFULEVBQWtCO0FBQzFCNUIsY0FBUUMsR0FBUixDQUFZMkIsT0FBWjs7QUFDQSxVQUFJMkIsU0FBU0MsRUFBRXBCLE1BQUYsQ0FDWFIsUUFBUVUsUUFERyxFQUVYVixRQUFRNkIsU0FGRyxFQUdYN0IsUUFBUThCLE9BSEcsRUFJWDlCLFFBQVErQixNQUpHLENBQWI7O0FBTUEzRCxjQUFRQyxHQUFSLENBQVlzRCxNQUFaOztBQUNBLFVBQUlLLFFBQVFKLEVBQUVLLE9BQUYsQ0FBVU4sTUFBVixFQUFrQixRQUFsQixDQUFaOztBQUNBdkQsY0FBUUMsR0FBUixDQUFZMkQsS0FBWjs7QUFDQSxVQUFJRSxXQUFXTixFQUFFTyxPQUFGLENBQVVILEtBQVYsRUFBaUJ6QixHQUFqQixDQUFxQjtBQUFBLGVBQ2xDcUIsRUFBRU8sT0FBRixDQUFVUCxFQUFFSyxPQUFGLENBQVU5QyxDQUFWLEVBQWEsWUFBYixDQUFWLENBRGtDO0FBQUEsT0FBckIsQ0FBZjs7QUFHQSxVQUFJaUQsT0FBT0YsU0FBUzNCLEdBQVQsQ0FBYTtBQUFBLGVBQUtwQixFQUFFLENBQUYsQ0FBTDtBQUFBLE9BQWIsQ0FBWDtBQUNBLFVBQUlrRCxRQUFRRCxLQUFLN0IsR0FBTCxDQUFTLGFBQUs7QUFDeEJuQyxnQkFBUUMsR0FBUixDQUFZYyxFQUFFLENBQUYsQ0FBWjtBQUNBLFlBQUltRCxPQUFPbkQsRUFBRSxDQUFGLENBQVg7QUFDQSxlQUFPO0FBQ0wrQixrQkFBUW9CLEtBQUtwQixNQURSO0FBRUxTLGtCQUFRVyxLQUFLckMsVUFGUjtBQUdMakMsZUFBS21CO0FBSEEsU0FBUDtBQUtELE9BUlcsQ0FBWjtBQVNBZixjQUFRQyxHQUFSLENBQVkrRCxJQUFaO0FBQ0FoRSxjQUFRQyxHQUFSLENBQVlnRSxLQUFaO0FBQ0EsYUFBT0EsS0FBUCxDQTFCMEIsQ0EyQjFCO0FBQ0QsS0E5VE07QUErVFBFLGdCQUFZLG9CQUFTdkMsT0FBVCxFQUFrQlksTUFBbEIsRUFBMEI7QUFDcEMsVUFBSUEsV0FBVyxRQUFmLEVBQXlCO0FBQ3ZCLFlBQUk0QixRQUFRLEtBQUsvRixNQUFMLENBQVlFLElBQVosQ0FBaUJvRSxTQUFqQixDQUEyQjtBQUFBLGlCQUFLNUIsRUFBRTFGLElBQUYsS0FBV3VHLFFBQVFoRCxPQUF4QjtBQUFBLFNBQTNCLENBQVo7QUFDQSxZQUFJa0UsU0FBUyxLQUFLekUsTUFBTCxDQUFZRSxJQUFaLENBQWlCNkYsS0FBakIsRUFBd0J0QixNQUFyQztBQUVBLGVBQ0UsdUJBQ0FBLE9BQU91QixLQUFQLENBQWEsQ0FBYixFQUFnQixDQUFDLENBQWpCLENBREEsR0FFQSxRQUZBLElBR0N6QyxRQUFRakQsS0FBUixHQUFnQixDQUhqQixJQUlBLGFBTEY7QUFPRCxPQVhELE1BV08sSUFBSTZELFdBQVcsTUFBZixFQUF1QjtBQUM1QixlQUNFLHVCQUF1QlosUUFBUWtCLE1BQVIsQ0FBZXVCLEtBQWYsQ0FBcUIsQ0FBckIsRUFBd0IsQ0FBQyxDQUF6QixDQUF2QixHQUFxRCxhQUR2RDtBQUdELE9BSk0sTUFJQSxJQUFJN0IsV0FBVyxPQUFmLEVBQXdCO0FBQzdCLGVBQ0UsdUJBQ0FaLFFBQVFrQixNQUFSLENBQWV1QixLQUFmLENBQXFCLENBQXJCLEVBQXdCLENBQUMsQ0FBekIsQ0FEQSxHQUVBLFFBRkEsSUFHQ3pDLFFBQVFqRCxLQUFSLEdBQWdCLENBSGpCLElBSUEsYUFMRjtBQU9ELE9BUk0sTUFRQSxJQUFJNkQsV0FBVyxRQUFmLEVBQXlCO0FBQzlCLGVBQ0UsdUJBQ0FaLFFBQVFrQixNQUFSLENBQWV1QixLQUFmLENBQXFCLENBQXJCLEVBQXdCLENBQUMsQ0FBekIsQ0FEQSxHQUVBLFFBRkEsR0FHQXpDLFFBQVFqRCxLQUhSLEdBSUEsYUFMRjtBQU9ELE9BUk0sTUFRQSxJQUFJNkQsV0FBVyxXQUFmLEVBQTRCO0FBQ2pDLFlBQUk0QixTQUFRLEtBQUszRixNQUFMLENBQVlrRSxTQUFaLENBQXNCO0FBQUEsaUJBQUs1QixFQUFFbkMsT0FBRixLQUFjZ0QsUUFBUXZHLElBQTNCO0FBQUEsU0FBdEIsQ0FBWjs7QUFDQSxZQUFJd0QsVUFBVSxLQUFLSixNQUFMLENBQVkyRixNQUFaLEVBQW1CdkYsT0FBakM7QUFDQSxlQUNFLHVCQUNBK0MsUUFBUWtCLE1BQVIsQ0FBZXVCLEtBQWYsQ0FBcUIsQ0FBckIsRUFBd0IsQ0FBQyxDQUF6QixDQURBLEdBRUEsUUFGQSxJQUdDeEYsVUFBVSxDQUhYLElBSUEsYUFMRjtBQU9EO0FBQ0YsS0ExV007QUEyV1B5RixrQkFBYyxzQkFBUzFDLE9BQVQsRUFBa0JrQixNQUFsQixFQUEwQjtBQUN0QyxVQUFJekgsT0FBT3VHLE9BQVg7QUFDQSxVQUFJd0MsUUFBUSxLQUFLM0YsTUFBTCxDQUFZa0UsU0FBWixDQUFzQjtBQUFBLGVBQUs1QixFQUFFbkMsT0FBRixLQUFjZ0QsT0FBbkI7QUFBQSxPQUF0QixDQUFaO0FBQ0EsVUFBSW5ELFNBQVMsS0FBS0EsTUFBTCxDQUFZMkYsS0FBWixDQUFiO0FBRUEsVUFBSUcsU0FBUztBQUNYbEosY0FBTUEsSUFESztBQUVYd0csb0JBQVlwRCxPQUFPRSxLQUZSO0FBR1hFLGlCQUFTSixPQUFPSSxPQUhMO0FBSVhJLG1CQUFXUixPQUFPUSxTQUpQO0FBS1hGLGdCQUFRTixPQUFPTTtBQUxKLE9BQWI7O0FBUUEsVUFBSStELE1BQUosRUFBWTtBQUNWeUIsZUFBT3pCLE1BQVAsR0FBZ0JBLE1BQWhCO0FBQ0Q7O0FBQ0Q5QyxjQUFRQyxHQUFSLENBQVlzRSxNQUFaO0FBRUEsYUFBT0EsTUFBUDtBQUNELEtBOVhNO0FBK1hQQyxVQUFNLGNBQVNDLEVBQVQsRUFBYTtBQUNqQixVQUFJQSxLQUFLLEVBQVQsRUFBYTtBQUNYLGVBQU8sWUFBUDtBQUNELE9BRkQsTUFFTyxJQUFJQSxNQUFNLEVBQU4sSUFBWUEsTUFBTSxFQUF0QixFQUEwQjtBQUMvQixlQUFPLFdBQVA7QUFDRCxPQUZNLE1BRUE7QUFDTCxlQUFPLFdBQVA7QUFDRDtBQUNGO0FBdllNO0FBcERPLENBQVIsQ0FBVjs7O0FDREEsU0FBU3RELGdCQUFULENBQTBCWSxTQUExQixFQUFxQ1MsTUFBckMsRUFBNkM7QUFDM0MsTUFBSWxFLFNBQVN5RCxVQUFVekQsTUFBVixHQUFtQnlELFVBQVV6RCxNQUE3QixHQUFzQ1gsSUFBSVUsTUFBSixDQUFXQyxNQUFYLENBQWtCQyxJQUFyRTtBQUNBLE1BQUlJLFFBQVFvRCxVQUFVMkMsU0FBVixHQUNSM0MsVUFBVTJDLFNBREYsR0FFUi9HLElBQUlVLE1BQUosQ0FBV0UsSUFBWCxDQUFnQndELFVBQVU5QyxTQUExQixFQUFxQ04sS0FBckMsQ0FBMkNvRCxVQUFVcEQsS0FBckQsRUFBNERMLE1BRmhFO0FBR0EsTUFBSTRFLFFBQVE7QUFDVjVFLFlBQVFBLE9BQU95RSxDQUFQLEdBQVd6RSxPQUFPMEUsQ0FBbEIsR0FBc0IxRSxPQUFPMkMsQ0FBN0IsR0FBaUMzQyxPQUFPMkUsQ0FEdEM7QUFFVnRFLFdBQU9BLE1BQU1vRSxDQUFOLEdBQVVwRSxNQUFNcUUsQ0FBaEIsR0FBb0JyRSxNQUFNc0MsQ0FBMUIsR0FBOEJ0QyxNQUFNc0U7QUFGakMsR0FBWjs7QUFLQSxNQUFJVCxXQUFXLFdBQWYsRUFBNEI7QUFDMUIsUUFBSTdELE1BQU1vRSxDQUFOLEdBQVUsQ0FBZCxFQUFpQjtBQUNmekUsYUFBT3lFLENBQVAsSUFBWXBFLE1BQU1vRSxDQUFsQjtBQUNBekUsYUFBT3hCLENBQVAsSUFBWTZCLE1BQU1vRSxDQUFsQjtBQUNEOztBQUNELFFBQUlwRSxNQUFNcUUsQ0FBTixHQUFVLENBQWQsRUFBaUI7QUFDZjFFLGFBQU8wRSxDQUFQLElBQVlyRSxNQUFNcUUsQ0FBbEI7QUFDQTFFLGFBQU94QixDQUFQLElBQVk2QixNQUFNcUUsQ0FBbEI7QUFDRDs7QUFDRCxRQUFJckUsTUFBTXNDLENBQU4sR0FBVSxDQUFkLEVBQWlCO0FBQ2YzQyxhQUFPMkMsQ0FBUCxJQUFZdEMsTUFBTXNDLENBQWxCO0FBQ0EzQyxhQUFPeEIsQ0FBUCxJQUFZNkIsTUFBTXNDLENBQWxCO0FBQ0Q7O0FBQ0QsUUFBSXRDLE1BQU1zRSxDQUFOLEdBQVUsQ0FBZCxFQUFpQjtBQUNmM0UsYUFBTzJFLENBQVAsSUFBWXRFLE1BQU1zRSxDQUFsQjtBQUNBM0UsYUFBT3hCLENBQVAsSUFBWTZCLE1BQU1zRSxDQUFsQjtBQUNEOztBQUNELFFBQUl0RSxNQUFNN0IsQ0FBTixHQUFVLENBQWQsRUFBaUI7QUFDZndCLGFBQU94QixDQUFQLElBQVk2QixNQUFNN0IsQ0FBbEI7QUFDQWEsVUFBSWUsS0FBSixDQUFVSixNQUFWLENBQWlCbUIsTUFBakIsSUFBMkJkLE1BQU03QixDQUFqQztBQUNEO0FBQ0YsR0FyQkQsTUFxQk8sSUFBSTBGLFdBQVcsS0FBZixFQUFzQjtBQUMzQixRQUFJN0QsTUFBTW9FLENBQU4sR0FBVSxDQUFkLEVBQWlCO0FBQ2Z6RSxhQUFPeUUsQ0FBUCxJQUFZcEUsTUFBTW9FLENBQWxCO0FBQ0F6RSxhQUFPeEIsQ0FBUCxJQUFZNkIsTUFBTW9FLENBQWxCO0FBQ0Q7O0FBQ0QsUUFBSXBFLE1BQU1xRSxDQUFOLEdBQVUsQ0FBZCxFQUFpQjtBQUNmMUUsYUFBTzBFLENBQVAsSUFBWXJFLE1BQU1xRSxDQUFsQjtBQUNBMUUsYUFBT3hCLENBQVAsSUFBWTZCLE1BQU1xRSxDQUFsQjtBQUNEOztBQUNELFFBQUlyRSxNQUFNc0MsQ0FBTixHQUFVLENBQWQsRUFBaUI7QUFDZjNDLGFBQU8yQyxDQUFQLElBQVl0QyxNQUFNc0MsQ0FBbEI7QUFDQTNDLGFBQU94QixDQUFQLElBQVk2QixNQUFNc0MsQ0FBbEI7QUFDRDs7QUFDRCxRQUFJdEMsTUFBTXNFLENBQU4sR0FBVSxDQUFkLEVBQWlCO0FBQ2YzRSxhQUFPMkUsQ0FBUCxJQUFZdEUsTUFBTXNFLENBQWxCO0FBQ0EzRSxhQUFPeEIsQ0FBUCxJQUFZNkIsTUFBTXNFLENBQWxCO0FBQ0Q7O0FBQ0QsUUFBSXRFLE1BQU03QixDQUFOLEdBQVUsQ0FBZCxFQUFpQjtBQUNmd0IsYUFBT3hCLENBQVAsSUFBWTZCLE1BQU03QixDQUFsQjtBQUNBYSxVQUFJZSxLQUFKLENBQVVKLE1BQVYsQ0FBaUJtQixNQUFqQixJQUEyQmQsTUFBTTdCLENBQWpDO0FBQ0Q7QUFDRixHQXJCTSxNQXFCQSxJQUFJMEYsV0FBVyxPQUFmLEVBQXdCO0FBQzdCLFFBQUltQyxTQUFTLElBQWI7O0FBQ0EsUUFBSXpCLE1BQU01RSxNQUFOLElBQWdCNEUsTUFBTXZFLEtBQTFCLEVBQWlDO0FBQy9CLFVBQUlpRyxRQUFRLENBQUMsSUFBRCxFQUFPLElBQVAsRUFBYSxJQUFiLEVBQW1CLElBQW5CLEVBQXlCLElBQXpCLENBQVo7O0FBQ0EsVUFBSWpHLE1BQU1vRSxDQUFOLElBQVcsQ0FBZixFQUFrQjtBQUNoQjZCLGNBQU0sQ0FBTixJQUFXdEcsT0FBT3lFLENBQVAsSUFBWXBFLE1BQU1vRSxDQUFsQixHQUFzQixLQUF0QixHQUE4QixJQUF6QztBQUNEOztBQUNELFVBQUlwRSxNQUFNcUUsQ0FBTixJQUFXLENBQWYsRUFBa0I7QUFDaEI0QixjQUFNLENBQU4sSUFBV3RHLE9BQU8wRSxDQUFQLElBQVlyRSxNQUFNcUUsQ0FBbEIsR0FBc0IsS0FBdEIsR0FBOEIsSUFBekM7QUFDRDs7QUFDRCxVQUFJckUsTUFBTXNDLENBQU4sSUFBVyxDQUFmLEVBQWtCO0FBQ2hCMkQsY0FBTSxDQUFOLElBQVd0RyxPQUFPMkMsQ0FBUCxJQUFZdEMsTUFBTXNDLENBQWxCLEdBQXNCLEtBQXRCLEdBQThCLElBQXpDO0FBQ0Q7O0FBQ0QsVUFBSXRDLE1BQU1zRSxDQUFOLElBQVcsQ0FBZixFQUFrQjtBQUNoQjJCLGNBQU0sQ0FBTixJQUFXdEcsT0FBTzJFLENBQVAsSUFBWXRFLE1BQU1zRSxDQUFsQixHQUFzQixLQUF0QixHQUE4QixJQUF6QztBQUNEOztBQUNELFVBQUl0RSxNQUFNN0IsQ0FBTixJQUFXLENBQWYsRUFBa0I7QUFDaEI4SCxjQUFNLENBQU4sSUFBV3RHLE9BQU94QixDQUFQLElBQVlvRyxNQUFNdkUsS0FBTixHQUFjQSxNQUFNN0IsQ0FBaEMsR0FBb0MsS0FBcEMsR0FBNEMsSUFBdkQ7QUFDRDs7QUFFRCxVQUFJOEgsTUFBTW5ELE1BQU4sQ0FBYTtBQUFBLGVBQUtWLE1BQU0sS0FBWDtBQUFBLE9BQWIsRUFBK0IzRCxNQUEvQixLQUEwQyxDQUE5QyxFQUFpRDtBQUMvQ3VILGlCQUFTLEtBQVQ7QUFDRCxPQUZELE1BRU87QUFDTEEsaUJBQVMsSUFBVDtBQUNEO0FBQ0Y7O0FBQ0QsV0FBT0EsTUFBUDtBQUNEO0FBQ0Y7O0FBRUQsU0FBU3RELGdCQUFULENBQTBCTyxPQUExQixFQUFtQ1ksTUFBbkMsRUFBMkM7QUFDekM7QUFDQSxNQUFJQSxXQUFXLFFBQWYsRUFBeUI7QUFDdkIsUUFBSVosUUFBUTVDLEdBQVIsS0FBZ0IsT0FBcEIsRUFBNkI7QUFDM0JyQixVQUFJZSxLQUFKLENBQVVXLE1BQVYsQ0FBaUI2QyxLQUFqQixDQUF1QnBCLE9BQXZCLENBQStCLGFBQUs7QUFDbEM7QUFDQSxZQUFJbkMsUUFBUWhCLElBQUlVLE1BQUosQ0FBV0UsSUFBWCxDQUFnQnFELFFBQVEzQyxTQUF4QixFQUFtQ04sS0FBbkMsQ0FBeUNpRCxRQUFRakQsS0FBakQsQ0FBWjtBQUNBLFlBQUlrRyxjQUFjbEgsSUFBSVUsTUFBSixDQUFXNkQsS0FBWCxDQUFpQm5CLEVBQUVxRCxLQUFuQixFQUEwQmIsTUFBNUMsQ0FIa0MsQ0FLbEM7O0FBQ0EsWUFBSTdFLFFBQVFtRyxZQUFZbkIsT0FBeEI7QUFDQSxZQUFJb0IsZUFBZUMsdUJBQXVCckcsS0FBdkIsRUFBOEJDLEtBQTlCLENBQW5CLENBUGtDLENBU2xDOztBQUNBb0MsVUFBRTFCLE1BQUYsR0FBVzBCLEVBQUVLLFFBQUYsSUFBYzBELFlBQWQsR0FBNkIsSUFBN0IsR0FBb0MsQ0FBQy9ELEVBQUUxQixNQUFsRCxDQVZrQyxDQVlsQzs7QUFDQSxZQUFJMkYsU0FBU0MsaUJBQWlCdkcsS0FBakIsRUFBd0JDLEtBQXhCLENBQWI7QUFDQXFCLGdCQUFRQyxHQUFSLENBQVkrRSxNQUFaLEVBZGtDLENBZ0JsQzs7QUFDQSxZQUNFeEMsV0FBVyxTQUFYLElBQ0FxQyxZQUFZbkIsT0FBWixDQUFvQndCLElBQXBCLENBQXlCO0FBQUEsaUJBQUtuRSxFQUFFb0UsSUFBRixLQUFXLGFBQWhCO0FBQUEsU0FBekIsQ0FEQSxJQUVBSCxXQUFXLEtBSGIsRUFJRTtBQUNBaEYsa0JBQVFDLEdBQVIsQ0FBWSxJQUFaO0FBQ0FjLFlBQUUxQixNQUFGLEdBQVcsS0FBWDtBQUNEOztBQUNEVyxnQkFBUUMsR0FBUixDQUFZYyxFQUFFMUIsTUFBZCxFQXpCa0MsQ0EyQmxDOztBQUNBLFlBQUl1QyxRQUFRRSxPQUFSLEtBQW9CLElBQXhCLEVBQThCO0FBQzVCLGNBQUloRCxZQUFZSCxNQUFNdEQsSUFBdEI7QUFDQSxjQUFJeUcsVUFDRitDLFlBQVlwQixTQUFaLENBQXNCeUIsSUFBdEIsQ0FBMkI7QUFBQSxtQkFBS25FLEVBQUUxRixJQUFGLEtBQVd5RCxTQUFoQjtBQUFBLFdBQTNCLEtBQ0ErRixZQUFZbkIsT0FBWixDQUFvQndCLElBQXBCLENBQXlCO0FBQUEsbUJBQUtuRSxFQUFFMUYsSUFBRixLQUFXeUQsU0FBaEI7QUFBQSxXQUF6QixDQUZGOztBQUdBLGNBQUlnRCxZQUFZLElBQWhCLEVBQXNCO0FBQ3BCZixjQUFFMUIsTUFBRixHQUFXLElBQVg7QUFDRDtBQUNGO0FBQ0YsT0FyQ0Q7QUFzQ0QsS0F2Q0QsTUF1Q08sSUFBSXVDLFFBQVE1QyxHQUFSLEtBQWdCLFdBQXBCLEVBQWlDO0FBQ3RDckIsVUFBSWUsS0FBSixDQUFVVyxNQUFWLENBQWlCNkMsS0FBakIsQ0FBdUJwQixPQUF2QixDQUErQixhQUFLO0FBQ2xDO0FBQ0EsWUFBSW5DLFFBQVFoQixJQUFJVSxNQUFKLENBQVdFLElBQVgsQ0FBZ0JxRCxRQUFRM0MsU0FBeEIsRUFBbUNOLEtBQW5DLENBQXlDaUQsUUFBUWpELEtBQWpELENBQVo7QUFDQSxZQUFJa0csY0FBY2xILElBQUlVLE1BQUosQ0FBVzZELEtBQVgsQ0FBaUJuQixFQUFFcUQsS0FBbkIsRUFBMEJiLE1BQTVDO0FBQ0EsWUFBSTZCLE9BQU9QLFlBQVluQixPQUFaLENBQW9Cd0IsSUFBcEIsQ0FDVDtBQUFBLGlCQUFLbkUsRUFBRW9FLElBQUYsS0FBVyxNQUFYLElBQXFCcEUsRUFBRW1ELElBQUYsS0FBV3ZGLE1BQU10RCxJQUEzQztBQUFBLFNBRFMsQ0FBWDs7QUFJQSxZQUFJK0osU0FBUyxJQUFiLEVBQW1CO0FBQ2pCO0FBQ0EsY0FBSTFHLFFBQVFtRyxZQUFZbkIsT0FBeEI7QUFDQSxjQUFJb0IsZUFBZUMsdUJBQXVCckcsS0FBdkIsRUFBOEJDLEtBQTlCLENBQW5CLENBSGlCLENBS2pCOztBQUNBb0MsWUFBRTFCLE1BQUYsR0FBVzBCLEVBQUVLLFFBQUYsSUFBYzBELFlBQWQsR0FBNkIsSUFBN0IsR0FBb0MsQ0FBQy9ELEVBQUUxQixNQUFsRCxDQU5pQixDQVFqQjs7QUFDQSxjQUFJMkYsU0FBU0MsaUJBQWlCdkcsS0FBakIsRUFBd0JDLEtBQXhCLENBQWI7QUFDQXFCLGtCQUFRQyxHQUFSLENBQVk2RSxZQUFaLEVBVmlCLENBWWpCOztBQUNBLGNBQ0V0QyxXQUFXLFNBQVgsSUFDQXFDLFlBQVluQixPQUFaLENBQW9Cd0IsSUFBcEIsQ0FBeUI7QUFBQSxtQkFBS25FLEVBQUVvRSxJQUFGLEtBQVcsYUFBaEI7QUFBQSxXQUF6QixDQURBLElBRUFILFdBQVcsS0FIYixFQUlFO0FBQ0FqRSxjQUFFMUIsTUFBRixHQUFXLEtBQVg7QUFDRCxXQW5CZ0IsQ0FxQmpCOzs7QUFDQSxjQUFJdUMsUUFBUUUsT0FBUixLQUFvQixJQUF4QixFQUE4QjtBQUM1QixnQkFBSWhELFlBQVlILE1BQU10RCxJQUF0QjtBQUNBLGdCQUFJeUcsVUFDRitDLFlBQVlwQixTQUFaLENBQXNCeUIsSUFBdEIsQ0FBMkI7QUFBQSxxQkFBS25FLEVBQUUxRixJQUFGLEtBQVd5RCxTQUFoQjtBQUFBLGFBQTNCLEtBQ0ErRixZQUFZbkIsT0FBWixDQUFvQndCLElBQXBCLENBQXlCO0FBQUEscUJBQUtuRSxFQUFFMUYsSUFBRixLQUFXeUQsU0FBaEI7QUFBQSxhQUF6QixDQUZGOztBQUdBLGdCQUFJZ0QsWUFBWSxJQUFoQixFQUFzQjtBQUNwQmYsZ0JBQUUxQixNQUFGLEdBQVcsSUFBWDtBQUNEO0FBQ0Y7QUFDRjtBQUNGLE9BeENEO0FBeUNELEtBMUNNLE1BMENBLElBQ0x1QyxRQUFRNUMsR0FBUixLQUFnQixVQUFoQixJQUNBNEMsUUFBUTVDLEdBQVIsS0FBZ0IsYUFEaEIsSUFFQTRDLFFBQVE1QyxHQUFSLEtBQWdCLGlCQUhYLEVBSUw7QUFDQXJCLFVBQUllLEtBQUosQ0FBVVcsTUFBVixDQUFpQjZDLEtBQWpCLENBQXVCcEIsT0FBdkIsQ0FBK0IsYUFBSztBQUNsQztBQUNBLFlBQUluQyxRQUFRaEIsSUFBSVUsTUFBSixDQUFXRSxJQUFYLENBQWdCcUQsUUFBUTNDLFNBQXhCLEVBQW1DTixLQUFuQyxDQUF5Q2lELFFBQVFqRCxLQUFqRCxDQUFaO0FBQ0EsWUFBSWtHLGNBQWNsSCxJQUFJVSxNQUFKLENBQVc2RCxLQUFYLENBQWlCbkIsRUFBRXFELEtBQW5CLEVBQTBCYixNQUE1QyxDQUhrQyxDQUtsQzs7QUFDQSxZQUFJN0UsUUFBUW1HLFlBQVluQixPQUF4QjtBQUNBLFlBQUlvQixlQUFlQyx1QkFBdUJyRyxLQUF2QixFQUE4QkMsS0FBOUIsQ0FBbkIsQ0FQa0MsQ0FTbEM7O0FBQ0FvQyxVQUFFMUIsTUFBRixHQUFXMEIsRUFBRUssUUFBRixJQUFjMEQsWUFBZCxHQUE2QixJQUE3QixHQUFvQyxDQUFDL0QsRUFBRTFCLE1BQWxELENBVmtDLENBWWxDOztBQUNBLFlBQ0VtRCxXQUFXLFNBQVgsSUFDQXFDLFlBQVluQixPQUFaLENBQW9Cd0IsSUFBcEIsQ0FBeUI7QUFBQSxpQkFBS25FLEVBQUVvRSxJQUFGLEtBQVcsYUFBaEI7QUFBQSxTQUF6QixDQUZGLEVBR0U7QUFDQXBFLFlBQUUxQixNQUFGLEdBQVcsS0FBWDtBQUNEO0FBQ0YsT0FuQkQ7QUFvQkQsS0F6Qk0sTUF5QkEsSUFBSXVDLFFBQVE1QyxHQUFSLEtBQWdCLE1BQWhCLElBQTBCNEMsUUFBUTVDLEdBQVIsS0FBZ0IsU0FBOUMsRUFBeUQ7QUFDOURyQixVQUFJZSxLQUFKLENBQVVXLE1BQVYsQ0FBaUJkLElBQWpCLENBQXNCdUMsT0FBdEIsQ0FBOEIsYUFBSztBQUNqQ2QsZ0JBQVFDLEdBQVIsQ0FBWWMsQ0FBWixFQURpQyxDQUVqQzs7QUFDQSxZQUFJc0UsYUFBYTFILElBQUlVLE1BQUosQ0FBV0UsSUFBWCxDQUFnQndDLEVBQUVxRCxLQUFsQixFQUF5QmIsTUFBMUMsQ0FIaUMsQ0FLakM7O0FBQ0EsWUFBSTdFLFFBQVEyRyxXQUFXM0IsT0FBdkI7QUFDQSxZQUFJb0IsZUFBZXBHLE1BQU13RyxJQUFOLENBQVc7QUFBQSxpQkFBS25FLEVBQUVvRSxJQUFGLEtBQVcsc0JBQWhCO0FBQUEsU0FBWCxDQUFuQjtBQUVBcEUsVUFBRTFCLE1BQUYsR0FBVzBCLEVBQUVLLFFBQUYsSUFBYzBELFlBQWQsR0FBNkIsSUFBN0IsR0FBb0MsQ0FBQy9ELEVBQUUxQixNQUFsRDtBQUNELE9BVkQ7QUFXRCxLQVpNLE1BWUEsSUFBSXVDLFFBQVE1QyxHQUFSLEtBQWdCLFdBQWhCLElBQStCNEMsUUFBUTVDLEdBQVIsS0FBZ0IsY0FBbkQsRUFBbUU7QUFDeEVyQixVQUFJZSxLQUFKLENBQVVXLE1BQVYsQ0FBaUJkLElBQWpCLENBQXNCdUMsT0FBdEIsQ0FBOEIsYUFBSztBQUNqQztBQUNBLFlBQUl1RSxhQUFhMUgsSUFBSVUsTUFBSixDQUFXRSxJQUFYLENBQWdCd0MsRUFBRXFELEtBQWxCLEVBQXlCYixNQUExQyxDQUZpQyxDQUlqQzs7QUFDQSxZQUFJN0UsUUFBUTJHLFdBQVczQixPQUF2QjtBQUNBLFlBQUlvQixlQUFlcEcsTUFBTXdHLElBQU4sQ0FBVztBQUFBLGlCQUFLbkUsRUFBRW9FLElBQUYsS0FBVyxzQkFBaEI7QUFBQSxTQUFYLENBQW5CO0FBRUEsWUFBSTlKLE9BQU9zQyxJQUFJZSxLQUFKLENBQVVXLE1BQVYsQ0FBaUJkLElBQWpCLENBQXNCcUQsUUFBUTNDLFNBQTlCLEVBQXlDNUQsSUFBcEQ7O0FBQ0EsWUFBSTBGLEVBQUUxRixJQUFGLEtBQVdBLElBQWYsRUFBcUI7QUFDbkIwRixZQUFFMUIsTUFBRixHQUFXMEIsRUFBRUssUUFBRixJQUFjMEQsWUFBZCxHQUE2QixJQUE3QixHQUFvQyxDQUFDL0QsRUFBRTFCLE1BQWxEO0FBQ0Q7QUFDRixPQVpEO0FBYUQsS0FkTSxNQWNBLElBQUl1QyxRQUFRNUMsR0FBUixLQUFnQixNQUFwQixFQUE0QjtBQUNqQyxVQUFJVCxPQUFPWixJQUFJZSxLQUFKLENBQVVXLE1BQVYsQ0FBaUJkLElBQWpCLENBQXNCcUQsUUFBUTNDLFNBQTlCLENBQVg7QUFDQVYsV0FBS2MsTUFBTCxHQUFjZCxLQUFLNkMsUUFBTCxHQUFnQixJQUFoQixHQUF1QixDQUFDN0MsS0FBS2MsTUFBM0M7QUFDRDtBQUNGLEdBM0l3QyxDQTZJekM7OztBQUNBLE1BQUltRCxXQUFXLFVBQWYsRUFBMkI7QUFDekJ4QyxZQUFRQyxHQUFSLENBQVksU0FBWjtBQUNBdEMsUUFBSWUsS0FBSixDQUFVVyxNQUFWLENBQWlCZCxJQUFqQixDQUFzQnVDLE9BQXRCLENBQThCLGFBQUs7QUFDakMsVUFBSUMsRUFBRTNCLE9BQUYsS0FBYyxLQUFsQixFQUF5QjtBQUN2QjJCLFVBQUVwQyxLQUFGLENBQVFtQyxPQUFSLENBQWdCLGFBQUs7QUFDbkJHLFlBQUU1QixNQUFGLEdBQVcsSUFBWDs7QUFDQSxjQUNFMEIsRUFBRTFGLElBQUYsS0FBV3VHLFFBQVFoRCxPQUFuQixJQUNBcUMsRUFBRTVGLElBQUYsS0FDRXNDLElBQUlVLE1BQUosQ0FBV0UsSUFBWCxDQUFnQnFELFFBQVEzQyxTQUF4QixFQUFtQ04sS0FBbkMsQ0FBeUNpRCxRQUFRakQsS0FBakQsRUFBd0R0RCxJQUg1RCxFQUlFO0FBQ0E0RixjQUFFNUIsTUFBRixHQUFXLEtBQVg7QUFDRDtBQUNGLFNBVEQ7QUFVRDtBQUNGLEtBYkQ7QUFjRDs7QUFDRCxNQUFJbUQsV0FBVyxVQUFmLEVBQTJCO0FBQ3pCeEMsWUFBUUMsR0FBUixDQUFZLFVBQVo7QUFDQXRDLFFBQUllLEtBQUosQ0FBVVcsTUFBVixDQUFpQmQsSUFBakIsQ0FBc0J1QyxPQUF0QixDQUE4QixhQUFLO0FBQ2pDLFVBQUlDLEVBQUUzQixPQUFGLEtBQWMsS0FBZCxJQUF1QjJCLEVBQUUxRixJQUFGLEtBQVd1RyxRQUFRaEQsT0FBOUMsRUFBdUQ7QUFDckRtQyxVQUFFcEMsS0FBRixDQUFRbUMsT0FBUixDQUFnQixhQUFLO0FBQ25CRyxZQUFFNUIsTUFBRixHQUFXNEIsRUFBRUcsUUFBRixHQUFhLElBQWIsR0FBb0IsS0FBL0I7O0FBQ0EsY0FDRUwsRUFBRTFGLElBQUYsS0FBV3VHLFFBQVFoRCxPQUFuQixJQUNBcUMsRUFBRTVGLElBQUYsS0FDRXNDLElBQUlVLE1BQUosQ0FBV0UsSUFBWCxDQUFnQnFELFFBQVEzQyxTQUF4QixFQUFtQ04sS0FBbkMsQ0FBeUNpRCxRQUFRakQsS0FBakQsRUFBd0R0RCxJQUg1RCxFQUlFO0FBQ0E0RixjQUFFNUIsTUFBRixHQUFXLEtBQVg7QUFDRDtBQUNGLFNBVEQ7QUFVRDtBQUNGLEtBYkQ7QUFjRCxHQWhCRCxNQWdCTyxJQUFJbUQsV0FBVyxVQUFmLEVBQTJCO0FBQ2hDeEMsWUFBUUMsR0FBUixDQUFZLFVBQVo7QUFDQXRDLFFBQUllLEtBQUosQ0FBVVcsTUFBVixDQUFpQmQsSUFBakIsQ0FBc0J1QyxPQUF0QixDQUE4QixhQUFLO0FBQ2pDLFVBQUlzRCxRQUFRekcsSUFBSWMsTUFBSixDQUFXa0UsU0FBWCxDQUFxQjtBQUFBLGVBQUsxQixFQUFFckMsT0FBRixLQUFjbUMsRUFBRTFGLElBQXJCO0FBQUEsT0FBckIsQ0FBWjs7QUFDQSxVQUFJK0ksUUFBUSxDQUFaLEVBQWU7QUFDYnJELFVBQUVwQyxLQUFGLENBQVFtQyxPQUFSLENBQWdCLGFBQUs7QUFDbkJHLFlBQUU1QixNQUFGLEdBQVc0QixFQUFFRyxRQUFGLEdBQWEsSUFBYixHQUFvQixLQUEvQjtBQUNELFNBRkQ7QUFHRDtBQUNGLEtBUEQ7QUFRRCxHQVZNLE1BVUEsSUFBSW9CLFdBQVcsUUFBZixFQUF5QjtBQUM5QnhDLFlBQVFDLEdBQVIsQ0FBWSxRQUFaO0FBQ0F0QyxRQUFJZSxLQUFKLENBQVVXLE1BQVYsQ0FBaUJkLElBQWpCLENBQXNCcUQsUUFBUTNDLFNBQTlCLEVBQXlDTixLQUF6QyxDQUErQ21DLE9BQS9DLENBQXVELGFBQUs7QUFDMURHLFFBQUU1QixNQUFGLEdBQVc0QixFQUFFRyxRQUFGLEdBQWEsSUFBYixHQUFvQixLQUEvQjtBQUNELEtBRkQ7QUFHRCxHQTlMd0MsQ0FnTXpDOzs7QUFDQSxNQUFJb0IsV0FBVyxTQUFmLEVBQTBCO0FBQ3hCN0UsUUFBSWUsS0FBSixDQUFVVyxNQUFWLENBQWlCZCxJQUFqQixDQUFzQnVDLE9BQXRCLENBQThCLFVBQUNDLENBQUQsRUFBSUMsRUFBSixFQUFXO0FBQ3ZDLFVBQUlELEVBQUUzQixPQUFGLEtBQWMsS0FBZCxJQUF1QjJCLEVBQUUxRixJQUFGLEtBQVd1RyxRQUFRaEQsT0FBOUMsRUFBdUQ7QUFDckRvQixnQkFBUUMsR0FBUixDQUFZYyxFQUFFMUYsSUFBZDtBQUNBMkUsZ0JBQVFDLEdBQVIsQ0FBWXVDLE1BQVo7QUFDQXpCLFVBQUVwQyxLQUFGLENBQVFtQyxPQUFSLENBQWdCLFVBQUNHLENBQUQsRUFBSUMsRUFBSixFQUFXO0FBQ3pCLGNBQUk1QyxTQUFTNkMsaUJBQWlCO0FBQUVsQyx1QkFBVytCLEVBQWI7QUFBaUJyQyxtQkFBT3VDO0FBQXhCLFdBQWpCLEVBQStDLE9BQS9DLENBQWI7QUFDQUQsWUFBRTVCLE1BQUYsR0FBVzRCLEVBQUVHLFFBQUYsSUFBYzlDLE1BQWQsR0FBdUIsSUFBdkIsR0FBOEIsS0FBekM7O0FBQ0EsY0FDRXlDLEVBQUUxRixJQUFGLEtBQVd1RyxRQUFRaEQsT0FBbkIsSUFDQXFDLEVBQUU1RixJQUFGLEtBQ0VzQyxJQUFJVSxNQUFKLENBQVdFLElBQVgsQ0FBZ0JxRCxRQUFRM0MsU0FBeEIsRUFBbUNOLEtBQW5DLENBQXlDaUQsUUFBUWpELEtBQWpELEVBQXdEdEQsSUFINUQsRUFJRTtBQUNBNEYsY0FBRTVCLE1BQUYsR0FBVyxLQUFYO0FBQ0Q7QUFDRixTQVZEO0FBV0Q7O0FBRUQsVUFDRSxDQUFDbUQsV0FBVyxRQUFYLElBQXVCQSxXQUFXLFVBQW5DLEtBQ0F6QixFQUFFMUYsSUFBRixLQUFXdUcsUUFBUWhELE9BRnJCLEVBR0U7QUFDQW1DLFVBQUVwQyxLQUFGLENBQVFtQyxPQUFSLENBQWdCLFVBQUNHLENBQUQsRUFBSUMsRUFBSixFQUFXO0FBQ3pCLGNBQUk1QyxTQUFTNkMsaUJBQWlCO0FBQUVsQyx1QkFBVytCLEVBQWI7QUFBaUJyQyxtQkFBT3VDO0FBQXhCLFdBQWpCLEVBQStDLE9BQS9DLENBQWI7QUFDQUQsWUFBRTVCLE1BQUYsR0FBVzRCLEVBQUVHLFFBQUYsSUFBYzlDLE1BQWQsR0FBdUIsSUFBdkIsR0FBOEIsS0FBekM7QUFDRCxTQUhEO0FBSUQ7QUFDRixLQTFCRDtBQTJCRDtBQUNGOztBQUVELFNBQVNnSCxjQUFULENBQXdCNUIsT0FBeEIsRUFBaUMvRSxLQUFqQyxFQUF3QztBQUN0QyxNQUFJNEcsT0FBTzdCLFFBQVF2QixHQUFSLENBQVksYUFBSztBQUMxQixRQUFJcEIsRUFBRW9FLElBQUYsS0FBVyxNQUFmLEVBQXVCO0FBQ3JCLFVBQUlILFNBQVNDLGlCQUFpQnZCLE9BQWpCLEVBQTBCM0MsQ0FBMUIsQ0FBYjs7QUFDQSxVQUFJeUUsWUFBWWhDLEVBQUVpQyxZQUFGLENBQWUxRSxFQUFFMkUsUUFBakIsRUFBMkIvRyxNQUFNd0UsT0FBakMsQ0FBaEI7O0FBRUEsVUFBSXdDLFFBQUo7O0FBRUEsVUFBSTVFLEVBQUVtRCxJQUFGLEtBQVcsV0FBZixFQUE0QjtBQUMxQnlCLG1CQUFXSCxVQUFVcEksTUFBVixHQUFtQixDQUFuQixHQUF1QixJQUF2QixHQUE4QixLQUF6QztBQUNELE9BRkQsTUFFTyxJQUFJMkQsRUFBRW1ELElBQUYsS0FBVyxXQUFmLEVBQTRCO0FBQ2pDeUIsbUJBQVdILFVBQVVwSSxNQUFWLEtBQXFCLENBQXJCLEdBQXlCLElBQXpCLEdBQWdDLEtBQTNDO0FBQ0Q7O0FBRUQsVUFBSXVJLFlBQVksQ0FBQ1gsTUFBakIsRUFBeUI7QUFDdkIsZUFBTyxJQUFQO0FBQ0QsT0FGRCxNQUVPO0FBQ0wsZUFBTyxLQUFQO0FBQ0Q7QUFDRjtBQUNGLEdBbkJVLENBQVg7O0FBcUJBLE1BQUlPLEtBQUs5RCxNQUFMLENBQVk7QUFBQSxXQUFLVixNQUFNLElBQVg7QUFBQSxHQUFaLEVBQTZCM0QsTUFBN0IsR0FBc0MsQ0FBMUMsRUFBNkM7QUFDM0MsV0FBTyxJQUFQO0FBQ0QsR0FGRCxNQUVPO0FBQ0wsV0FBTyxLQUFQO0FBQ0Q7QUFDRjs7QUFFRCxTQUFTMkgsc0JBQVQsQ0FBZ0NyQixPQUFoQyxFQUF5Qy9FLEtBQXpDLEVBQWdEO0FBQzlDLE1BQUltRyxlQUFlcEIsUUFBUXZCLEdBQVIsQ0FBWSxhQUFLO0FBQ2xDLFFBQUlwQixFQUFFb0UsSUFBRixLQUFXLGNBQWYsRUFBK0I7QUFDN0IsVUFBSVMsY0FBY2pILE1BQU1pSCxXQUF4Qjs7QUFDQSxVQUFJSixZQUFZaEMsRUFBRWlDLFlBQUYsQ0FBZTFFLEVBQUUyRSxRQUFqQixFQUEyQi9HLE1BQU13RSxPQUFqQyxDQUFoQjs7QUFFQSxVQUFJd0MsUUFBSjs7QUFFQSxVQUFJNUUsRUFBRW1ELElBQUYsS0FBVyxXQUFmLEVBQTRCO0FBQzFCeUIsbUJBQVdILFVBQVVwSSxNQUFWLEdBQW1CLENBQW5CLEdBQXVCLElBQXZCLEdBQThCLEtBQXpDO0FBQ0QsT0FGRCxNQUVPLElBQUkyRCxFQUFFbUQsSUFBRixLQUFXLFdBQWYsRUFBNEI7QUFDakN5QixtQkFBV0gsVUFBVXBJLE1BQVYsS0FBcUIsQ0FBckIsR0FBeUIsSUFBekIsR0FBZ0MsS0FBM0M7QUFDRDs7QUFFRCxVQUFJdUksWUFBWSxDQUFDQyxXQUFqQixFQUE4QjtBQUM1QixlQUFPLElBQVA7QUFDRCxPQUZELE1BRU87QUFDTCxlQUFPLEtBQVA7QUFDRDtBQUNGO0FBQ0YsR0FuQmtCLENBQW5COztBQXFCQSxNQUFJZCxhQUFhckQsTUFBYixDQUFvQjtBQUFBLFdBQUtWLE1BQU0sSUFBWDtBQUFBLEdBQXBCLEVBQXFDM0QsTUFBckMsR0FBOEMsQ0FBbEQsRUFBcUQ7QUFDbkQsV0FBTyxJQUFQO0FBQ0QsR0FGRCxNQUVPO0FBQ0wsV0FBTyxLQUFQO0FBQ0Q7QUFDRjs7QUFFRCxTQUFTNkgsZ0JBQVQsQ0FBMEJ2QixPQUExQixFQUFtQy9FLEtBQW5DLEVBQTBDO0FBQ3hDLE1BQUlxRyxTQUFTdEIsUUFBUXZCLEdBQVIsQ0FBWSxhQUFLO0FBQzVCLFFBQUlwQixFQUFFb0UsSUFBRixLQUFXLFFBQWYsRUFBeUI7QUFDdkIsVUFBSUssWUFBWWhDLEVBQUVpQyxZQUFGLENBQWUxRSxFQUFFMkUsUUFBakIsRUFBMkIvRyxNQUFNd0UsT0FBakMsQ0FBaEI7O0FBRUEsVUFBSXdDLFFBQUo7O0FBRUEsVUFBSTVFLEVBQUVtRCxJQUFGLEtBQVcsV0FBZixFQUE0QjtBQUMxQnlCLG1CQUFXSCxVQUFVcEksTUFBVixHQUFtQixDQUFuQixHQUF1QixJQUF2QixHQUE4QixLQUF6QztBQUNELE9BRkQsTUFFTyxJQUFJMkQsRUFBRW1ELElBQUYsS0FBVyxXQUFmLEVBQTRCO0FBQ2pDeUIsbUJBQVdILFVBQVVwSSxNQUFWLEtBQXFCLENBQXJCLEdBQXlCLElBQXpCLEdBQWdDLEtBQTNDO0FBQ0Q7O0FBRUQsVUFBSXVJLFFBQUosRUFBYztBQUNaLGVBQU8sSUFBUDtBQUNELE9BRkQsTUFFTztBQUNMLGVBQU8sS0FBUDtBQUNEO0FBQ0Y7QUFDRixHQWxCWSxDQUFiOztBQW9CQSxNQUFJWCxPQUFPdkQsTUFBUCxDQUFjO0FBQUEsV0FBS1YsTUFBTSxJQUFYO0FBQUEsR0FBZCxFQUErQjNELE1BQS9CLEdBQXdDLENBQTVDLEVBQStDO0FBQzdDLFdBQU8sSUFBUDtBQUNELEdBRkQsTUFFTztBQUNMLFdBQU8sS0FBUDtBQUNEO0FBQ0Y7Ozs7Ozs7QUN0WUQsU0FBU3lJLE9BQVQsQ0FBaUJqRSxPQUFqQixFQUEwQjtBQUN4QixNQUFJa0UsV0FBV25KLFVBQVUsVUFBVixDQUFmO0FBQ0FxRCxVQUFRQyxHQUFSLENBQVkyQixPQUFaO0FBQ0EsTUFBSXJELE9BQU9xRCxRQUFRbUUsSUFBUixDQUFhQyxRQUFiLEtBQTBCRixRQUExQixHQUFxQyxVQUFyQyxHQUFrRCxTQUE3RDtBQUNBLE1BQUk1RCxRQUFRTixRQUFRbUUsSUFBUixDQUFhQyxRQUFiLEtBQTBCRixRQUExQixHQUFxQyxTQUFyQyxHQUFpRCxVQUE3RDtBQUNBLE1BQUlHLFVBQVUxSCxTQUFTLFVBQVQsR0FBc0IsQ0FBdEIsR0FBMEIsQ0FBeEM7QUFDQSxNQUFJZ0QsU0FBU0ssUUFBUXpDLElBQVIsR0FBZSxDQUFmLEtBQXFCOEcsT0FBckIsR0FBK0IsSUFBL0IsR0FBc0MsS0FBbkQ7O0FBRUEsTUFBSXJFLFFBQVFtRSxJQUFSLENBQWFDLFFBQWIsS0FBMEJGLFFBQTFCLElBQXNDbEUsUUFBUW1FLElBQVIsQ0FBYUcsT0FBYixLQUF5QkosUUFBbkUsRUFBNkU7QUFDM0U5RixZQUFRQyxHQUFSLENBQVksVUFBWjtBQUNBdEMsUUFBSUcsSUFBSixHQUFXLFVBQVg7QUFDQXlELGFBQVMsS0FBVCxDQUgyRSxDQUkzRTtBQUNEOztBQUVELE1BQUlBLFdBQVcsSUFBZixFQUFxQjtBQUNuQjVELFFBQUkrQyxLQUFKLENBQVV5RixjQUFWLENBQXlCdkYsSUFBekI7QUFDRCxHQWpCdUIsQ0FtQnhCOzs7QUFDQSxNQUFJd0YsV0FBVyxDQUFDL0osS0FBS0MsR0FBTCxLQUFhc0YsUUFBUXlFLFNBQXRCLElBQW1DLElBQWxEO0FBQ0EsTUFBSUMsV0FBV0MsS0FBS0MsS0FBTCxDQUFXLEtBQUtKLFFBQWhCLENBQWY7QUFDQSxNQUFJSyxZQUFZLE9BQU9ILFdBQVcsRUFBbEIsQ0FBaEI7QUFDQXRHLFVBQVFDLEdBQVIsQ0FBWTJCLFFBQVF5RSxTQUFwQixFQUErQkQsUUFBL0IsRUFBeUNFLFFBQXpDLEVBQW1ERyxTQUFuRDs7QUFFQSxNQUFJQSxZQUFZLENBQWhCLEVBQW1CO0FBQ2pCQSxnQkFBWSxDQUFaO0FBQ0Q7O0FBQ0Q5SSxNQUFJZSxLQUFKLENBQVVRLEtBQVYsQ0FBZ0JDLElBQWhCLEdBQXVCc0gsU0FBdkIsQ0E1QndCLENBOEJ4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFJQyxRQUFRO0FBQ1ZwSSxZQUFRO0FBQ05DLFlBQU1xRCxRQUFRdEQsTUFBUixDQUFlQyxJQUFmLENBREE7QUFFTjJELGFBQU9OLFFBQVF0RCxNQUFSLENBQWU0RCxLQUFmO0FBRkQsS0FERTtBQUtWM0QsVUFBTXFELFFBQVFyRCxJQUFSLEVBQWM0RCxHQUFkLENBQWtCLGFBQUs7QUFDM0IsK0JBQ0twQixDQURMO0FBRUVwQyxlQUNFaEIsSUFBSUcsSUFBSixLQUFhLE1BQWIsR0FBc0JpRCxFQUFFcEMsS0FBeEIsR0FBZ0NvQyxFQUFFcEMsS0FBRixDQUFRZ0ksSUFBUixDQUFhLFVBQUM1RCxDQUFELEVBQUk2RCxDQUFKO0FBQUEsaUJBQVU3RCxFQUFFSCxFQUFGLEdBQU9nRSxFQUFFaEUsRUFBbkI7QUFBQSxTQUFiLENBSHBDO0FBSUVpRSxtQkFBV0MsV0FBVy9GLEVBQUUxRixJQUFiLEVBQW1CMEYsRUFBRXdDLE1BQXJCLEVBQTZCMEMsT0FBN0I7QUFKYjtBQU1ELEtBUEssQ0FMSTtBQWFWL0QsV0FBT04sUUFBUU0sS0FBUixFQUFlQyxHQUFmLENBQW1CLGFBQUs7QUFDN0IsK0JBQ0twQixDQURMO0FBRUVwQyxlQUFPb0MsRUFBRXBDLEtBQUYsQ0FBUWdJLElBQVIsQ0FBYSxVQUFDNUQsQ0FBRCxFQUFJNkQsQ0FBSjtBQUFBLGlCQUFVN0QsRUFBRUgsRUFBRixHQUFPZ0UsRUFBRWhFLEVBQW5CO0FBQUEsU0FBYixDQUZUO0FBR0VpRSxtQkFBV0MsV0FBVy9GLEVBQUUxRixJQUFiLEVBQW1CMEYsRUFBRXdDLE1BQXJCLEVBQTZCMEMsT0FBN0I7QUFIYjtBQUtELEtBTk0sQ0FiRztBQW9CVjlHLFVBQU15QyxRQUFRekMsSUFwQko7QUFxQlZvQyxZQUFRQSxNQXJCRTtBQXNCVjBFLGFBQVNBLE9BdEJDO0FBdUJWOUksVUFBTXlFLFFBQVF6RSxJQXZCSjtBQXdCVnFCLFVBQU07QUFDSnVJLGNBQVFuRixRQUFRbUUsSUFBUixDQUFheEgsSUFBYixDQURKO0FBRUp5SSxpQkFBV3BGLFFBQVFtRSxJQUFSLENBQWE3RCxLQUFiO0FBRlAsS0F4Qkk7QUE0QlZtRSxlQUFXekUsUUFBUXlFO0FBNUJULEdBQVo7QUE4QkFLLFFBQU1wSSxNQUFOLENBQWFDLElBQWIsQ0FBa0J6QixDQUFsQixHQUNFNEosTUFBTXBJLE1BQU4sQ0FBYUMsSUFBYixDQUFrQndFLENBQWxCLEdBQ0EyRCxNQUFNcEksTUFBTixDQUFhQyxJQUFiLENBQWtCeUUsQ0FEbEIsR0FFQTBELE1BQU1wSSxNQUFOLENBQWFDLElBQWIsQ0FBa0IwQyxDQUZsQixHQUdBeUYsTUFBTXBJLE1BQU4sQ0FBYUMsSUFBYixDQUFrQjBFLENBSnBCO0FBS0FqRCxVQUFRQyxHQUFSLENBQVl5RyxLQUFaO0FBQ0EsTUFBSXJILFNBQVM7QUFDWGQsVUFBTW1JLE1BQU1uSSxJQUFOLENBQVc0RCxHQUFYLENBQWUsVUFBQ3BCLENBQUQsRUFBSWlDLENBQUosRUFBVTtBQUM3QjtBQUNBLFVBQUk1QixXQUFXTCxFQUFFMEQsRUFBRixJQUFRLENBQVIsR0FBWSxJQUFaLEdBQW1CLEtBQWxDLENBRjZCLENBRzdCOztBQUNBLGFBQU87QUFDTHBKLGNBQU0wRixFQUFFMUYsSUFESDtBQUVMK0ksZUFBT3BCLENBRkY7QUFHTDNELGdCQUFRLElBSEg7QUFJTEQsaUJBQVMsS0FKSjtBQUtMZ0Msa0JBQVVBLFFBTEw7QUFNTHpDLGVBQU9vQyxFQUFFcEMsS0FBRixDQUFRd0QsR0FBUixDQUFZLGFBQUs7QUFDdEI7QUFDQSxjQUFJN0QsU0FBUzZDLGlCQUNYO0FBQUU3QyxvQkFBUW9JLE1BQU1wSSxNQUFOLENBQWFDLElBQXZCO0FBQTZCbUcsdUJBQVd6RCxFQUFFM0M7QUFBMUMsV0FEVyxFQUVYLE9BRlcsQ0FBYjtBQUlBLGNBQUlpSCxPQUFPRCxlQUFldkUsRUFBRXdDLE1BQUYsQ0FBU0csT0FBeEIsRUFBaUN6QyxDQUFqQyxDQUFYLENBTnNCLENBT3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0EsY0FBSUcsV0FDRm1FLFFBQ0F0RSxFQUFFZ0csUUFERixJQUVBaEcsRUFBRXZDLEtBQUYsS0FBWSxVQUZaLElBR0E2QyxXQUFXLEtBSFgsSUFJQVIsRUFBRTBELEVBQUYsSUFBUSxDQUpSLEdBS0ksSUFMSixHQU1JLEtBUE47QUFRQSxpQkFBTztBQUNMcEosa0JBQU00RixFQUFFNUYsSUFESDtBQUVMK0Ysc0JBQVVBLFFBRkw7QUFHTC9CLG9CQUFRK0IsWUFBWTlDLE1BQVosR0FBcUIsSUFBckIsR0FBNEI7QUFIL0IsV0FBUDtBQUtELFNBekJNO0FBTkYsT0FBUDtBQWlDRCxLQXJDSyxDQURLO0FBdUNYNEQsV0FBT3dFLE1BQU14RSxLQUFOLENBQVlDLEdBQVosQ0FBZ0IsVUFBQ3BCLENBQUQsRUFBSWlDLENBQUosRUFBVTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQUk1QixXQUFXTCxFQUFFMEQsRUFBRixJQUFRLENBQVIsR0FBWSxJQUFaLEdBQW1CLEtBQWxDO0FBQ0EsYUFBTztBQUNMcEosY0FBTTBGLEVBQUUxRixJQURIO0FBRUwrSSxlQUFPcEIsQ0FGRjtBQUdMNUIsa0JBQVVBLFFBSEw7QUFJTC9CLGdCQUFRO0FBSkgsT0FBUDtBQU1ELEtBWk07QUF2Q0ksR0FBYjtBQXNEQTFCLE1BQUlVLE1BQUosR0FBYXFJLEtBQWI7QUFDQS9JLE1BQUllLEtBQUosQ0FBVVcsTUFBVixHQUFtQkEsTUFBbkI7QUFDQTFCLE1BQUllLEtBQUosQ0FBVWEsTUFBVixHQUFtQnFDLFFBQVFyQyxNQUEzQjtBQUNBNUIsTUFBSWUsS0FBSixDQUFVZ0IsUUFBVixDQUFtQkYsS0FBbkIsR0FBMkIsS0FBM0I7QUFDRDs7QUFFRCxTQUFTc0gsVUFBVCxDQUFvQnpMLElBQXBCLEVBQTBCdUcsT0FBMUIsRUFBbUNxRSxPQUFuQyxFQUE0QztBQUMxQ2pHLFVBQVFDLEdBQVIsQ0FBWTVFLEtBQUtnSixLQUFMLENBQVcsQ0FBQyxDQUFaLENBQVosRUFBNEJ6QyxPQUE1Qjs7QUFDQSxNQUFJMkIsU0FBU0MsRUFBRXBCLE1BQUYsQ0FDWFIsUUFBUVUsUUFERyxFQUVYVixRQUFRNkIsU0FGRyxFQUdYN0IsUUFBUThCLE9BSEcsRUFJWDlCLFFBQVErQixNQUpHLENBQWIsQ0FGMEMsQ0FRMUM7OztBQUNBLE1BQUloRyxJQUFJRyxJQUFKLEtBQWEsTUFBakIsRUFBeUI7QUFDdkJ5RixhQUFTQSxPQUFPOUIsTUFBUCxDQUNQO0FBQUEsYUFDRVYsRUFBRW1HLFdBQUYsS0FBa0IsS0FBbEIsSUFDQ25HLEVBQUVtRyxXQUFGLEtBQWtCLEtBQWxCLElBQTJCQyxPQUFPcEcsRUFBRStCLE1BQUYsQ0FBU3VCLEtBQVQsQ0FBZSxDQUFDLENBQWhCLENBQVAsTUFBK0I0QixPQUY3RDtBQUFBLEtBRE8sQ0FBVDtBQUtELEdBTkQsTUFNTztBQUNMMUMsYUFBU0EsT0FBTzlCLE1BQVAsQ0FBYztBQUFBLGFBQUtWLEVBQUVtRyxXQUFGLEtBQWtCLEtBQXZCO0FBQUEsS0FBZCxDQUFUO0FBQ0QsR0FqQnlDLENBa0IxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBLE1BQUlFLGdCQUFnQjVELEVBQUVLLE9BQUYsQ0FBVU4sTUFBVixFQUFrQixRQUFsQixDQUFwQjs7QUFDQSxNQUFJOEQsaUJBQWlCN0QsRUFBRThELE1BQUYsQ0FBU0YsYUFBVCxDQUFyQjs7QUFDQSxNQUFJRyxvQkFBb0JGLGVBQWVsRixHQUFmLENBQW1CO0FBQUEsV0FBS3FCLEVBQUVLLE9BQUYsQ0FBVTlDLENBQVYsRUFBYSxZQUFiLENBQUw7QUFBQSxHQUFuQixDQUF4Qjs7QUFDQSxNQUFJeUcscUJBQXFCaEUsRUFBRThELE1BQUYsQ0FBU0MsaUJBQVQsQ0FBekI7O0FBQ0EsTUFBSUUsZUFBZSxFQUFuQjtBQUNBRCxxQkFBbUIxRyxPQUFuQixDQUEyQixhQUFLO0FBQzlCMkcsbUJBQWVBLGFBQWFyRixNQUFiLENBQW9Cb0IsRUFBRThELE1BQUYsQ0FBU3ZHLENBQVQsQ0FBcEIsQ0FBZjtBQUNELEdBRkQ7QUFHQSxNQUFJa0QsUUFBUXdELGFBQWF0RixHQUFiLENBQWlCLGFBQUs7QUFDaEMsUUFBSStCLE9BQU9uRCxFQUFFLENBQUYsQ0FBWDtBQUNBLFdBQU87QUFDTDFGLFlBQU02SSxLQUFLN0ksSUFETjtBQUVMeUgsY0FBUW9CLEtBQUtwQixNQUZSO0FBR0xqQixrQkFBWXFDLEtBQUtyQyxVQUhaO0FBSUw4QyxjQUFRVCxLQUFLUyxNQUpSO0FBS0wvRSxXQUFLbUI7QUFMQSxLQUFQO0FBT0QsR0FUVyxDQUFaO0FBVUEsU0FBT2tELEtBQVA7QUFDRDs7O0FDcExELFNBQVN5RCxRQUFULEdBQW9CO0FBQ2xCLE1BQUlwTSxNQUFNQyxPQUFPQyxRQUFQLENBQWdCQyxJQUFoQixDQUFxQm1CLEtBQXJCLENBQTJCLEdBQTNCLENBQVY7QUFDQSxNQUFJTyxPQUFPN0IsSUFBSUEsSUFBSThCLE1BQUosR0FBYSxDQUFqQixDQUFYOztBQUNBLE1BQUlELFNBQVMsRUFBYixFQUFpQjtBQUNmRSxXQUFPNkMsSUFBUCxDQUFZLFVBQVosRUFBd0I7QUFDdEIvQyxZQUFNQTtBQURnQixLQUF4QjtBQUdBSSxTQUFLMkMsSUFBTCxDQUFVLGNBQVYsRUFBMEI7QUFDeEIvQyxZQUFNQTtBQURrQixLQUExQjtBQUdBSSxTQUFLMkMsSUFBTCxDQUFVLGVBQVY7QUFDRCxHQVJELE1BUU8sQ0FDTDtBQUNEO0FBQ0Y7O0FBRUR3SDtBQUVBQyxZQUFZLFlBQU07QUFDaEIsTUFBSWhLLElBQUlVLE1BQUosQ0FBV2MsSUFBWCxJQUFtQnNELFNBQW5CLElBQWdDOUUsSUFBSWUsS0FBSixDQUFVYSxNQUFWLENBQWlCYixLQUFqQixLQUEyQixLQUEvRCxFQUFzRTtBQUNwRTtBQUNEOztBQUNELE1BQUlmLElBQUllLEtBQUosQ0FBVVEsS0FBVixDQUFnQkMsSUFBaEIsR0FBdUIsQ0FBM0IsRUFBOEI7QUFDNUIsUUFBSUQsUUFBUXZCLElBQUllLEtBQUosQ0FBVVEsS0FBVixDQUFnQkMsSUFBaEIsR0FBdUIsSUFBbkM7O0FBQ0EsUUFBSUQsUUFBUSxDQUFaLEVBQWU7QUFDYkEsY0FBUSxDQUFSO0FBQ0Q7O0FBQ0R2QixRQUFJZSxLQUFKLENBQVVRLEtBQVYsQ0FBZ0JDLElBQWhCLEdBQXVCRCxLQUF2QjtBQUNELEdBTkQsTUFNTyxJQUFJdkIsSUFBSWUsS0FBSixDQUFVUSxLQUFWLENBQWdCQyxJQUFoQixJQUF3QixDQUF4QixJQUE2QnhCLElBQUlVLE1BQUosQ0FBV2tELE1BQVgsS0FBc0IsSUFBdkQsRUFBNkQ7QUFDbEUsUUFBSTZFLFdBQVcsQ0FBQy9KLEtBQUtDLEdBQUwsS0FBYXFCLElBQUlVLE1BQUosQ0FBV2dJLFNBQXpCLElBQXNDLElBQXJEO0FBQ0EsUUFBSUMsV0FBVyxLQUFLRixRQUFwQjtBQUNBLFFBQUlLLFlBQVksT0FBT0gsV0FBVyxFQUFsQixDQUFoQixDQUhrRSxDQUlsRTs7QUFFQSxRQUNFRyxhQUFhLENBQWIsSUFDQTlJLElBQUllLEtBQUosQ0FBVVEsS0FBVixDQUFnQkMsSUFBaEIsSUFBd0IsQ0FEeEIsSUFFQXhCLElBQUlVLE1BQUosQ0FBV2tELE1BQVgsS0FBc0IsSUFIeEIsRUFJRTtBQUNBLFVBQUlLLFVBQVU7QUFDWnRELGdCQUFRO0FBQ055RSxhQUFHLENBREc7QUFFTkMsYUFBRyxDQUZHO0FBR04vQixhQUFHLENBSEc7QUFJTmdDLGFBQUc7QUFKRyxTQURJO0FBT1p4RSxnQkFBUTtBQVBJLE9BQWQ7QUFTQWQsVUFBSTJELE1BQUosQ0FBV00sT0FBWDtBQUNBakUsVUFBSVUsTUFBSixDQUFXa0QsTUFBWCxHQUFvQixLQUFwQjtBQUNEO0FBQ0Y7QUFDRixDQWxDRCxFQWtDRyxJQWxDSDs7QUFvQ0FoRyxPQUFPcU0sT0FBUCxHQUFpQixZQUFXO0FBQzFCcEwsV0FBU3FMLEtBQVQsR0FBaUIsY0FBakI7QUFDRCxDQUZEOztBQUlBLFNBQVN2SCxVQUFULEdBQXNCO0FBQ3BCLE1BQUl3SCxZQUFZbkssSUFBSW9LLEdBQUosQ0FBUUMsYUFBUixDQUFzQixPQUF0QixDQUFoQjtBQUNBRixZQUFVRyxTQUFWLEdBQXNCSCxVQUFVSSxZQUFoQztBQUNEOztBQUVELElBQUlDLFdBQVcsR0FBZjs7QUFDQUEsU0FBU0MsUUFBVCxHQUFvQixZQUFXO0FBQzdCLE9BQUtDLE1BQUwsR0FBYyxJQUFkO0FBQ0EsTUFBSS9NLE1BQU1DLE9BQU9DLFFBQVAsQ0FBZ0JDLElBQWhCLENBQXFCbUIsS0FBckIsQ0FBMkIsR0FBM0IsQ0FBVjs7QUFDQSxNQUFJdEIsSUFBSSxDQUFKLE1BQVcsZ0JBQWYsRUFBaUM7QUFDL0JpRixlQUFXLFlBQU07QUFDZjVDLFVBQUlvQyxXQUFKO0FBQ0F4RSxhQUFPQyxRQUFQLENBQWdCRSxPQUFoQixDQUF3QixHQUF4QjtBQUNELEtBSEQsRUFHRyxJQUhIO0FBSUQ7O0FBQ0QsU0FBTyxlQUFQO0FBQ0QsQ0FWRDs7QUFZQXNFLFFBQVFDLEdBQVIsQ0FBWSx5QkFBWixFQUF1Q2tJLFFBQXZDOzs7QUM1RUE5SyxPQUFPaUwsRUFBUCxDQUFVLE9BQVYsRUFBbUIsbUJBQVc7QUFDNUI5TCxXQUFTcUwsS0FBVCxHQUFpQixrQkFBakI7QUFDQWhDLFVBQVFqRSxPQUFSO0FBQ0QsQ0FIRDtBQUtBdkUsT0FBT2lMLEVBQVAsQ0FBVSxTQUFWLEVBQXFCLG1CQUFXO0FBQzlCdEksVUFBUUMsR0FBUixDQUFZLE1BQVo7QUFDQTFFLFNBQU9DLFFBQVAsQ0FBZ0JFLE9BQWhCLENBQXdCLEdBQXhCO0FBQ0QsQ0FIRDtBQUtBNkIsS0FBSytLLEVBQUwsQ0FBUSxNQUFSLEVBQWdCLG1CQUFXO0FBQ3pCdEksVUFBUUMsR0FBUixDQUFZMkIsT0FBWjs7QUFDQSxNQUFJQSxRQUFReEIsT0FBUixLQUFvQixRQUF4QixFQUFrQztBQUNoQ3pDLFFBQUlKLElBQUosQ0FBUzhFLElBQVQsQ0FBY1QsUUFBUXZCLE9BQXRCOztBQUNBLFFBQUkxQyxJQUFJTSxXQUFKLEtBQW9CLFFBQXhCLEVBQWtDO0FBQ2hDTixVQUFJTyxTQUFKLENBQWNFLE1BQWQsR0FBdUIsSUFBdkI7QUFDRCxLQUZELE1BRU87QUFDTGtDO0FBQ0Q7QUFDRixHQVBELE1BT08sSUFBSXNCLFFBQVF4QixPQUFSLEtBQW9CLE9BQXhCLEVBQWlDO0FBQ3RDekMsUUFBSUksU0FBSixDQUFjc0UsSUFBZCxDQUFtQlQsUUFBUXZCLE9BQTNCOztBQUVBLFFBQUkxQyxJQUFJTSxXQUFKLEtBQW9CLE9BQXhCLEVBQWlDO0FBQy9CTixVQUFJTyxTQUFKLENBQWNDLEtBQWQsR0FBc0IsSUFBdEI7QUFDRCxLQUZELE1BRU87QUFDTG1DO0FBQ0Q7QUFDRjtBQUNGLENBbEJEO0FBb0JBL0MsS0FBSytLLEVBQUwsQ0FBUSxjQUFSLEVBQXdCLG1CQUFXO0FBQ2pDM0ssTUFBSUosSUFBSixHQUFXcUUsT0FBWDtBQUNBckIsYUFBVyxZQUFNO0FBQ2ZEO0FBQ0QsR0FGRCxFQUVHLEdBRkg7QUFHRCxDQUxEO0FBTUEvQyxLQUFLK0ssRUFBTCxDQUFRLGVBQVIsRUFBeUIsbUJBQVc7QUFDbEMzSyxNQUFJSSxTQUFKLEdBQWdCNkQsT0FBaEI7QUFDRCxDQUZELEUsQ0FJQTs7QUFDQXZFLE9BQU9pTCxFQUFQLENBQVUsY0FBVixFQUEwQixtQkFBVztBQUNuQyxNQUFJakksVUFBVTtBQUNaaEYsVUFBTSxRQURNO0FBRVpnRixhQUFTdUIsUUFBUWtFLFFBQVIsR0FBbUIsNkNBRmhCO0FBR1pPLGVBQVdoSyxLQUFLQyxHQUFMO0FBSEMsR0FBZDtBQUtBcUIsTUFBSUosSUFBSixDQUFTOEUsSUFBVCxDQUFjaEMsT0FBZDtBQUNELENBUEQiLCJmaWxlIjoiZ2FtZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBnZXRQYXJhbWV0ZXJOYW1lKG5hbWUsIHVybCkge1xuICBpZiAoIXVybCkgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1tcXFtcXF1dL2csIFwiXFxcXCQmXCIpO1xuICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKFwiWz8mXVwiICsgbmFtZSArIFwiKD0oW14mI10qKXwmfCN8JClcIiksXG4gICAgcmVzdWx0cyA9IHJlZ2V4LmV4ZWModXJsKTtcbiAgaWYgKCFyZXN1bHRzKSByZXR1cm4gbnVsbDtcbiAgaWYgKCFyZXN1bHRzWzJdKSByZXR1cm4gXCJcIjtcbiAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChyZXN1bHRzWzJdLnJlcGxhY2UoL1xcKy9nLCBcIiBcIikpO1xufVxuXG5jb25zdCBzZXRDb29raWUgPSAobmFtZSwgdmFsdWUsIGRheXMgPSA3LCBwYXRoID0gXCIvXCIpID0+IHtcbiAgY29uc3QgZXhwaXJlcyA9IG5ldyBEYXRlKERhdGUubm93KCkgKyBkYXlzICogODY0ZTUpLnRvR01UU3RyaW5nKCk7XG4gIGRvY3VtZW50LmNvb2tpZSA9XG4gICAgbmFtZSArXG4gICAgXCI9XCIgK1xuICAgIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkgK1xuICAgIFwiOyBleHBpcmVzPVwiICtcbiAgICBleHBpcmVzICtcbiAgICBcIjsgcGF0aD1cIiArXG4gICAgcGF0aDtcbn07XG5cbmNvbnN0IGdldENvb2tpZSA9IG5hbWUgPT4ge1xuICByZXR1cm4gZG9jdW1lbnQuY29va2llLnNwbGl0KFwiOyBcIikucmVkdWNlKChyLCB2KSA9PiB7XG4gICAgY29uc3QgcGFydHMgPSB2LnNwbGl0KFwiPVwiKTtcbiAgICByZXR1cm4gcGFydHNbMF0gPT09IG5hbWUgPyBkZWNvZGVVUklDb21wb25lbnQocGFydHNbMV0pIDogcjtcbiAgfSwgXCJcIik7XG59O1xuXG5jb25zdCBkZWxldGVDb29raWUgPSAobmFtZSwgcGF0aCkgPT4ge1xuICBzZXRDb29raWUobmFtZSwgXCJcIiwgLTEsIHBhdGgpO1xufTtcblxuZnVuY3Rpb24gZ2V0Um9vbU5hbWUoKSB7XG4gIGxldCB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdChcIi9cIik7XG4gIGxldCByb29tID0gdXJsW3VybC5sZW5ndGggLSAxXTtcbiAgcmV0dXJuIHJvb207XG59O1xuIiwibGV0IHJvb20gPSBnZXRSb29tTmFtZSgpO1xubGV0IHNvY2tldCA9IGlvKFwiL2dhbWU/cm9vbT1cIiArIHJvb20pO1xubGV0IGNoYXQgPSBpbyhcIi9jaGF0XCIpO1xuIiwiVnVlLnVzZShWVG9vbHRpcCk7XG5sZXQgYXBwID0gbmV3IFZ1ZSh7XG4gIGVsOiBcIiNhcHBcIixcbiAgZGF0YToge1xuICAgIG1vZGU6IFwiZ2FtZVwiLFxuICAgIGNoYXQ6IFtdLFxuICAgIGxvYmJ5Y2hhdDogW10sXG4gICAgY2hhdFNlbmQ6IFwiXCIsXG4gICAgY2hhdENoYW5uZWw6IFwiaW5nYW1lXCIsXG4gICAgY2hhdE5vdGlmOiB7XG4gICAgICBsb2JieTogZmFsc2UsXG4gICAgICBpbmdhbWU6IGZhbHNlXG4gICAgfSxcbiAgICBzb3VyY2U6IHtcbiAgICAgIGVuZXJneToge1xuICAgICAgICBhbGx5OiB7fVxuICAgICAgfSxcbiAgICAgIG1ldGE6IHt9XG4gICAgfSxcbiAgICBwYWNrZXQ6IFtdLFxuICAgIHN0YXRlOiB7XG4gICAgICBza2lsbDoge1xuICAgICAgICBvZmZlbnNlOiBudWxsLFxuICAgICAgICBza2lsbDogbnVsbCxcbiAgICAgICAgc2tpbGxJZDogbnVsbCxcbiAgICAgICAgc2tpbGxOYW1lOiBudWxsLFxuICAgICAgICB0YXJnZXQ6IG51bGwsXG4gICAgICAgIGFpbTogbnVsbCxcbiAgICAgICAgaGVyb0luZGV4OiBudWxsXG4gICAgICB9LFxuICAgICAgdGltZXI6IHtcbiAgICAgICAgdHVybjogMTAwXG4gICAgICB9LFxuICAgICAgb25Ta2lsbDogZmFsc2UsXG4gICAgICBidXR0b246IHt9LFxuICAgICAgZGVzY3JpcHRpb246IG51bGwsXG4gICAgICB3aW5uZXI6IHtcbiAgICAgICAgc3RhdGU6IGZhbHNlLFxuICAgICAgICBuYW1lOiBcIlwiXG4gICAgICB9LFxuICAgICAgZW5lcmd5OiB7XG4gICAgICAgIG1vZGFsOiBmYWxzZSxcbiAgICAgICAgcmFuZG9tOiAwXG4gICAgICB9LFxuICAgICAgZXhjaGFuZ2U6IHtcbiAgICAgICAgbW9kYWw6IGZhbHNlLFxuICAgICAgICB1c2VkOiBmYWxzZSxcbiAgICAgICAgZW5lcmd5OiB7fSxcbiAgICAgICAgdmFsOiBcIlwiXG4gICAgICB9XG4gICAgfSxcbiAgICBzaG93TW9kYWw6IHRydWVcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIG9uU3VycmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwic3VycmVuZGVyXCIpO1xuICAgICAgc29ja2V0LmVtaXQoXCJzdXJyZW5kZXJcIiwgeyByb29tOiB0aGlzLnNvdXJjZS5yb29tIH0pO1xuICAgIH0sXG4gICAgb25DaGF0OiBmdW5jdGlvbigpIHtcbiAgICAgIGxldCBjaGFubmVsID0gdGhpcy5jaGF0Q2hhbm5lbCA9PT0gXCJpbmdhbWVcIiA/IFwiaW5nYW1lXCIgOiBcImxvYmJ5XCI7XG5cbiAgICAgIGxldCBwYWNrZXQgPSB7XG4gICAgICAgIGNoYW5uZWw6IGNoYW5uZWwsXG4gICAgICAgIHJvb206IHRoaXMuc291cmNlLnJvb20sXG4gICAgICAgIG1lc3NhZ2U6IHRoaXMuY2hhdFNlbmRcbiAgICAgIH07XG4gICAgICBjaGF0LmVtaXQoXCJjaGF0XCIsIHBhY2tldCk7XG4gICAgICB0aGlzLmNoYXRTZW5kID0gXCJcIjtcbiAgICB9LFxuICAgIHNjcm9sbENoYXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHNjcm9sbENoYXQoKTtcbiAgICAgIH0sIDEwMCk7XG4gICAgfSxcbiAgICBvbkV4Y2hhbmdlOiBmdW5jdGlvbihlKSB7XG4gICAgICAvL1NvdW5kXG4gICAgICB0aGlzLiRyZWZzLnNvdW5kQ2xpY2sucGxheSgpO1xuXG4gICAgICBsZXQgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgdGhpcy5zb3VyY2UuZW5lcmd5LmFsbHkgPSBlLmVuZXJneTtcbiAgICAgIHRoaXMuc291cmNlLmVuZXJneS5hbGx5LnIgPVxuICAgICAgICB0aGlzLnNvdXJjZS5lbmVyZ3kuYWxseS5yIC0gdGhpcy5zdGF0ZS5lbmVyZ3kucmFuZG9tO1xuICAgICAgc3RhdGUuZXhjaGFuZ2UuZW5lcmd5ID0gZS5jb3N0O1xuICAgICAgc3RhdGUuZXhjaGFuZ2UubW9kYWwgPSBmYWxzZTtcbiAgICAgIHN0YXRlLmV4Y2hhbmdlLnVzZWQgPSB0cnVlO1xuICAgICAgc3RhdGUuZXhjaGFuZ2UudmFsID0gZS5leGNoYW5nZTtcblxuICAgICAgc3RhdGUuYnV0dG9uLmFsbHkuZm9yRWFjaCgoeCwgeGkpID0+IHtcbiAgICAgICAgaWYgKHgub25Ta2lsbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyh4Lm5hbWUpO1xuICAgICAgICAgIHguc2tpbGwuZm9yRWFjaCgocywgc2kpID0+IHtcbiAgICAgICAgICAgIGxldCBlbmVyZ3kgPSBlbmVyZ3lNYW5hZ2VtZW50KFxuICAgICAgICAgICAgICB7IGhlcm9JbmRleDogeGksIHNraWxsOiBzaSB9LFxuICAgICAgICAgICAgICBcImNoZWNrXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBzLmJ1dHRvbiA9IHMuZGlzYWJsZWQgfHwgZW5lcmd5ID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZW5lcmd5LCBzLmRpc2FibGVkLCBzLmJ1dHRvbik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvL0NsZWFuIFNraWxsIEJ1ZmZlclxuICAgICAgaWYgKHN0YXRlLnNraWxsLm9mZmVuc2UgIT09IG51bGwgJiYgc3RhdGUuc2tpbGwudGFyZ2V0ID09PSBudWxsKSB7XG4gICAgICAgIC8vU3dpdGNoIENob2ljZVxuICAgICAgICAvL0J1dHRvbiBNYW5hZ2VtZW50XG4gICAgICAgIGJ1dHRvbk1hbmFnZW1lbnQoc3RhdGUuc2tpbGwsIFwib25DYW5jZWxcIik7XG4gICAgICAgIC8vQ2xlYW4gQnVmZmVyXG4gICAgICAgIHN0YXRlLnNraWxsID0ge1xuICAgICAgICAgIG9mZmVuc2U6IG51bGwsXG4gICAgICAgICAgc2tpbGw6IG51bGwsXG4gICAgICAgICAgc2tpbGxJZDogbnVsbCxcbiAgICAgICAgICBza2lsbE5hbWU6IG51bGwsXG4gICAgICAgICAgdGFyZ2V0OiBudWxsLFxuICAgICAgICAgIGFpbTogbnVsbCxcbiAgICAgICAgICBoZXJvSW5kZXg6IG51bGxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9uRG9uZTogZnVuY3Rpb24oZSkge1xuICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICBhcHAuc291cmNlLm15VHVybiA9IGZhbHNlO1xuICAgICAgLy9Tb3VuZFxuICAgICAgdGhpcy4kcmVmcy5zb3VuZEVuZFR1cm4ucGxheSgpO1xuXG4gICAgICAvL0RlZmluZVxuICAgICAgbGV0IHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgIGxldCBwYWNrZXQgPSBlLnBhY2tldDtcblxuICAgICAgLy9Pcmdhbml6ZVxuICAgICAgc3RhdGUuZW5lcmd5Lm1vZGFsID0gZmFsc2U7XG4gICAgICBwYWNrZXQgPSBwYWNrZXQuZmlsdGVyKFxuICAgICAgICB4ID0+XG4gICAgICAgICAgeC5za2lsbCAhPT0gbnVsbCAmJlxuICAgICAgICAgIHguc2tpbGxJZCAhPT0gbnVsbCAmJlxuICAgICAgICAgIHguc2tpbGxOYW1lICE9PSBudWxsICYmXG4gICAgICAgICAgeC5vZmZlbnNlICE9PSBudWxsICYmXG4gICAgICAgICAgeC50YXJnZXQgIT09IG51bGwgJiZcbiAgICAgICAgICB4LmFpbSAhPT0gbnVsbCAmJlxuICAgICAgICAgIHguaGVyb0luZGV4ICE9PSBudWxsXG4gICAgICApO1xuICAgICAgcGFja2V0LnVuc2hpZnQoZS5lbmVyZ3kpO1xuICAgICAgaWYgKHN0YXRlLmV4Y2hhbmdlLnVzZWQgPT09IHRydWUpIHtcbiAgICAgICAgcGFja2V0LnVuc2hpZnQoXG4gICAgICAgICAgeyBtc2c6IFwiZXhjaGFuZ2VcIiwgdmFsOiBzdGF0ZS5leGNoYW5nZS52YWwgfSxcbiAgICAgICAgICBzdGF0ZS5leGNoYW5nZS5lbmVyZ3lcbiAgICAgICAgKTtcbiAgICAgICAgc3RhdGUuZXhjaGFuZ2UudXNlZCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvL1NlbmRcbiAgICAgIHNvY2tldC5lbWl0KFwic2VxdWVuY2VcIiwge1xuICAgICAgICBwYWNrZXQ6IHBhY2tldCxcbiAgICAgICAgcm9vbTogdGhpcy5zb3VyY2Uucm9vbVxuICAgICAgfSk7XG5cbiAgICAgIC8vUmVzZXRcbiAgICAgIHN0YXRlLmVuZXJneS5yYW5kb20gPSAwO1xuICAgICAgdGhpcy5wYWNrZXQgPSBbXTtcbiAgICAgIHN0YXRlLnNraWxsID0ge1xuICAgICAgICBvZmZlbnNlOiBudWxsLFxuICAgICAgICBza2lsbDogbnVsbCxcbiAgICAgICAgc2tpbGxJZDogbnVsbCxcbiAgICAgICAgc2tpbGxOYW1lOiBudWxsLFxuICAgICAgICB0YXJnZXQ6IG51bGwsXG4gICAgICAgIGFpbTogbnVsbCxcbiAgICAgICAgaGVyb0luZGV4OiBudWxsXG4gICAgICB9O1xuICAgIH0sXG4gICAgb25Ta2lsbDogZnVuY3Rpb24ocGF5bG9hZCkge1xuICAgICAgLy9EZWZpbmUgYW5kIFN3aXRjaCBTdGF0ZVxuICAgICAgbGV0IHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgIGxldCBza2lsbCA9IHRoaXMuc291cmNlLmFsbHlbcGF5bG9hZC5oZXJvSW5kZXhdLnNraWxsW3BheWxvYWQuc2tpbGxJbmRleF07XG4gICAgICBsZXQgbWFya2luZyA9IHNraWxsLm1hcmtpbmc7XG4gICAgICBsZXQgc2tpbGxOYW1lID0gc2tpbGwubmFtZTtcbiAgICAgIGxldCB0ZW1wb3JhcnkgPSB7XG4gICAgICAgIG9mZmVuc2U6IHBheWxvYWQubmFtZSxcbiAgICAgICAgc2tpbGw6IHBheWxvYWQuc2tpbGxJbmRleCxcbiAgICAgICAgc2tpbGxJZDogcGF5bG9hZC5za2lsbElkLFxuICAgICAgICBza2lsbE5hbWU6IHNraWxsTmFtZSxcbiAgICAgICAgdGFyZ2V0OiBudWxsLFxuICAgICAgICBhaW06IHBheWxvYWQudGFyZ2V0LFxuICAgICAgICBoZXJvSW5kZXg6IHBheWxvYWQuaGVyb0luZGV4LFxuICAgICAgICBtYXJraW5nOiBtYXJraW5nXG4gICAgICB9O1xuXG4gICAgICAvL0lzIFNraWxsIENob3Nlbj9cbiAgICAgIGxldCBpc09uU2tpbGwgPSBzdGF0ZS5idXR0b24uYWxseVt0ZW1wb3JhcnkuaGVyb0luZGV4XS5vblNraWxsO1xuXG4gICAgICBpZiAoXG4gICAgICAgIGlzT25Ta2lsbCA9PT0gZmFsc2UgJiZcbiAgICAgICAgc3RhdGUuc2tpbGwub2ZmZW5zZSA9PT0gbnVsbCAmJlxuICAgICAgICBzdGF0ZS5za2lsbC50YXJnZXQgPT09IG51bGxcbiAgICAgICkge1xuICAgICAgICAvL0ZpcnN0IENob2ljZVxuICAgICAgICAvL0J1ZmZlciBTa2lsbFxuICAgICAgICBzdGF0ZS5za2lsbCA9IHRlbXBvcmFyeTtcbiAgICAgICAgLy9CdXR0b24gTWFuYWdlbWVudFxuICAgICAgICBidXR0b25NYW5hZ2VtZW50KHRlbXBvcmFyeSwgXCJvblNraWxsXCIpO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgaXNPblNraWxsID09PSBmYWxzZSAmJlxuICAgICAgICBzdGF0ZS5za2lsbC5vZmZlbnNlICE9PSBudWxsICYmXG4gICAgICAgIHN0YXRlLnNraWxsLnRhcmdldCA9PT0gbnVsbFxuICAgICAgKSB7XG4gICAgICAgIC8vU3dpdGNoIENob2ljZVxuICAgICAgICAvL0J1dHRvbiBNYW5hZ2VtZW50XG4gICAgICAgIGJ1dHRvbk1hbmFnZW1lbnQoc3RhdGUuc2tpbGwsIFwib25DYW5jZWxcIik7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGJ1dHRvbk1hbmFnZW1lbnQodGVtcG9yYXJ5LCBcIm9uU2tpbGxcIik7XG4gICAgICAgIH0sIDEwMCk7XG4gICAgICAgIC8vQnVmZmVyIFNraWxsXG4gICAgICAgIHN0YXRlLnNraWxsID0gdGVtcG9yYXJ5O1xuICAgICAgfSBlbHNlIGlmIChpc09uU2tpbGwgPT09IHRydWUpIHtcbiAgICAgICAgLy9DYW5jZWwgQ2hvaWNlXG4gICAgICAgIGVuZXJneU1hbmFnZW1lbnQodGVtcG9yYXJ5LCBcImFkZFwiKTtcbiAgICAgICAgLy9CdXR0b24gTWFuYWdlbWVudFxuICAgICAgICBidXR0b25NYW5hZ2VtZW50KHN0YXRlLnNraWxsLCBcIm9uQ2FuY2VsXCIpO1xuICAgICAgICBidXR0b25NYW5hZ2VtZW50KHRlbXBvcmFyeSwgXCJvblNlbGZcIik7XG4gICAgICAgIHRoaXMucGFja2V0ID0gdGhpcy5wYWNrZXQuZmlsdGVyKHggPT4geC5vZmZlbnNlICE9PSB0ZW1wb3Jhcnkub2ZmZW5zZSk7XG4gICAgICAgIC8vQ2xlYW4gU2tpbGwgQnVmZmVyXG4gICAgICAgIHN0YXRlLnNraWxsID0ge1xuICAgICAgICAgIG9mZmVuc2U6IG51bGwsXG4gICAgICAgICAgc2tpbGw6IG51bGwsXG4gICAgICAgICAgc2tpbGxJZDogbnVsbCxcbiAgICAgICAgICBza2lsbE5hbWU6IG51bGwsXG4gICAgICAgICAgdGFyZ2V0OiBudWxsLFxuICAgICAgICAgIGFpbTogbnVsbCxcbiAgICAgICAgICBoZXJvSW5kZXg6IG51bGxcbiAgICAgICAgfTtcbiAgICAgICAgLy9TdGF0ZSBNYW5hZ2VtZW50XG4gICAgICAgIHN0YXRlLmJ1dHRvbi5hbGx5W3RlbXBvcmFyeS5oZXJvSW5kZXhdLm9uU2tpbGwgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9uVGFyZ2V0OiBmdW5jdGlvbihwYXlsb2FkKSB7XG4gICAgICAvL1NvdW5kXG4gICAgICB0aGlzLiRyZWZzLnNvdW5kQ2xpY2sucGxheSgpO1xuXG4gICAgICAvL0RlZmluZSBTdGF0ZVxuICAgICAgbGV0IHN0YXRlID0gdGhpcy5zdGF0ZTtcblxuICAgICAgLy9CdWZmZXIgU2tpbGxcbiAgICAgIGlmIChzdGF0ZS5za2lsbC5haW0gPT09IFwiYWxsZW5lbXlcIiB8fCBzdGF0ZS5za2lsbC5haW0gPT09IFwicmFuZG9tZW5lbXlcIikge1xuICAgICAgICBjb25zb2xlLmxvZyhzdGF0ZS5idXR0b24uZW5lbXkpO1xuICAgICAgICBzdGF0ZS5za2lsbC50YXJnZXQgPSBzdGF0ZS5idXR0b24uZW5lbXlcbiAgICAgICAgICAuZmlsdGVyKHggPT4geC5idXR0b24gIT09IHRydWUgJiYgeC5uYW1lICE9PSBwYXlsb2FkLm5hbWUpXG4gICAgICAgICAgLm1hcCh4ID0+IHgubmFtZSk7XG4gICAgICAgIHN0YXRlLnNraWxsLnRhcmdldC51bnNoaWZ0KHBheWxvYWQubmFtZSk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLnNraWxsLmFpbSA9PT0gXCJhbGxhbGx5XCIpIHtcbiAgICAgICAgc3RhdGUuc2tpbGwudGFyZ2V0ID0gc3RhdGUuYnV0dG9uLmFsbHkubWFwKHggPT4geC5uYW1lKTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUuc2tpbGwuYWltID09PSBcImFsbGVuZW15YWxsYWxseVwiKSB7XG4gICAgICAgIHN0YXRlLnNraWxsLnRhcmdldCA9IHN0YXRlLmJ1dHRvbi5lbmVteVxuICAgICAgICAgIC5maWx0ZXIoeCA9PiB4LmJ1dHRvbiAhPT0gdHJ1ZSAmJiB4Lm5hbWUgIT09IHBheWxvYWQubmFtZSlcbiAgICAgICAgICAubWFwKHggPT4geC5uYW1lKTtcbiAgICAgICAgc3RhdGUuc2tpbGwudGFyZ2V0LnVuc2hpZnQocGF5bG9hZC5uYW1lKTtcbiAgICAgICAgbGV0IGFsbHkgPSBzdGF0ZS5idXR0b24uYWxseS5tYXAoeCA9PiB4Lm5hbWUpO1xuICAgICAgICBzdGF0ZS5za2lsbC50YXJnZXQgPSBzdGF0ZS5za2lsbC50YXJnZXQuY29uY2F0KGFsbHkpO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZS5za2lsbC5haW0gPT09IFwiYWxsb3RoZXJhbGx5XCIpIHtcbiAgICAgICAgc3RhdGUuc2tpbGwudGFyZ2V0ID0gc3RhdGUuYnV0dG9uLmFsbHlcbiAgICAgICAgICAuZmlsdGVyKHggPT4geC5uYW1lICE9PSBzdGF0ZS5za2lsbC5vZmZlbnNlKVxuICAgICAgICAgIC5tYXAoeCA9PiB4Lm5hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhdGUuc2tpbGwudGFyZ2V0ID0gW3BheWxvYWQubmFtZV07XG4gICAgICB9XG4gICAgICAvL1JlZ2lzdGVyIFNraWxsXG4gICAgICB0aGlzLnBhY2tldC5wdXNoKHRoaXMuc3RhdGUuc2tpbGwpO1xuXG4gICAgICAvL0VuZXJneSBNYW5hZ2VtZW50XG4gICAgICBlbmVyZ3lNYW5hZ2VtZW50KHN0YXRlLnNraWxsLCBcInN1YnN0cmFjdFwiKTtcbiAgICAgIC8vQnV0dG9uIE1hbmFnZW1lbnRcbiAgICAgIC8vIGJ1dHRvbk1hbmFnZW1lbnQoc3RhdGUuc2tpbGwsIFwib25Ta2lsbFwiKTtcbiAgICAgIGJ1dHRvbk1hbmFnZW1lbnQoc3RhdGUuc2tpbGwsIFwib25UYXJnZXRcIik7XG4gICAgICAvL1N0YXRlIE1hbmFnZW1lbnRcbiAgICAgIHN0YXRlLmJ1dHRvbi5hbGx5W3N0YXRlLnNraWxsLmhlcm9JbmRleF0ub25Ta2lsbCA9IHRydWU7XG5cbiAgICAgIC8vQ2xlYW4gU2tpbGwgQnVmZmVyXG4gICAgICBzdGF0ZS5za2lsbCA9IHtcbiAgICAgICAgb2ZmZW5zZTogbnVsbCxcbiAgICAgICAgc2tpbGw6IG51bGwsXG4gICAgICAgIHNraWxsSWQ6IG51bGwsXG4gICAgICAgIHNraWxsTmFtZTogbnVsbCxcbiAgICAgICAgdGFyZ2V0OiBudWxsLFxuICAgICAgICBhaW06IG51bGwsXG4gICAgICAgIGhlcm9JbmRleDogbnVsbFxuICAgICAgfTtcbiAgICB9LFxuICAgIG9uQXR0YWNrOiBmdW5jdGlvbihwYXlsb2FkKSB7XG4gICAgICAvL1NvdW5kXG4gICAgICB0aGlzLiRyZWZzLnNvdW5kQ2xpY2sucGxheSgpO1xuXG4gICAgICB0aGlzLnN0YXRlLmVuZXJneS5tb2RhbCA9IHRydWU7XG4gICAgfSxcbiAgICBvbkRlc2NyaXB0aW9uOiBmdW5jdGlvbihwYXlsb2FkLCBvcHRpb24gPSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChvcHRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvcHRpb24gPSBcImFsbHlcIjtcbiAgICAgIH1cblxuICAgICAgLy9Tb3VuZFxuICAgICAgdGhpcy4kcmVmcy5zb3VuZENsaWNrLnBsYXkoKTtcbiAgICAgIC8vRGVmaW5lXG4gICAgICBsZXQgb3duZXIgPSB0aGlzLnNvdXJjZVtvcHRpb25dW3BheWxvYWQuaGVyb0luZGV4XTtcbiAgICAgIGxldCBza2lsbEluZGV4ID0gb3duZXIuc2tpbGwuZmluZEluZGV4KHggPT4geC5pZCA9PT0gcGF5bG9hZC5za2lsbElkKTtcbiAgICAgIGxldCBjb25maWcgPSB7XG4gICAgICAgIG5hbWVJZDogcGF5bG9hZC5uYW1lSWQsXG4gICAgICAgIHNraWxsOiBza2lsbEluZGV4LFxuICAgICAgICBza2lsbElkOiBwYXlsb2FkLnNraWxsSWQsXG4gICAgICAgIGhlcm9JbmRleDogcGF5bG9hZC5oZXJvSW5kZXgsXG4gICAgICAgIG9wdGlvbjogb3B0aW9uXG4gICAgICB9O1xuICAgICAgbGV0IHNraWxsID0gb3duZXIuc2tpbGxbY29uZmlnLnNraWxsXTtcblxuICAgICAgLy9NYXAgRGVzY3JpcHRpb25cbiAgICAgIGxldCBtYXAgPSB7XG4gICAgICAgIG5hbWU6IHNraWxsLm5hbWUsXG4gICAgICAgIGVuZXJneToge1xuICAgICAgICAgIGE6IHNraWxsLmVuZXJneS5hLFxuICAgICAgICAgIGk6IHNraWxsLmVuZXJneS5pLFxuICAgICAgICAgIHM6IHNraWxsLmVuZXJneS5zLFxuICAgICAgICAgIHc6IHNraWxsLmVuZXJneS53LFxuICAgICAgICAgIHI6IHNraWxsLmVuZXJneS5yLFxuICAgICAgICAgIHRvdGFsOlxuICAgICAgICAgICAgc2tpbGwuZW5lcmd5LmEgK1xuICAgICAgICAgICAgc2tpbGwuZW5lcmd5LmkgK1xuICAgICAgICAgICAgc2tpbGwuZW5lcmd5LnMgK1xuICAgICAgICAgICAgc2tpbGwuZW5lcmd5LncgK1xuICAgICAgICAgICAgc2tpbGwuZW5lcmd5LnJcbiAgICAgICAgfSxcbiAgICAgICAgZGVzY3JpcHRpb246IHNraWxsLmRlc2NyaXB0aW9uLFxuICAgICAgICBjbGFzc2VzOiBza2lsbC5jbGFzc2VzLFxuICAgICAgICBjb29sZG93bjogc2tpbGwuY29vbGRvd25cbiAgICAgIH07XG5cbiAgICAgIGxldCBhbHQgPSBza2lsbC5hbHQgIT09IGZhbHNlID8gc2tpbGwuYWx0IDogZmFsc2U7XG5cbiAgICAgIC8vQnVmZmVyIERlc2NyaXB0aW9uXG4gICAgICBsZXQgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgc3RhdGUuZGVzY3JpcHRpb24gPSB7XG4gICAgICAgIG5hbWVJZDogY29uZmlnLm5hbWVJZCxcbiAgICAgICAgc2tpbGw6IGNvbmZpZy5za2lsbElkLFxuICAgICAgICBoZXJvSW5kZXg6IGNvbmZpZy5oZXJvSW5kZXgsXG4gICAgICAgIG1hcDogbWFwLFxuICAgICAgICBhbHQ6IGFsdCxcbiAgICAgICAgb3B0aW9uOiBvcHRpb25cbiAgICAgIH07XG4gICAgfSxcbiAgICBvblN0YXR1czogZnVuY3Rpb24ocGF5bG9hZCkge1xuICAgICAgY29uc29sZS5sb2cocGF5bG9hZCk7XG4gICAgICBsZXQgc3RhdHVzID0gXy5jb25jYXQoXG4gICAgICAgIHBheWxvYWQub25BdHRhY2ssXG4gICAgICAgIHBheWxvYWQub25SZWNlaXZlLFxuICAgICAgICBwYXlsb2FkLm9uU3RhdGUsXG4gICAgICAgIHBheWxvYWQub25TZWxmXG4gICAgICApO1xuICAgICAgY29uc29sZS5sb2coc3RhdHVzKTtcbiAgICAgIGxldCBncm91cCA9IF8uZ3JvdXBCeShzdGF0dXMsIFwibmFtZUlkXCIpO1xuICAgICAgY29uc29sZS5sb2coZ3JvdXApO1xuICAgICAgbGV0IHN1Ymdyb3VwID0gXy50b0FycmF5KGdyb3VwKS5tYXAoeCA9PlxuICAgICAgICBfLnRvQXJyYXkoXy5ncm91cEJ5KHgsIFwic2tpbGxJbmRleFwiKSlcbiAgICAgICk7XG4gICAgICBsZXQgcHJlcCA9IHN1Ymdyb3VwLm1hcCh4ID0+IHhbMF0pO1xuICAgICAgbGV0IGZpbmFsID0gcHJlcC5tYXAoeCA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHhbMF0pO1xuICAgICAgICBsZXQgaW5mbyA9IHhbMF07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbmFtZUlkOiBpbmZvLm5hbWVJZCxcbiAgICAgICAgICBzdGF0dXM6IGluZm8uc2tpbGxJbmRleCxcbiAgICAgICAgICB2YWw6IHhcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2cocHJlcCk7XG4gICAgICBjb25zb2xlLmxvZyhmaW5hbCk7XG4gICAgICByZXR1cm4gZmluYWw7XG4gICAgICAvLyBsZXQgc3ViZ3JvdXAgPSBncm91cC5tYXAoeCA9PiBfLmdyb3VwQnkoeCwgXCJza2lsbEluZGV4XCIpKTtcbiAgICB9LFxuICAgIG9uR2V0SW1hZ2U6IGZ1bmN0aW9uKHBheWxvYWQsIG9wdGlvbikge1xuICAgICAgaWYgKG9wdGlvbiA9PT0gXCJwYWNrZXRcIikge1xuICAgICAgICBsZXQgaW5kZXggPSB0aGlzLnNvdXJjZS5hbGx5LmZpbmRJbmRleCh4ID0+IHgubmFtZSA9PT0gcGF5bG9hZC5vZmZlbnNlKTtcbiAgICAgICAgbGV0IG5hbWVJZCA9IHRoaXMuc291cmNlLmFsbHlbaW5kZXhdLm5hbWVJZDtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIFwiL2Fzc2V0cy9jaGFyYWN0ZXIvXCIgK1xuICAgICAgICAgIG5hbWVJZC5zbGljZSgwLCAtMSkgK1xuICAgICAgICAgIFwiL3NraWxsXCIgK1xuICAgICAgICAgIChwYXlsb2FkLnNraWxsICsgMSkgK1xuICAgICAgICAgIFwiL2F2YXRhci5qcGdcIlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChvcHRpb24gPT09IFwiY2hhclwiKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgXCIvYXNzZXRzL2NoYXJhY3Rlci9cIiArIHBheWxvYWQubmFtZUlkLnNsaWNlKDAsIC0xKSArIFwiL2F2YXRhci5qcGdcIlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChvcHRpb24gPT09IFwic2tpbGxcIikge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIFwiL2Fzc2V0cy9jaGFyYWN0ZXIvXCIgK1xuICAgICAgICAgIHBheWxvYWQubmFtZUlkLnNsaWNlKDAsIC0xKSArXG4gICAgICAgICAgXCIvc2tpbGxcIiArXG4gICAgICAgICAgKHBheWxvYWQuc2tpbGwgKyAxKSArXG4gICAgICAgICAgXCIvYXZhdGFyLmpwZ1wiXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKG9wdGlvbiA9PT0gXCJzdGF0dXNcIikge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIFwiL2Fzc2V0cy9jaGFyYWN0ZXIvXCIgK1xuICAgICAgICAgIHBheWxvYWQubmFtZUlkLnNsaWNlKDAsIC0xKSArXG4gICAgICAgICAgXCIvc2tpbGxcIiArXG4gICAgICAgICAgcGF5bG9hZC5za2lsbCArXG4gICAgICAgICAgXCIvYXZhdGFyLmpwZ1wiXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKG9wdGlvbiA9PT0gXCJ0YXJnZXRpbmdcIikge1xuICAgICAgICBsZXQgaW5kZXggPSB0aGlzLnBhY2tldC5maW5kSW5kZXgoeCA9PiB4Lm9mZmVuc2UgPT09IHBheWxvYWQubmFtZSk7XG4gICAgICAgIGxldCBza2lsbElkID0gdGhpcy5wYWNrZXRbaW5kZXhdLnNraWxsSWQ7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgXCIvYXNzZXRzL2NoYXJhY3Rlci9cIiArXG4gICAgICAgICAgcGF5bG9hZC5uYW1lSWQuc2xpY2UoMCwgLTEpICtcbiAgICAgICAgICBcIi9za2lsbFwiICtcbiAgICAgICAgICAoc2tpbGxJZCArIDEpICtcbiAgICAgICAgICBcIi9hdmF0YXIuanBnXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHRhcmdldGluZ0N1ZTogZnVuY3Rpb24ocGF5bG9hZCwgbmFtZUlkKSB7XG4gICAgICBsZXQgbmFtZSA9IHBheWxvYWQ7XG4gICAgICBsZXQgaW5kZXggPSB0aGlzLnBhY2tldC5maW5kSW5kZXgoeCA9PiB4Lm9mZmVuc2UgPT09IHBheWxvYWQpO1xuICAgICAgbGV0IHBhY2tldCA9IHRoaXMucGFja2V0W2luZGV4XTtcblxuICAgICAgbGV0IHJlc3VsdCA9IHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgc2tpbGxJbmRleDogcGFja2V0LnNraWxsLFxuICAgICAgICBza2lsbElkOiBwYWNrZXQuc2tpbGxJZCxcbiAgICAgICAgaGVyb0luZGV4OiBwYWNrZXQuaGVyb0luZGV4LFxuICAgICAgICB0YXJnZXQ6IHBhY2tldC50YXJnZXRcbiAgICAgIH07XG5cbiAgICAgIGlmIChuYW1lSWQpIHtcbiAgICAgICAgcmVzdWx0Lm5hbWVJZCA9IG5hbWVJZDtcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcbiAgICBvbkhQOiBmdW5jdGlvbihocCkge1xuICAgICAgaWYgKGhwID4gNzApIHtcbiAgICAgICAgcmV0dXJuIFwibC0taHAtZnVsbFwiO1xuICAgICAgfSBlbHNlIGlmIChocCA8PSA3MCAmJiBocCA+PSA0MCkge1xuICAgICAgICByZXR1cm4gXCJsLS1ocC1taWRcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBcImwtLWhwLWxvd1wiO1xuICAgICAgfVxuICAgIH1cbiAgfVxufSk7XG4iLCJmdW5jdGlvbiBlbmVyZ3lNYW5hZ2VtZW50KHRlbXBvcmFyeSwgb3B0aW9uKSB7XG4gIGxldCBlbmVyZ3kgPSB0ZW1wb3JhcnkuZW5lcmd5ID8gdGVtcG9yYXJ5LmVuZXJneSA6IGFwcC5zb3VyY2UuZW5lcmd5LmFsbHk7XG4gIGxldCBza2lsbCA9IHRlbXBvcmFyeS5za2lsbEJpbmRcbiAgICA/IHRlbXBvcmFyeS5za2lsbEJpbmRcbiAgICA6IGFwcC5zb3VyY2UuYWxseVt0ZW1wb3JhcnkuaGVyb0luZGV4XS5za2lsbFt0ZW1wb3Jhcnkuc2tpbGxdLmVuZXJneTtcbiAgbGV0IHRvdGFsID0ge1xuICAgIGVuZXJneTogZW5lcmd5LmEgKyBlbmVyZ3kuaSArIGVuZXJneS5zICsgZW5lcmd5LncsXG4gICAgc2tpbGw6IHNraWxsLmEgKyBza2lsbC5pICsgc2tpbGwucyArIHNraWxsLndcbiAgfTtcblxuICBpZiAob3B0aW9uID09PSBcInN1YnN0cmFjdFwiKSB7XG4gICAgaWYgKHNraWxsLmEgPiAwKSB7XG4gICAgICBlbmVyZ3kuYSAtPSBza2lsbC5hO1xuICAgICAgZW5lcmd5LnIgLT0gc2tpbGwuYTtcbiAgICB9XG4gICAgaWYgKHNraWxsLmkgPiAwKSB7XG4gICAgICBlbmVyZ3kuaSAtPSBza2lsbC5pO1xuICAgICAgZW5lcmd5LnIgLT0gc2tpbGwuaTtcbiAgICB9XG4gICAgaWYgKHNraWxsLnMgPiAwKSB7XG4gICAgICBlbmVyZ3kucyAtPSBza2lsbC5zO1xuICAgICAgZW5lcmd5LnIgLT0gc2tpbGwucztcbiAgICB9XG4gICAgaWYgKHNraWxsLncgPiAwKSB7XG4gICAgICBlbmVyZ3kudyAtPSBza2lsbC53O1xuICAgICAgZW5lcmd5LnIgLT0gc2tpbGwudztcbiAgICB9XG4gICAgaWYgKHNraWxsLnIgPiAwKSB7XG4gICAgICBlbmVyZ3kuciAtPSBza2lsbC5yO1xuICAgICAgYXBwLnN0YXRlLmVuZXJneS5yYW5kb20gKz0gc2tpbGwucjtcbiAgICB9XG4gIH0gZWxzZSBpZiAob3B0aW9uID09PSBcImFkZFwiKSB7XG4gICAgaWYgKHNraWxsLmEgPiAwKSB7XG4gICAgICBlbmVyZ3kuYSArPSBza2lsbC5hO1xuICAgICAgZW5lcmd5LnIgKz0gc2tpbGwuYTtcbiAgICB9XG4gICAgaWYgKHNraWxsLmkgPiAwKSB7XG4gICAgICBlbmVyZ3kuaSArPSBza2lsbC5pO1xuICAgICAgZW5lcmd5LnIgKz0gc2tpbGwuaTtcbiAgICB9XG4gICAgaWYgKHNraWxsLnMgPiAwKSB7XG4gICAgICBlbmVyZ3kucyArPSBza2lsbC5zO1xuICAgICAgZW5lcmd5LnIgKz0gc2tpbGwucztcbiAgICB9XG4gICAgaWYgKHNraWxsLncgPiAwKSB7XG4gICAgICBlbmVyZ3kudyArPSBza2lsbC53O1xuICAgICAgZW5lcmd5LnIgKz0gc2tpbGwudztcbiAgICB9XG4gICAgaWYgKHNraWxsLnIgPiAwKSB7XG4gICAgICBlbmVyZ3kuciArPSBza2lsbC5yO1xuICAgICAgYXBwLnN0YXRlLmVuZXJneS5yYW5kb20gLT0gc2tpbGwucjtcbiAgICB9XG4gIH0gZWxzZSBpZiAob3B0aW9uID09PSBcImNoZWNrXCIpIHtcbiAgICBsZXQgYWN0aXZlID0gdHJ1ZTtcbiAgICBpZiAodG90YWwuZW5lcmd5ID49IHRvdGFsLnNraWxsKSB7XG4gICAgICBsZXQgY291bnQgPSBbdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZV07XG4gICAgICBpZiAoc2tpbGwuYSA+PSAwKSB7XG4gICAgICAgIGNvdW50WzBdID0gZW5lcmd5LmEgPj0gc2tpbGwuYSA/IGZhbHNlIDogdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChza2lsbC5pID49IDApIHtcbiAgICAgICAgY291bnRbMV0gPSBlbmVyZ3kuaSA+PSBza2lsbC5pID8gZmFsc2UgOiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHNraWxsLnMgPj0gMCkge1xuICAgICAgICBjb3VudFsyXSA9IGVuZXJneS5zID49IHNraWxsLnMgPyBmYWxzZSA6IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoc2tpbGwudyA+PSAwKSB7XG4gICAgICAgIGNvdW50WzNdID0gZW5lcmd5LncgPj0gc2tpbGwudyA/IGZhbHNlIDogdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChza2lsbC5yID49IDApIHtcbiAgICAgICAgY291bnRbNF0gPSBlbmVyZ3kuciA+PSB0b3RhbC5za2lsbCArIHNraWxsLnIgPyBmYWxzZSA6IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChjb3VudC5maWx0ZXIoeCA9PiB4ID09PSBmYWxzZSkubGVuZ3RoID09PSA1KSB7XG4gICAgICAgIGFjdGl2ZSA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWN0aXZlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFjdGl2ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBidXR0b25NYW5hZ2VtZW50KHBheWxvYWQsIG9wdGlvbikge1xuICAvL1RhcmdldCBCdXR0b25cbiAgaWYgKG9wdGlvbiAhPT0gXCJvblNlbGZcIikge1xuICAgIGlmIChwYXlsb2FkLmFpbSA9PT0gXCJlbmVteVwiKSB7XG4gICAgICBhcHAuc3RhdGUuYnV0dG9uLmVuZW15LmZvckVhY2goeCA9PiB7XG4gICAgICAgIC8vRGVmaW5lXG4gICAgICAgIGxldCBza2lsbCA9IGFwcC5zb3VyY2UuYWxseVtwYXlsb2FkLmhlcm9JbmRleF0uc2tpbGxbcGF5bG9hZC5za2lsbF07XG4gICAgICAgIGxldCBlbmVteVN0YXR1cyA9IGFwcC5zb3VyY2UuZW5lbXlbeC5pbmRleF0uc3RhdHVzO1xuXG4gICAgICAgIC8vSW52dWxuZXJhYmlsaXR5XG4gICAgICAgIGxldCBzdGF0ZSA9IGVuZW15U3RhdHVzLm9uU3RhdGU7XG4gICAgICAgIGxldCBpbnZ1bG5lcmFibGUgPSBpbnZ1bG5lcmFibGVNYW5hZ2VtZW50KHN0YXRlLCBza2lsbCk7XG5cbiAgICAgICAgLy9EaXNhYmxlXG4gICAgICAgIHguYnV0dG9uID0geC5kaXNhYmxlZCB8fCBpbnZ1bG5lcmFibGUgPyB0cnVlIDogIXguYnV0dG9uO1xuXG4gICAgICAgIC8vSWdub3JlXG4gICAgICAgIGxldCBpZ25vcmUgPSBpZ25vcmVNYW5hZ2VtZW50KHN0YXRlLCBza2lsbCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGlnbm9yZSk7XG5cbiAgICAgICAgLy9QcmV2ZW50IEludnVsbmVyYWJpbGl0eVxuICAgICAgICBpZiAoXG4gICAgICAgICAgb3B0aW9uID09PSBcIm9uU2tpbGxcIiAmJlxuICAgICAgICAgIGVuZW15U3RhdHVzLm9uU3RhdGUuc29tZSh4ID0+IHgudHlwZSA9PT0gXCJkaXNhYmxlRHJJdlwiKSAmJlxuICAgICAgICAgIGlnbm9yZSA9PT0gZmFsc2VcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJoaVwiKTtcbiAgICAgICAgICB4LmJ1dHRvbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKHguYnV0dG9uKTtcblxuICAgICAgICAvL01hcmtpbmdcbiAgICAgICAgaWYgKHBheWxvYWQubWFya2luZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGxldCBza2lsbE5hbWUgPSBza2lsbC5uYW1lO1xuICAgICAgICAgIGxldCBtYXJraW5nID1cbiAgICAgICAgICAgIGVuZW15U3RhdHVzLm9uUmVjZWl2ZS5zb21lKHggPT4geC5uYW1lID09PSBza2lsbE5hbWUpIHx8XG4gICAgICAgICAgICBlbmVteVN0YXR1cy5vblN0YXRlLnNvbWUoeCA9PiB4Lm5hbWUgPT09IHNraWxsTmFtZSk7XG4gICAgICAgICAgaWYgKG1hcmtpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHguYnV0dG9uID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocGF5bG9hZC5haW0gPT09IFwiZW5lbXlsb2NrXCIpIHtcbiAgICAgIGFwcC5zdGF0ZS5idXR0b24uZW5lbXkuZm9yRWFjaCh4ID0+IHtcbiAgICAgICAgLy9EZWZpbmVcbiAgICAgICAgbGV0IHNraWxsID0gYXBwLnNvdXJjZS5hbGx5W3BheWxvYWQuaGVyb0luZGV4XS5za2lsbFtwYXlsb2FkLnNraWxsXTtcbiAgICAgICAgbGV0IGVuZW15U3RhdHVzID0gYXBwLnNvdXJjZS5lbmVteVt4LmluZGV4XS5zdGF0dXM7XG4gICAgICAgIGxldCBsb2NrID0gZW5lbXlTdGF0dXMub25TdGF0ZS5zb21lKFxuICAgICAgICAgIHggPT4geC50eXBlID09PSBcImxvY2tcIiAmJiB4LmluZm8gPT09IHNraWxsLm5hbWVcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAobG9jayA9PT0gdHJ1ZSkge1xuICAgICAgICAgIC8vSW52dWxuZXJhYmlsaXR5XG4gICAgICAgICAgbGV0IHN0YXRlID0gZW5lbXlTdGF0dXMub25TdGF0ZTtcbiAgICAgICAgICBsZXQgaW52dWxuZXJhYmxlID0gaW52dWxuZXJhYmxlTWFuYWdlbWVudChzdGF0ZSwgc2tpbGwpO1xuXG4gICAgICAgICAgLy9EaXNhYmxlXG4gICAgICAgICAgeC5idXR0b24gPSB4LmRpc2FibGVkIHx8IGludnVsbmVyYWJsZSA/IHRydWUgOiAheC5idXR0b247XG5cbiAgICAgICAgICAvL0lnbm9yZVxuICAgICAgICAgIGxldCBpZ25vcmUgPSBpZ25vcmVNYW5hZ2VtZW50KHN0YXRlLCBza2lsbCk7XG4gICAgICAgICAgY29uc29sZS5sb2coaW52dWxuZXJhYmxlKTtcblxuICAgICAgICAgIC8vUHJldmVudCBJbnZ1bG5lcmFiaWxpdHlcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBvcHRpb24gPT09IFwib25Ta2lsbFwiICYmXG4gICAgICAgICAgICBlbmVteVN0YXR1cy5vblN0YXRlLnNvbWUoeCA9PiB4LnR5cGUgPT09IFwiZGlzYWJsZURySXZcIikgJiZcbiAgICAgICAgICAgIGlnbm9yZSA9PT0gZmFsc2VcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHguYnV0dG9uID0gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy9NYXJraW5nXG4gICAgICAgICAgaWYgKHBheWxvYWQubWFya2luZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgbGV0IHNraWxsTmFtZSA9IHNraWxsLm5hbWU7XG4gICAgICAgICAgICBsZXQgbWFya2luZyA9XG4gICAgICAgICAgICAgIGVuZW15U3RhdHVzLm9uUmVjZWl2ZS5zb21lKHggPT4geC5uYW1lID09PSBza2lsbE5hbWUpIHx8XG4gICAgICAgICAgICAgIGVuZW15U3RhdHVzLm9uU3RhdGUuc29tZSh4ID0+IHgubmFtZSA9PT0gc2tpbGxOYW1lKTtcbiAgICAgICAgICAgIGlmIChtYXJraW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgIHguYnV0dG9uID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBwYXlsb2FkLmFpbSA9PT0gXCJhbGxlbmVteVwiIHx8XG4gICAgICBwYXlsb2FkLmFpbSA9PT0gXCJyYW5kb21lbmVteVwiIHx8XG4gICAgICBwYXlsb2FkLmFpbSA9PT0gXCJhbGxlbmVteWFsbGFsbHlcIlxuICAgICkge1xuICAgICAgYXBwLnN0YXRlLmJ1dHRvbi5lbmVteS5mb3JFYWNoKHggPT4ge1xuICAgICAgICAvL0RlZmluZVxuICAgICAgICBsZXQgc2tpbGwgPSBhcHAuc291cmNlLmFsbHlbcGF5bG9hZC5oZXJvSW5kZXhdLnNraWxsW3BheWxvYWQuc2tpbGxdO1xuICAgICAgICBsZXQgZW5lbXlTdGF0dXMgPSBhcHAuc291cmNlLmVuZW15W3guaW5kZXhdLnN0YXR1cztcblxuICAgICAgICAvL0ludnVsbmVyYWJpbGl0eVxuICAgICAgICBsZXQgc3RhdGUgPSBlbmVteVN0YXR1cy5vblN0YXRlO1xuICAgICAgICBsZXQgaW52dWxuZXJhYmxlID0gaW52dWxuZXJhYmxlTWFuYWdlbWVudChzdGF0ZSwgc2tpbGwpO1xuXG4gICAgICAgIC8vRGlzYWJsZVxuICAgICAgICB4LmJ1dHRvbiA9IHguZGlzYWJsZWQgfHwgaW52dWxuZXJhYmxlID8gdHJ1ZSA6ICF4LmJ1dHRvbjtcblxuICAgICAgICAvL1ByZXZlbnQgSW52dWxuZXJhYmlsaXR5XG4gICAgICAgIGlmIChcbiAgICAgICAgICBvcHRpb24gPT09IFwib25Ta2lsbFwiICYmXG4gICAgICAgICAgZW5lbXlTdGF0dXMub25TdGF0ZS5zb21lKHggPT4geC50eXBlID09PSBcImRpc2FibGVEckl2XCIpXG4gICAgICAgICkge1xuICAgICAgICAgIHguYnV0dG9uID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocGF5bG9hZC5haW0gPT09IFwiYWxseVwiIHx8IHBheWxvYWQuYWltID09PSBcImFsbGFsbHlcIikge1xuICAgICAgYXBwLnN0YXRlLmJ1dHRvbi5hbGx5LmZvckVhY2goeCA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHgpXG4gICAgICAgIC8vRGVmaW5lXG4gICAgICAgIGxldCBhbGx5U3RhdHVzID0gYXBwLnNvdXJjZS5hbGx5W3guaW5kZXhdLnN0YXR1cztcblxuICAgICAgICAvL0ZyaWVuZGx5IEludnVsbmVyYWJpbGl0eVxuICAgICAgICBsZXQgc3RhdGUgPSBhbGx5U3RhdHVzLm9uU3RhdGU7XG4gICAgICAgIGxldCBpbnZ1bG5lcmFibGUgPSBzdGF0ZS5zb21lKHggPT4geC50eXBlID09PSBcImZyaWVuZGx5SW52dWxuZXJhYmxlXCIpO1xuXG4gICAgICAgIHguYnV0dG9uID0geC5kaXNhYmxlZCB8fCBpbnZ1bG5lcmFibGUgPyB0cnVlIDogIXguYnV0dG9uO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChwYXlsb2FkLmFpbSA9PT0gXCJvdGhlcmFsbHlcIiB8fCBwYXlsb2FkLmFpbSA9PT0gXCJhbGxvdGhlcmFsbHlcIikge1xuICAgICAgYXBwLnN0YXRlLmJ1dHRvbi5hbGx5LmZvckVhY2goeCA9PiB7XG4gICAgICAgIC8vRGVmaW5lXG4gICAgICAgIGxldCBhbGx5U3RhdHVzID0gYXBwLnNvdXJjZS5hbGx5W3guaW5kZXhdLnN0YXR1cztcblxuICAgICAgICAvL0ZyaWVuZGx5IEludnVsbmVyYWJpbGl0eVxuICAgICAgICBsZXQgc3RhdGUgPSBhbGx5U3RhdHVzLm9uU3RhdGU7XG4gICAgICAgIGxldCBpbnZ1bG5lcmFibGUgPSBzdGF0ZS5zb21lKHggPT4geC50eXBlID09PSBcImZyaWVuZGx5SW52dWxuZXJhYmxlXCIpO1xuXG4gICAgICAgIGxldCBuYW1lID0gYXBwLnN0YXRlLmJ1dHRvbi5hbGx5W3BheWxvYWQuaGVyb0luZGV4XS5uYW1lO1xuICAgICAgICBpZiAoeC5uYW1lICE9PSBuYW1lKSB7XG4gICAgICAgICAgeC5idXR0b24gPSB4LmRpc2FibGVkIHx8IGludnVsbmVyYWJsZSA/IHRydWUgOiAheC5idXR0b247XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocGF5bG9hZC5haW0gPT09IFwic2VsZlwiKSB7XG4gICAgICBsZXQgYWxseSA9IGFwcC5zdGF0ZS5idXR0b24uYWxseVtwYXlsb2FkLmhlcm9JbmRleF07XG4gICAgICBhbGx5LmJ1dHRvbiA9IGFsbHkuZGlzYWJsZWQgPyB0cnVlIDogIWFsbHkuYnV0dG9uO1xuICAgIH1cbiAgfVxuXG4gIC8vU2tpbGwgQnV0dG9uXG4gIGlmIChvcHRpb24gPT09IFwib25UYXJnZXRcIikge1xuICAgIGNvbnNvbGUubG9nKFwib25Ta2lsbFwiKTtcbiAgICBhcHAuc3RhdGUuYnV0dG9uLmFsbHkuZm9yRWFjaCh4ID0+IHtcbiAgICAgIGlmICh4Lm9uU2tpbGwgPT09IGZhbHNlKSB7XG4gICAgICAgIHguc2tpbGwuZm9yRWFjaChzID0+IHtcbiAgICAgICAgICBzLmJ1dHRvbiA9IHRydWU7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgeC5uYW1lID09PSBwYXlsb2FkLm9mZmVuc2UgJiZcbiAgICAgICAgICAgIHMubmFtZSA9PT1cbiAgICAgICAgICAgICAgYXBwLnNvdXJjZS5hbGx5W3BheWxvYWQuaGVyb0luZGV4XS5za2lsbFtwYXlsb2FkLnNraWxsXS5uYW1lXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzLmJ1dHRvbiA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgaWYgKG9wdGlvbiA9PT0gXCJvbkNhbmNlbFwiKSB7XG4gICAgY29uc29sZS5sb2coXCJvbkNhbmNlbFwiKTtcbiAgICBhcHAuc3RhdGUuYnV0dG9uLmFsbHkuZm9yRWFjaCh4ID0+IHtcbiAgICAgIGlmICh4Lm9uU2tpbGwgPT09IGZhbHNlIHx8IHgubmFtZSA9PT0gcGF5bG9hZC5vZmZlbnNlKSB7XG4gICAgICAgIHguc2tpbGwuZm9yRWFjaChzID0+IHtcbiAgICAgICAgICBzLmJ1dHRvbiA9IHMuZGlzYWJsZWQgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgeC5uYW1lID09PSBwYXlsb2FkLm9mZmVuc2UgJiZcbiAgICAgICAgICAgIHMubmFtZSA9PT1cbiAgICAgICAgICAgICAgYXBwLnNvdXJjZS5hbGx5W3BheWxvYWQuaGVyb0luZGV4XS5za2lsbFtwYXlsb2FkLnNraWxsXS5uYW1lXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzLmJ1dHRvbiA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAob3B0aW9uID09PSBcIm9uVGFyZ2V0XCIpIHtcbiAgICBjb25zb2xlLmxvZyhcIm9uVGFyZ2V0XCIpO1xuICAgIGFwcC5zdGF0ZS5idXR0b24uYWxseS5mb3JFYWNoKHggPT4ge1xuICAgICAgbGV0IGluZGV4ID0gYXBwLnBhY2tldC5maW5kSW5kZXgocyA9PiBzLm9mZmVuc2UgPT09IHgubmFtZSk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHguc2tpbGwuZm9yRWFjaChzID0+IHtcbiAgICAgICAgICBzLmJ1dHRvbiA9IHMuZGlzYWJsZWQgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2UgaWYgKG9wdGlvbiA9PT0gXCJvblNlbGZcIikge1xuICAgIGNvbnNvbGUubG9nKFwib25TZWxmXCIpO1xuICAgIGFwcC5zdGF0ZS5idXR0b24uYWxseVtwYXlsb2FkLmhlcm9JbmRleF0uc2tpbGwuZm9yRWFjaChzID0+IHtcbiAgICAgIHMuYnV0dG9uID0gcy5kaXNhYmxlZCA/IHRydWUgOiBmYWxzZTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vRW5lcmd5IE1hbmFnZW1lbnRcbiAgaWYgKG9wdGlvbiAhPT0gXCJvblNraWxsXCIpIHtcbiAgICBhcHAuc3RhdGUuYnV0dG9uLmFsbHkuZm9yRWFjaCgoeCwgeGkpID0+IHtcbiAgICAgIGlmICh4Lm9uU2tpbGwgPT09IGZhbHNlICYmIHgubmFtZSAhPT0gcGF5bG9hZC5vZmZlbnNlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHgubmFtZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKG9wdGlvbik7XG4gICAgICAgIHguc2tpbGwuZm9yRWFjaCgocywgc2kpID0+IHtcbiAgICAgICAgICBsZXQgZW5lcmd5ID0gZW5lcmd5TWFuYWdlbWVudCh7IGhlcm9JbmRleDogeGksIHNraWxsOiBzaSB9LCBcImNoZWNrXCIpO1xuICAgICAgICAgIHMuYnV0dG9uID0gcy5kaXNhYmxlZCB8fCBlbmVyZ3kgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgeC5uYW1lID09PSBwYXlsb2FkLm9mZmVuc2UgJiZcbiAgICAgICAgICAgIHMubmFtZSA9PT1cbiAgICAgICAgICAgICAgYXBwLnNvdXJjZS5hbGx5W3BheWxvYWQuaGVyb0luZGV4XS5za2lsbFtwYXlsb2FkLnNraWxsXS5uYW1lXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzLmJ1dHRvbiA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgKG9wdGlvbiA9PT0gXCJvblNlbGZcIiB8fCBvcHRpb24gPT09IFwib25DYW5jZWxcIikgJiZcbiAgICAgICAgeC5uYW1lID09PSBwYXlsb2FkLm9mZmVuc2VcbiAgICAgICkge1xuICAgICAgICB4LnNraWxsLmZvckVhY2goKHMsIHNpKSA9PiB7XG4gICAgICAgICAgbGV0IGVuZXJneSA9IGVuZXJneU1hbmFnZW1lbnQoeyBoZXJvSW5kZXg6IHhpLCBza2lsbDogc2kgfSwgXCJjaGVja1wiKTtcbiAgICAgICAgICBzLmJ1dHRvbiA9IHMuZGlzYWJsZWQgfHwgZW5lcmd5ID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdHVuTWFuYWdlbWVudChvblN0YXRlLCBza2lsbCkge1xuICBsZXQgc3R1biA9IG9uU3RhdGUubWFwKHggPT4ge1xuICAgIGlmICh4LnR5cGUgPT09IFwic3R1blwiKSB7XG4gICAgICBsZXQgaWdub3JlID0gaWdub3JlTWFuYWdlbWVudChvblN0YXRlLCB4KTtcbiAgICAgIGxldCBpbnRlcnNlY3QgPSBfLmludGVyc2VjdGlvbih4LmNvbXByaXNlLCBza2lsbC5jbGFzc2VzKTtcblxuICAgICAgbGV0IGV2YWx1YXRlO1xuXG4gICAgICBpZiAoeC5pbmZvID09PSBcImluY2x1c2l2ZVwiKSB7XG4gICAgICAgIGV2YWx1YXRlID0gaW50ZXJzZWN0Lmxlbmd0aCA+IDAgPyB0cnVlIDogZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKHguaW5mbyA9PT0gXCJkZWNsdXNpdmVcIikge1xuICAgICAgICBldmFsdWF0ZSA9IGludGVyc2VjdC5sZW5ndGggPT09IDAgPyB0cnVlIDogZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmIChldmFsdWF0ZSAmJiAhaWdub3JlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgaWYgKHN0dW4uZmlsdGVyKHggPT4geCA9PT0gdHJ1ZSkubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnZ1bG5lcmFibGVNYW5hZ2VtZW50KG9uU3RhdGUsIHNraWxsKSB7XG4gIGxldCBpbnZ1bG5lcmFibGUgPSBvblN0YXRlLm1hcCh4ID0+IHtcbiAgICBpZiAoeC50eXBlID09PSBcImludnVsbmVyYWJsZVwiKSB7XG4gICAgICBsZXQgaWdub3JlSW52dWwgPSBza2lsbC5pZ25vcmVJbnZ1bDtcbiAgICAgIGxldCBpbnRlcnNlY3QgPSBfLmludGVyc2VjdGlvbih4LmNvbXByaXNlLCBza2lsbC5jbGFzc2VzKTtcblxuICAgICAgbGV0IGV2YWx1YXRlO1xuXG4gICAgICBpZiAoeC5pbmZvID09PSBcImluY2x1c2l2ZVwiKSB7XG4gICAgICAgIGV2YWx1YXRlID0gaW50ZXJzZWN0Lmxlbmd0aCA+IDAgPyB0cnVlIDogZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKHguaW5mbyA9PT0gXCJkZWNsdXNpdmVcIikge1xuICAgICAgICBldmFsdWF0ZSA9IGludGVyc2VjdC5sZW5ndGggPT09IDAgPyB0cnVlIDogZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmIChldmFsdWF0ZSAmJiAhaWdub3JlSW52dWwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBpZiAoaW52dWxuZXJhYmxlLmZpbHRlcih4ID0+IHggPT09IHRydWUpLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gaWdub3JlTWFuYWdlbWVudChvblN0YXRlLCBza2lsbCkge1xuICBsZXQgaWdub3JlID0gb25TdGF0ZS5tYXAoeCA9PiB7XG4gICAgaWYgKHgudHlwZSA9PT0gXCJpZ25vcmVcIikge1xuICAgICAgbGV0IGludGVyc2VjdCA9IF8uaW50ZXJzZWN0aW9uKHguY29tcHJpc2UsIHNraWxsLmNsYXNzZXMpO1xuXG4gICAgICBsZXQgZXZhbHVhdGU7XG5cbiAgICAgIGlmICh4LmluZm8gPT09IFwiaW5jbHVzaXZlXCIpIHtcbiAgICAgICAgZXZhbHVhdGUgPSBpbnRlcnNlY3QubGVuZ3RoID4gMCA/IHRydWUgOiBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAoeC5pbmZvID09PSBcImRlY2x1c2l2ZVwiKSB7XG4gICAgICAgIGV2YWx1YXRlID0gaW50ZXJzZWN0Lmxlbmd0aCA9PT0gMCA/IHRydWUgOiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2YWx1YXRlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgaWYgKGlnbm9yZS5maWx0ZXIoeCA9PiB4ID09PSB0cnVlKS5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4iLCJmdW5jdGlvbiB2dWVCaW5kKHBheWxvYWQpIHtcbiAgbGV0IHVzZXJuYW1lID0gZ2V0Q29va2llKFwidXNlcm5hbWVcIik7XG4gIGNvbnNvbGUubG9nKHBheWxvYWQpO1xuICBsZXQgYWxseSA9IHBheWxvYWQudGVhbS50ZWFtRXZlbiA9PT0gdXNlcm5hbWUgPyBcInRlYW1FdmVuXCIgOiBcInRlYW1PZGRcIjtcbiAgbGV0IGVuZW15ID0gcGF5bG9hZC50ZWFtLnRlYW1FdmVuID09PSB1c2VybmFtZSA/IFwidGVhbU9kZFwiIDogXCJ0ZWFtRXZlblwiO1xuICBsZXQgdHVyblZhbCA9IGFsbHkgPT09IFwidGVhbUV2ZW5cIiA/IDAgOiAxO1xuICBsZXQgbXlUdXJuID0gcGF5bG9hZC50dXJuICUgMiA9PT0gdHVyblZhbCA/IHRydWUgOiBmYWxzZTtcblxuICBpZiAocGF5bG9hZC50ZWFtLnRlYW1FdmVuICE9PSB1c2VybmFtZSAmJiBwYXlsb2FkLnRlYW0udGVhbU9kZCAhPT0gdXNlcm5hbWUpIHtcbiAgICBjb25zb2xlLmxvZyhcInNwZWN0YXRlXCIpO1xuICAgIGFwcC5tb2RlID0gXCJzcGVjdGF0ZVwiO1xuICAgIG15VHVybiA9IGZhbHNlO1xuICAgIC8vIHJldHVybjtcbiAgfVxuXG4gIGlmIChteVR1cm4gPT09IHRydWUpIHtcbiAgICBhcHAuJHJlZnMuc291bmRTdGFydFR1cm4ucGxheSgpO1xuICB9XG5cbiAgLy9UaW1lXG4gIGxldCB0aW1lRGlmZiA9IChEYXRlLm5vdygpIC0gcGF5bG9hZC50aW1lc3RhbXApIC8gMTAwMDtcbiAgbGV0IHRpbWVDYWxjID0gTWF0aC5mbG9vcig2MCAtIHRpbWVEaWZmKTtcbiAgbGV0IHJlbWFpbmluZyA9IDEwMCAqICh0aW1lQ2FsYyAvIDYwKTtcbiAgY29uc29sZS5sb2cocGF5bG9hZC50aW1lc3RhbXAsIHRpbWVEaWZmLCB0aW1lQ2FsYywgcmVtYWluaW5nKTtcblxuICBpZiAocmVtYWluaW5nIDwgMCkge1xuICAgIHJlbWFpbmluZyA9IDA7XG4gIH1cbiAgYXBwLnN0YXRlLnRpbWVyLnR1cm4gPSByZW1haW5pbmc7XG5cbiAgLy8gaWYgKHBheWxvYWQud2lubmVyLnN0YXRlID09PSB0cnVlICYmIHBheWxvYWQud2lubmVyLm5hbWUgPT09IHVzZXJuYW1lKSB7XG4gIC8vIH0gZWxzZSBpZiAoXG4gIC8vICAgcGF5bG9hZC53aW5uZXIuc3RhdGUgPT09IHRydWUgJiZcbiAgLy8gICBwYXlsb2FkLndpbm5lci5uYW1lICE9PSB1c2VybmFtZVxuICAvLyApIHtcbiAgLy8gICBhcHAuJHJlZnMuc291bmRMb3NlLnBsYXkoKTtcbiAgLy8gfVxuXG4gIGxldCBzdG9yZSA9IHtcbiAgICBlbmVyZ3k6IHtcbiAgICAgIGFsbHk6IHBheWxvYWQuZW5lcmd5W2FsbHldLFxuICAgICAgZW5lbXk6IHBheWxvYWQuZW5lcmd5W2VuZW15XVxuICAgIH0sXG4gICAgYWxseTogcGF5bG9hZFthbGx5XS5tYXAoeCA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi54LFxuICAgICAgICBza2lsbDpcbiAgICAgICAgICBhcHAubW9kZSA9PT0gXCJnYW1lXCIgPyB4LnNraWxsIDogeC5za2lsbC5zb3J0KChhLCBiKSA9PiBhLmlkIC0gYi5pZCksXG4gICAgICAgIGluZGljYXRvcjogc3RhdHVzVmlldyh4Lm5hbWUsIHguc3RhdHVzLCB0dXJuVmFsKVxuICAgICAgfTtcbiAgICB9KSxcbiAgICBlbmVteTogcGF5bG9hZFtlbmVteV0ubWFwKHggPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ueCxcbiAgICAgICAgc2tpbGw6IHguc2tpbGwuc29ydCgoYSwgYikgPT4gYS5pZCAtIGIuaWQpLFxuICAgICAgICBpbmRpY2F0b3I6IHN0YXR1c1ZpZXcoeC5uYW1lLCB4LnN0YXR1cywgdHVyblZhbClcbiAgICAgIH07XG4gICAgfSksXG4gICAgdHVybjogcGF5bG9hZC50dXJuLFxuICAgIG15VHVybjogbXlUdXJuLFxuICAgIHR1cm5WYWw6IHR1cm5WYWwsXG4gICAgcm9vbTogcGF5bG9hZC5yb29tLFxuICAgIG1ldGE6IHtcbiAgICAgIG15TmFtZTogcGF5bG9hZC50ZWFtW2FsbHldLFxuICAgICAgdGhlaXJOYW1lOiBwYXlsb2FkLnRlYW1bZW5lbXldXG4gICAgfSxcbiAgICB0aW1lc3RhbXA6IHBheWxvYWQudGltZXN0YW1wXG4gIH07XG4gIHN0b3JlLmVuZXJneS5hbGx5LnIgPVxuICAgIHN0b3JlLmVuZXJneS5hbGx5LmEgK1xuICAgIHN0b3JlLmVuZXJneS5hbGx5LmkgK1xuICAgIHN0b3JlLmVuZXJneS5hbGx5LnMgK1xuICAgIHN0b3JlLmVuZXJneS5hbGx5Lnc7XG4gIGNvbnNvbGUubG9nKHN0b3JlKTtcbiAgbGV0IGJ1dHRvbiA9IHtcbiAgICBhbGx5OiBzdG9yZS5hbGx5Lm1hcCgoeCwgaSkgPT4ge1xuICAgICAgLy8gbGV0IGRpc2FibGVkID0geC5zdGF0dXMub25TdGF0ZS5maW5kSW5kZXgoeCA9PiB4LnR5cGUgPT09ICdzdHVuJykgPiAtMSB8fCB4LmhwIDw9IDAgPyB0cnVlIDogZmFsc2VcbiAgICAgIGxldCBkaXNhYmxlZCA9IHguaHAgPD0gMCA/IHRydWUgOiBmYWxzZTtcbiAgICAgIC8vIGxldCBzdHVuID0geC5zdGF0dXMub25TdGF0ZS5zb21lKHggPT4geC50eXBlID09PSBcInN0dW5cIikgPyB0cnVlIDogZmFsc2U7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiB4Lm5hbWUsXG4gICAgICAgIGluZGV4OiBpLFxuICAgICAgICBidXR0b246IHRydWUsXG4gICAgICAgIG9uU2tpbGw6IGZhbHNlLFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgIHNraWxsOiB4LnNraWxsLm1hcChzID0+IHtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzLnR5cGUpO1xuICAgICAgICAgIGxldCBlbmVyZ3kgPSBlbmVyZ3lNYW5hZ2VtZW50KFxuICAgICAgICAgICAgeyBlbmVyZ3k6IHN0b3JlLmVuZXJneS5hbGx5LCBza2lsbEJpbmQ6IHMuZW5lcmd5IH0sXG4gICAgICAgICAgICBcImNoZWNrXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGxldCBzdHVuID0gc3R1bk1hbmFnZW1lbnQoeC5zdGF0dXMub25TdGF0ZSwgcyk7XG4gICAgICAgICAgLy8gbGV0IGRpc2FibGVEclZyID1cbiAgICAgICAgICAvLyAgIHMudHlwZSA9PT0gXCJpbnZ1bG5lcmFibGVcIiAmJlxuICAgICAgICAgIC8vICAgeC5zdGF0dXMub25TdGF0ZS5zb21lKHggPT4geC50eXBlID09PSBcImRpc2FibGVEckl2XCIpXG4gICAgICAgICAgLy8gICAgID8gdHJ1ZVxuICAgICAgICAgIC8vICAgICA6IGZhbHNlO1xuICAgICAgICAgIGxldCBkaXNhYmxlZCA9XG4gICAgICAgICAgICBzdHVuIHx8XG4gICAgICAgICAgICBzLnJlcXVpcmVkIHx8XG4gICAgICAgICAgICBzLnN0YXRlID09PSBcImNvb2xkb3duXCIgfHxcbiAgICAgICAgICAgIG15VHVybiA9PT0gZmFsc2UgfHxcbiAgICAgICAgICAgIHguaHAgPD0gMFxuICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgOiBmYWxzZTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogcy5uYW1lLFxuICAgICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICAgICAgYnV0dG9uOiBkaXNhYmxlZCB8fCBlbmVyZ3kgPyB0cnVlIDogZmFsc2VcbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgfTtcbiAgICB9KSxcbiAgICBlbmVteTogc3RvcmUuZW5lbXkubWFwKCh4LCBpKSA9PiB7XG4gICAgICAvLyBsZXQgZGlzYWJsZWQgPVxuICAgICAgLy8gICB4LnN0YXR1cy5vblN0YXRlLnNvbWUoeCA9PiB4LnR5cGUgPT09IFwiaW52dWxuZXJhYmxlXCIpIHx8IHguaHAgPD0gMFxuICAgICAgLy8gICAgID8gdHJ1ZVxuICAgICAgLy8gICAgIDogZmFsc2U7XG4gICAgICBsZXQgZGlzYWJsZWQgPSB4LmhwIDw9IDAgPyB0cnVlIDogZmFsc2U7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiB4Lm5hbWUsXG4gICAgICAgIGluZGV4OiBpLFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgIGJ1dHRvbjogdHJ1ZVxuICAgICAgfTtcbiAgICB9KVxuICB9O1xuXG4gIGFwcC5zb3VyY2UgPSBzdG9yZTtcbiAgYXBwLnN0YXRlLmJ1dHRvbiA9IGJ1dHRvbjtcbiAgYXBwLnN0YXRlLndpbm5lciA9IHBheWxvYWQud2lubmVyO1xuICBhcHAuc3RhdGUuZXhjaGFuZ2UubW9kYWwgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gc3RhdHVzVmlldyhuYW1lLCBwYXlsb2FkLCB0dXJuVmFsKSB7XG4gIGNvbnNvbGUubG9nKG5hbWUuc2xpY2UoLTEpLCBwYXlsb2FkKTtcbiAgbGV0IHN0YXR1cyA9IF8uY29uY2F0KFxuICAgIHBheWxvYWQub25BdHRhY2ssXG4gICAgcGF5bG9hZC5vblJlY2VpdmUsXG4gICAgcGF5bG9hZC5vblN0YXRlLFxuICAgIHBheWxvYWQub25TZWxmXG4gICk7XG4gIC8vIGNvbnNvbGUubG9nKFwiaW52aXNpYmxlXCIsIHR1cm5WYWwsIG5hbWUuc2xpY2UoLTEpKTtcbiAgaWYgKGFwcC5tb2RlID09PSBcImdhbWVcIikge1xuICAgIHN0YXR1cyA9IHN0YXR1cy5maWx0ZXIoXG4gICAgICB4ID0+XG4gICAgICAgIHguaXNJbnZpc2libGUgPT09IGZhbHNlIHx8XG4gICAgICAgICh4LmlzSW52aXNpYmxlICE9PSBmYWxzZSAmJiBOdW1iZXIoeC5uYW1lSWQuc2xpY2UoLTEpKSA9PT0gdHVyblZhbClcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHN0YXR1cyA9IHN0YXR1cy5maWx0ZXIoeCA9PiB4LmlzSW52aXNpYmxlID09PSBmYWxzZSk7XG4gIH1cbiAgLy8gaWYgKHR1cm5WYWwgPT09IE51bWJlcihuYW1lLnNsaWNlKC0xKSkpIHtcbiAgLy8gICBzdGF0dXMgPSBzdGF0dXMuZmlsdGVyKFxuICAvLyAgICAgeCA9PiB4LmlzSW52aXNpYmxlID09PSBmYWxzZSB8fCB4LmlzSW52aXNpYmxlICE9PSBmYWxzZSAmJiBOdW1iZXIoeC5uYW1lSWQuc2xpY2UoLTEpKSA9PT0gdHVyblZhbFxuICAvLyAgICk7XG4gIC8vIH0gZWxzZSB7XG4gIC8vICAgc3RhdHVzID0gc3RhdHVzLmZpbHRlcihcbiAgLy8gICAgIHggPT4geC5pc0ludmlzaWJsZSA9PT0gZmFsc2UgfHwgeC5pc0ludmlzaWJsZSAhPT0gZmFsc2UgJiYgTnVtYmVyKHgubmFtZUlkLnNsaWNlKC0xKSkgPT09IHR1cm5WYWxcbiAgLy8gICApO1xuICAvLyB9XG4gIGxldCBncm91cEJ5TmFtZUlkID0gXy5ncm91cEJ5KHN0YXR1cywgXCJuYW1lSWRcIik7XG4gIGxldCB2YWx1ZXNCeU5hbWVJZCA9IF8udmFsdWVzKGdyb3VwQnlOYW1lSWQpO1xuICBsZXQgZ3JvdXBCeVNraWxsSW5kZXggPSB2YWx1ZXNCeU5hbWVJZC5tYXAoeCA9PiBfLmdyb3VwQnkoeCwgXCJza2lsbEluZGV4XCIpKTtcbiAgbGV0IHZhbHVlc0J5U2tpbGxJbmRleCA9IF8udmFsdWVzKGdyb3VwQnlTa2lsbEluZGV4KTtcbiAgbGV0IGNvbmNhdFZhbHVlcyA9IFtdO1xuICB2YWx1ZXNCeVNraWxsSW5kZXguZm9yRWFjaCh4ID0+IHtcbiAgICBjb25jYXRWYWx1ZXMgPSBjb25jYXRWYWx1ZXMuY29uY2F0KF8udmFsdWVzKHgpKTtcbiAgfSk7XG4gIGxldCBmaW5hbCA9IGNvbmNhdFZhbHVlcy5tYXAoeCA9PiB7XG4gICAgbGV0IGluZm8gPSB4WzBdO1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBpbmZvLm5hbWUsXG4gICAgICBuYW1lSWQ6IGluZm8ubmFtZUlkLFxuICAgICAgc2tpbGxJbmRleDogaW5mby5za2lsbEluZGV4LFxuICAgICAgYWN0aXZlOiBpbmZvLmFjdGl2ZSxcbiAgICAgIHZhbDogeFxuICAgIH07XG4gIH0pO1xuICByZXR1cm4gZmluYWw7XG59XG4iLCJmdW5jdGlvbiBpbml0aWF0ZSgpIHtcbiAgbGV0IHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KFwiL1wiKTtcbiAgbGV0IHJvb20gPSB1cmxbdXJsLmxlbmd0aCAtIDFdO1xuICBpZiAocm9vbSAhPT0gXCJcIikge1xuICAgIHNvY2tldC5lbWl0KFwiaW5pdGlhdGVcIiwge1xuICAgICAgcm9vbTogcm9vbVxuICAgIH0pO1xuICAgIGNoYXQuZW1pdChcImdhbWVJbml0aWF0ZVwiLCB7XG4gICAgICByb29tOiByb29tXG4gICAgfSk7XG4gICAgY2hhdC5lbWl0KFwibG9iYnlJbml0aWF0ZVwiKTtcbiAgfSBlbHNlIHtcbiAgICAvLyB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSgnLycpO1xuICB9XG59XG5cbmluaXRpYXRlKCk7XG5cbnNldEludGVydmFsKCgpID0+IHtcbiAgaWYgKGFwcC5zb3VyY2UudHVybiA9PSB1bmRlZmluZWQgfHwgYXBwLnN0YXRlLndpbm5lci5zdGF0ZSAhPT0gZmFsc2UpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGFwcC5zdGF0ZS50aW1lci50dXJuID4gMCkge1xuICAgIGxldCB0aW1lciA9IGFwcC5zdGF0ZS50aW1lci50dXJuIC0gMS42NjtcbiAgICBpZiAodGltZXIgPCAwKSB7XG4gICAgICB0aW1lciA9IDA7XG4gICAgfVxuICAgIGFwcC5zdGF0ZS50aW1lci50dXJuID0gdGltZXI7XG4gIH0gZWxzZSBpZiAoYXBwLnN0YXRlLnRpbWVyLnR1cm4gPD0gMCAmJiBhcHAuc291cmNlLm15VHVybiA9PT0gdHJ1ZSkge1xuICAgIGxldCB0aW1lRGlmZiA9IChEYXRlLm5vdygpIC0gYXBwLnNvdXJjZS50aW1lc3RhbXApIC8gMTAwMDtcbiAgICBsZXQgdGltZUNhbGMgPSA2MCAtIHRpbWVEaWZmO1xuICAgIGxldCByZW1haW5pbmcgPSAxMDAgKiAodGltZUNhbGMgLyA2MCk7XG4gICAgLy8gY29uc29sZS5sb2coYXBwLnNvdXJjZS50aW1lc3RhbXAsIHRpbWVEaWZmLCB0aW1lQ2FsYywgcmVtYWluaW5nKTtcblxuICAgIGlmIChcbiAgICAgIHJlbWFpbmluZyA8PSAwICYmXG4gICAgICBhcHAuc3RhdGUudGltZXIudHVybiA8PSAwICYmXG4gICAgICBhcHAuc291cmNlLm15VHVybiA9PT0gdHJ1ZVxuICAgICkge1xuICAgICAgbGV0IHBheWxvYWQgPSB7XG4gICAgICAgIGVuZXJneToge1xuICAgICAgICAgIGE6IDAsXG4gICAgICAgICAgaTogMCxcbiAgICAgICAgICBzOiAwLFxuICAgICAgICAgIHc6IDBcbiAgICAgICAgfSxcbiAgICAgICAgcGFja2V0OiBbXVxuICAgICAgfTtcbiAgICAgIGFwcC5vbkRvbmUocGF5bG9hZCk7XG4gICAgICBhcHAuc291cmNlLm15VHVybiA9IGZhbHNlO1xuICAgIH1cbiAgfVxufSwgMTAwMCk7XG5cbndpbmRvdy5vbmZvY3VzID0gZnVuY3Rpb24oKSB7XG4gIGRvY3VtZW50LnRpdGxlID0gXCJBbmltZSBSdW1ibGVcIjtcbn07XG5cbmZ1bmN0aW9uIHNjcm9sbENoYXQoKSB7XG4gIHZhciBjb250YWluZXIgPSBhcHAuJGVsLnF1ZXJ5U2VsZWN0b3IoXCIjY2hhdFwiKTtcbiAgY29udGFpbmVyLnNjcm9sbFRvcCA9IGNvbnRhaW5lci5zY3JvbGxIZWlnaHQ7XG59XG5cbnZhciBkZXZ0b29scyA9IC8uLztcbmRldnRvb2xzLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMub3BlbmVkID0gdHJ1ZTtcbiAgbGV0IHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KFwiL1wiKTtcbiAgaWYgKHVybFsyXSAhPT0gXCJsb2NhbGhvc3Q6MzAwMFwiKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBhcHAub25TdXJyZW5kZXIoKTtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKFwiL1wiKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxuICByZXR1cm4gXCJ2LjAuMC4xIEFscGhhXCI7XG59O1xuXG5jb25zb2xlLmxvZyhcIldlbGNvbWUgdG8gQW5pbWUgUnVtYmxlXCIsIGRldnRvb2xzKTtcbiIsInNvY2tldC5vbihcImFwcGx5XCIsIHBheWxvYWQgPT4ge1xuICBkb2N1bWVudC50aXRsZSA9IFwiKCEpIEFuaW1lIFJ1bWJsZVwiO1xuICB2dWVCaW5kKHBheWxvYWQpO1xufSk7XG5cbnNvY2tldC5vbihcIm5vTWF0Y2hcIiwgcGF5bG9hZCA9PiB7XG4gIGNvbnNvbGUubG9nKFwibm9uZVwiKTtcbiAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoXCIvXCIpO1xufSk7XG5cbmNoYXQub24oXCJjaGF0XCIsIHBheWxvYWQgPT4ge1xuICBjb25zb2xlLmxvZyhwYXlsb2FkKTtcbiAgaWYgKHBheWxvYWQuY2hhbm5lbCA9PT0gXCJpbmdhbWVcIikge1xuICAgIGFwcC5jaGF0LnB1c2gocGF5bG9hZC5tZXNzYWdlKTtcbiAgICBpZiAoYXBwLmNoYXRDaGFubmVsICE9PSBcImluZ2FtZVwiKSB7XG4gICAgICBhcHAuY2hhdE5vdGlmLmluZ2FtZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjcm9sbENoYXQoKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAocGF5bG9hZC5jaGFubmVsID09PSBcImxvYmJ5XCIpIHtcbiAgICBhcHAubG9iYnljaGF0LnB1c2gocGF5bG9hZC5tZXNzYWdlKTtcblxuICAgIGlmIChhcHAuY2hhdENoYW5uZWwgIT09IFwibG9iYnlcIikge1xuICAgICAgYXBwLmNoYXROb3RpZi5sb2JieSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjcm9sbENoYXQoKTtcbiAgICB9XG4gIH1cbn0pO1xuXG5jaGF0Lm9uKFwiZ2FtZUluaXRpYXRlXCIsIHBheWxvYWQgPT4ge1xuICBhcHAuY2hhdCA9IHBheWxvYWQ7XG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIHNjcm9sbENoYXQoKTtcbiAgfSwgMTAwKTtcbn0pO1xuY2hhdC5vbihcImxvYmJ5SW5pdGlhdGVcIiwgcGF5bG9hZCA9PiB7XG4gIGFwcC5sb2JieWNoYXQgPSBwYXlsb2FkO1xufSk7XG5cbi8vSGFuZGxlIERpc2Nvbm5lY3RcbnNvY2tldC5vbihcIm9uRGlzY29ubmVjdFwiLCBwYXlsb2FkID0+IHtcbiAgbGV0IG1lc3NhZ2UgPSB7XG4gICAgbmFtZTogXCJTeXN0ZW1cIixcbiAgICBtZXNzYWdlOiBwYXlsb2FkLnVzZXJuYW1lICsgXCIgZGlzY29ubmVjdGVkLiBIYXMgMzAgc2Vjb25kcyB0byByZWNvbm5lY3QuXCIsXG4gICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gIH07XG4gIGFwcC5jaGF0LnB1c2gobWVzc2FnZSk7XG59KTtcbiJdfQ==
