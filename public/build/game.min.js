"use strict";

function getParameterName(name, url) {
  if (!url) url = window.location.href;
  name = name.replace(/[\[\]]/g, "\\$&");
  var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
      results = regex.exec(url);
  if (!results) return null;
  if (!results[2]) return "";
  return decodeURIComponent(results[2].replace(/\+/g, " "));
}

var setCookie = function setCookie(name, value) {
  var days = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 7;
  var path = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : "/";
  var expires = new Date(Date.now() + days * 864e5).toGMTString();
  document.cookie = name + "=" + encodeURIComponent(value) + "; expires=" + expires + "; path=" + path;
};

var getCookie = function getCookie(name) {
  return document.cookie.split("; ").reduce(function (r, v) {
    var parts = v.split("=");
    return parts[0] === name ? decodeURIComponent(parts[1]) : r;
  }, "");
};

var deleteCookie = function deleteCookie(name, path) {
  setCookie(name, "", -1, path);
};

function getRoomName() {
  var url = window.location.href.split("/");
  var room = url[url.length - 1];
  return room;
}

;
"use strict";

var room = getRoomName();
console.log(room);
var socket = io("/game?room=" + room);
var chat = io("/chat");
"use strict";

Vue.use(VTooltip);
var app = new Vue({
  el: "#app",
  data: {
    mode: "game",
    chat: [],
    lobbychat: [],
    chatSend: "",
    chatChannel: "ingame",
    chatNotif: {
      lobby: false,
      ingame: false
    },
    source: {
      energy: {
        ally: {}
      },
      meta: {}
    },
    packet: [],
    state: {
      skill: {
        offense: null,
        skill: null,
        skillId: null,
        skillName: null,
        target: null,
        aim: null,
        heroIndex: null
      },
      timer: {
        turn: 100
      },
      onSkill: false,
      button: {},
      description: null,
      winner: {
        state: false,
        name: ""
      },
      energy: {
        modal: false,
        random: 0
      },
      exchange: {
        modal: false,
        used: false,
        energy: {},
        val: ""
      }
    },
    showModal: true
  },
  methods: {
    onSurrender: function onSurrender() {
      console.log("surrender");
      socket.emit("surrender", {
        room: this.source.room
      });
    },
    onChat: function onChat() {
      var channel = this.chatChannel === "ingame" ? "ingame" : "lobby";
      var packet = {
        channel: channel,
        room: this.source.room,
        message: this.chatSend
      };
      chat.emit("chat", packet);
      this.chatSend = "";
    },
    scrollChat: function (_scrollChat) {
      function scrollChat() {
        return _scrollChat.apply(this, arguments);
      }

      scrollChat.toString = function () {
        return _scrollChat.toString();
      };

      return scrollChat;
    }(function () {
      setTimeout(function () {
        scrollChat();
      }, 100);
    }),
    onExchange: function onExchange(e) {
      //Sound
      this.$refs.soundClick.play();
      var state = this.state;
      this.source.energy.ally = e.energy;
      this.source.energy.ally.r = this.source.energy.ally.r - this.state.energy.random;
      state.exchange.energy = e.cost;
      state.exchange.modal = false;
      state.exchange.used = true;
      state.exchange.val = e.exchange;
      state.button.ally.forEach(function (x, xi) {
        if (x.onSkill === false) {
          console.log(x.name);
          x.skill.forEach(function (s, si) {
            var energy = energyManagement({
              heroIndex: xi,
              skill: si
            }, "check");
            s.button = s.disabled || energy ? true : false;
            console.log(energy, s.disabled, s.button);
          });
        }
      }); //Clean Skill Buffer

      if (state.skill.offense !== null && state.skill.target === null) {
        //Switch Choice
        //Button Management
        buttonManagement(state.skill, "onCancel"); //Clean Buffer

        state.skill = {
          offense: null,
          skill: null,
          skillId: null,
          skillName: null,
          target: null,
          aim: null,
          heroIndex: null
        };
      }
    },
    onDone: function onDone(e) {
      console.log(e);
      app.source.myTurn = false; //Sound

      this.$refs.soundEndTurn.play(); //Define

      var state = this.state;
      var packet = e.packet; //Organize

      state.energy.modal = false;
      packet = packet.filter(function (x) {
        return x.skill !== null && x.skillId !== null && x.skillName !== null && x.offense !== null && x.target !== null && x.aim !== null && x.heroIndex !== null;
      });
      packet.unshift(e.energy);

      if (state.exchange.used === true) {
        packet.unshift({
          msg: "exchange",
          val: state.exchange.val
        }, state.exchange.energy);
        state.exchange.used = false;
      } //Send


      socket.emit("sequence", {
        packet: packet,
        room: this.source.room
      }); //Reset

      state.energy.random = 0;
      this.packet = [];
      state.skill = {
        offense: null,
        skill: null,
        skillId: null,
        skillName: null,
        target: null,
        aim: null,
        heroIndex: null
      };
    },
    onSkill: function onSkill(payload) {
      //Define and Switch State
      var state = this.state;
      var skill = this.source.ally[payload.heroIndex].skill[payload.skillIndex];
      var marking = skill.marking;
      var skillName = skill.name;
      var temporary = {
        offense: payload.name,
        skill: payload.skillIndex,
        skillId: payload.skillId,
        skillName: skillName,
        target: null,
        aim: payload.target,
        heroIndex: payload.heroIndex,
        marking: marking
      }; //Is Skill Chosen?

      var isOnSkill = state.button.ally[temporary.heroIndex].onSkill;

      if (isOnSkill === false && state.skill.offense === null && state.skill.target === null) {
        //First Choice
        //Buffer Skill
        state.skill = temporary; //Button Management

        buttonManagement(temporary, "onSkill");
      } else if (isOnSkill === false && state.skill.offense !== null && state.skill.target === null) {
        //Switch Choice
        //Button Management
        buttonManagement(state.skill, "onCancel");
        setTimeout(function () {
          buttonManagement(temporary, "onSkill");
        }, 100); //Buffer Skill

        state.skill = temporary;
      } else if (isOnSkill === true) {
        //Cancel Choice
        energyManagement(temporary, "add"); //Button Management

        buttonManagement(state.skill, "onCancel");
        buttonManagement(temporary, "onSelf");
        this.packet = this.packet.filter(function (x) {
          return x.offense !== temporary.offense;
        }); //Clean Skill Buffer

        state.skill = {
          offense: null,
          skill: null,
          skillId: null,
          skillName: null,
          target: null,
          aim: null,
          heroIndex: null
        }; //State Management

        state.button.ally[temporary.heroIndex].onSkill = false;
      }
    },
    onTarget: function onTarget(payload) {
      //Sound
      this.$refs.soundClick.play(); //Define State

      var state = this.state; //Buffer Skill

      if (state.skill.aim === "allenemy" || state.skill.aim === "randomenemy") {
        console.log(state.button.enemy);
        state.skill.target = state.button.enemy.filter(function (x) {
          return x.button !== true && x.name !== payload.name;
        }).map(function (x) {
          return x.name;
        });
        state.skill.target.unshift(payload.name);
      } else if (state.skill.aim === "allally") {
        state.skill.target = state.button.ally.map(function (x) {
          return x.name;
        });
      } else if (state.skill.aim === "allenemyallally") {
        state.skill.target = state.button.enemy.filter(function (x) {
          return x.button !== true && x.name !== payload.name;
        }).map(function (x) {
          return x.name;
        });
        state.skill.target.unshift(payload.name);
        var ally = state.button.ally.map(function (x) {
          return x.name;
        });
        state.skill.target = state.skill.target.concat(ally);
      } else if (state.skill.aim === "allotherally") {
        state.skill.target = state.button.ally.filter(function (x) {
          return x.name !== state.skill.offense;
        }).map(function (x) {
          return x.name;
        });
      } else {
        state.skill.target = [payload.name];
      } //Register Skill


      this.packet.push(this.state.skill); //Energy Management

      energyManagement(state.skill, "substract"); //Button Management
      // buttonManagement(state.skill, "onSkill");

      buttonManagement(state.skill, "onTarget"); //State Management

      state.button.ally[state.skill.heroIndex].onSkill = true; //Clean Skill Buffer

      state.skill = {
        offense: null,
        skill: null,
        skillId: null,
        skillName: null,
        target: null,
        aim: null,
        heroIndex: null
      };
    },
    onAttack: function onAttack(payload) {
      //Sound
      this.$refs.soundClick.play();
      this.state.energy.modal = true;
    },
    onDescription: function onDescription(payload) {
      var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;

      if (option === undefined) {
        option = "ally";
      } //Sound


      this.$refs.soundClick.play(); //Define

      var owner = this.source[option][payload.heroIndex];
      var skillIndex = owner.skill.findIndex(function (x) {
        return x.id === payload.skillId;
      });
      var config = {
        nameId: payload.nameId,
        skill: skillIndex,
        skillId: payload.skillId,
        heroIndex: payload.heroIndex,
        option: option
      };
      var skill = owner.skill[config.skill]; //Map Description

      var map = {
        name: skill.name,
        energy: {
          a: skill.energy.a,
          i: skill.energy.i,
          s: skill.energy.s,
          w: skill.energy.w,
          r: skill.energy.r,
          total: skill.energy.a + skill.energy.i + skill.energy.s + skill.energy.w + skill.energy.r
        },
        description: skill.description,
        classes: skill.classes,
        cooldown: skill.cooldown
      };
      var alt = skill.alt !== false ? skill.alt : false; //Buffer Description

      var state = this.state;
      state.description = {
        nameId: config.nameId,
        skill: config.skillId,
        heroIndex: config.heroIndex,
        map: map,
        alt: alt,
        option: option
      };
    },
    onStatus: function onStatus(payload) {
      console.log(payload);

      var status = _.concat(payload.onAttack, payload.onReceive, payload.onState, payload.onSelf);

      console.log(status);

      var group = _.groupBy(status, "nameId");

      console.log(group);

      var subgroup = _.toArray(group).map(function (x) {
        return _.toArray(_.groupBy(x, "skillIndex"));
      });

      var prep = subgroup.map(function (x) {
        return x[0];
      });
      var final = prep.map(function (x) {
        console.log(x[0]);
        var info = x[0];
        return {
          nameId: info.nameId,
          status: info.skillIndex,
          val: x
        };
      });
      console.log(prep);
      console.log(final);
      return final; // let subgroup = group.map(x => _.groupBy(x, "skillIndex"));
    },
    onGetImage: function onGetImage(payload, option) {
      if (option === "packet") {
        var index = this.source.ally.findIndex(function (x) {
          return x.name === payload.offense;
        });
        var nameId = this.source.ally[index].nameId;
        return "/assets/character/" + nameId.slice(0, -1) + "/skill" + (payload.skill + 1) + "/avatar.jpg";
      } else if (option === "char") {
        return "/assets/character/" + payload.nameId.slice(0, -1) + "/avatar.jpg";
      } else if (option === "skill") {
        return "/assets/character/" + payload.nameId.slice(0, -1) + "/skill" + (payload.skill + 1) + "/avatar.jpg";
      } else if (option === "status") {
        return "/assets/character/" + payload.nameId.slice(0, -1) + "/skill" + payload.skill + "/avatar.jpg";
      } else if (option === "targeting") {
        var _index = this.packet.findIndex(function (x) {
          return x.offense === payload.name;
        });

        var skillId = this.packet[_index].skillId;
        return "/assets/character/" + payload.nameId.slice(0, -1) + "/skill" + (skillId + 1) + "/avatar.jpg";
      }
    },
    targetingCue: function targetingCue(payload, nameId) {
      var name = payload;
      var index = this.packet.findIndex(function (x) {
        return x.offense === payload;
      });
      var packet = this.packet[index];
      var result = {
        name: name,
        skillIndex: packet.skill,
        skillId: packet.skillId,
        heroIndex: packet.heroIndex,
        target: packet.target
      };

      if (nameId) {
        result.nameId = nameId;
      }

      console.log(result);
      return result;
    },
    onHP: function onHP(hp) {
      if (hp > 70) {
        return "l--hp-full";
      } else if (hp <= 70 && hp >= 40) {
        return "l--hp-mid";
      } else {
        return "l--hp-low";
      }
    }
  }
});
"use strict";

function energyManagement(temporary, option) {
  var energy = temporary.energy ? temporary.energy : app.source.energy.ally;
  var skill = temporary.skillBind ? temporary.skillBind : app.source.ally[temporary.heroIndex].skill[temporary.skill].energy;
  var total = {
    energy: energy.a + energy.i + energy.s + energy.w,
    skill: skill.a + skill.i + skill.s + skill.w
  };

  if (option === "substract") {
    if (skill.a > 0) {
      energy.a -= skill.a;
      energy.r -= skill.a;
    }

    if (skill.i > 0) {
      energy.i -= skill.i;
      energy.r -= skill.i;
    }

    if (skill.s > 0) {
      energy.s -= skill.s;
      energy.r -= skill.s;
    }

    if (skill.w > 0) {
      energy.w -= skill.w;
      energy.r -= skill.w;
    }

    if (skill.r > 0) {
      energy.r -= skill.r;
      app.state.energy.random += skill.r;
    }
  } else if (option === "add") {
    if (skill.a > 0) {
      energy.a += skill.a;
      energy.r += skill.a;
    }

    if (skill.i > 0) {
      energy.i += skill.i;
      energy.r += skill.i;
    }

    if (skill.s > 0) {
      energy.s += skill.s;
      energy.r += skill.s;
    }

    if (skill.w > 0) {
      energy.w += skill.w;
      energy.r += skill.w;
    }

    if (skill.r > 0) {
      energy.r += skill.r;
      app.state.energy.random -= skill.r;
    }
  } else if (option === "check") {
    var active = true;

    if (total.energy >= total.skill) {
      var count = [true, true, true, true, true];

      if (skill.a >= 0) {
        count[0] = energy.a >= skill.a ? false : true;
      }

      if (skill.i >= 0) {
        count[1] = energy.i >= skill.i ? false : true;
      }

      if (skill.s >= 0) {
        count[2] = energy.s >= skill.s ? false : true;
      }

      if (skill.w >= 0) {
        count[3] = energy.w >= skill.w ? false : true;
      }

      if (skill.r >= 0) {
        count[4] = energy.r >= total.skill + skill.r ? false : true;
      }

      if (count.filter(function (x) {
        return x === false;
      }).length === 5) {
        active = false;
      } else {
        active = true;
      }
    }

    return active;
  }
}

function buttonManagement(payload, option) {
  //Target Button
  if (option !== "onSelf") {
    if (payload.aim === "enemy") {
      app.state.button.enemy.forEach(function (x) {
        //Define
        var skill = app.source.ally[payload.heroIndex].skill[payload.skill];
        var enemyStatus = app.source.enemy[x.index].status; //Invulnerability

        var state = enemyStatus.onState;
        var invulnerable = invulnerableManagement(state, skill); //Disable

        x.button = x.disabled || invulnerable ? true : !x.button; //Ignore

        var ignore = ignoreManagement(state, skill);
        console.log(ignore); //Prevent Invulnerability

        if (option === "onSkill" && enemyStatus.onState.some(function (x) {
          return x.type === "disableDrIv";
        }) && ignore === false) {
          console.log("hi");
          x.button = false;
        }

        console.log(x.button); //Marking

        if (payload.marking === true) {
          var skillName = skill.name;
          var marking = enemyStatus.onReceive.some(function (x) {
            return x.name === skillName;
          }) || enemyStatus.onState.some(function (x) {
            return x.name === skillName;
          });

          if (marking === true) {
            x.button = true;
          }
        }
      });
    } else if (payload.aim === "enemylock") {
      app.state.button.enemy.forEach(function (x) {
        //Define
        var skill = app.source.ally[payload.heroIndex].skill[payload.skill];
        var enemyStatus = app.source.enemy[x.index].status;
        var lock = enemyStatus.onState.some(function (x) {
          return x.type === "lock" && x.info === skill.name;
        });

        if (lock === true) {
          //Invulnerability
          var state = enemyStatus.onState;
          var invulnerable = invulnerableManagement(state, skill); //Disable

          x.button = x.disabled || invulnerable ? true : !x.button; //Ignore

          var ignore = ignoreManagement(state, skill);
          console.log(invulnerable); //Prevent Invulnerability

          if (option === "onSkill" && enemyStatus.onState.some(function (x) {
            return x.type === "disableDrIv";
          }) && ignore === false) {
            x.button = false;
          } //Marking


          if (payload.marking === true) {
            var skillName = skill.name;
            var marking = enemyStatus.onReceive.some(function (x) {
              return x.name === skillName;
            }) || enemyStatus.onState.some(function (x) {
              return x.name === skillName;
            });

            if (marking === true) {
              x.button = true;
            }
          }
        }
      });
    } else if (payload.aim === "allenemy" || payload.aim === "randomenemy" || payload.aim === "allenemyallally") {
      app.state.button.enemy.forEach(function (x) {
        //Define
        var skill = app.source.ally[payload.heroIndex].skill[payload.skill];
        var enemyStatus = app.source.enemy[x.index].status; //Invulnerability

        var state = enemyStatus.onState;
        var invulnerable = invulnerableManagement(state, skill); //Disable

        x.button = x.disabled || invulnerable ? true : !x.button; //Prevent Invulnerability

        if (option === "onSkill" && enemyStatus.onState.some(function (x) {
          return x.type === "disableDrIv";
        })) {
          x.button = false;
        }
      });
    } else if (payload.aim === "ally" || payload.aim === "allally") {
      app.state.button.ally.forEach(function (x) {
        console.log(x); //Define

        var allyStatus = app.source.ally[x.index].status; //Friendly Invulnerability

        var state = allyStatus.onState;
        var invulnerable = state.some(function (x) {
          return x.type === "friendlyInvulnerable";
        });
        x.button = x.disabled || invulnerable ? true : !x.button;
      });
    } else if (payload.aim === "otherally" || payload.aim === "allotherally") {
      app.state.button.ally.forEach(function (x) {
        //Define
        var allyStatus = app.source.ally[x.index].status; //Friendly Invulnerability

        var state = allyStatus.onState;
        var invulnerable = state.some(function (x) {
          return x.type === "friendlyInvulnerable";
        });
        var name = app.state.button.ally[payload.heroIndex].name;

        if (x.name !== name) {
          x.button = x.disabled || invulnerable ? true : !x.button;
        }
      });
    } else if (payload.aim === "self") {
      var ally = app.state.button.ally[payload.heroIndex];
      ally.button = ally.disabled ? true : !ally.button;
    }
  } //Skill Button


  if (option === "onTarget") {
    console.log("onSkill");
    app.state.button.ally.forEach(function (x) {
      if (x.onSkill === false) {
        x.skill.forEach(function (s) {
          s.button = true;

          if (x.name === payload.offense && s.name === app.source.ally[payload.heroIndex].skill[payload.skill].name) {
            s.button = false;
          }
        });
      }
    });
  }

  if (option === "onCancel") {
    console.log("onCancel");
    app.state.button.ally.forEach(function (x) {
      if (x.onSkill === false || x.name === payload.offense) {
        x.skill.forEach(function (s) {
          s.button = s.disabled ? true : false;

          if (x.name === payload.offense && s.name === app.source.ally[payload.heroIndex].skill[payload.skill].name) {
            s.button = false;
          }
        });
      }
    });
  } else if (option === "onTarget") {
    console.log("onTarget");
    app.state.button.ally.forEach(function (x) {
      var index = app.packet.findIndex(function (s) {
        return s.offense === x.name;
      });

      if (index < 0) {
        x.skill.forEach(function (s) {
          s.button = s.disabled ? true : false;
        });
      }
    });
  } else if (option === "onSelf") {
    console.log("onSelf");
    app.state.button.ally[payload.heroIndex].skill.forEach(function (s) {
      s.button = s.disabled ? true : false;
    });
  } //Energy Management


  if (option !== "onSkill") {
    app.state.button.ally.forEach(function (x, xi) {
      if (x.onSkill === false && x.name !== payload.offense) {
        console.log(x.name);
        console.log(option);
        x.skill.forEach(function (s, si) {
          var energy = energyManagement({
            heroIndex: xi,
            skill: si
          }, "check");
          s.button = s.disabled || energy ? true : false;

          if (x.name === payload.offense && s.name === app.source.ally[payload.heroIndex].skill[payload.skill].name) {
            s.button = false;
          }
        });
      }

      if ((option === "onSelf" || option === "onCancel") && x.name === payload.offense) {
        x.skill.forEach(function (s, si) {
          var energy = energyManagement({
            heroIndex: xi,
            skill: si
          }, "check");
          s.button = s.disabled || energy ? true : false;
        });
      }
    });
  }
}

function stunManagement(onState, skill) {
  var stun = onState.map(function (x) {
    if (x.type === "stun") {
      var ignore = ignoreManagement(onState, x);

      var intersect = _.intersection(x.comprise, skill.classes);

      var evaluate;

      if (x.info === "inclusive") {
        evaluate = intersect.length > 0 ? true : false;
      } else if (x.info === "declusive") {
        evaluate = intersect.length === 0 ? true : false;
      }

      if (evaluate && !ignore) {
        return true;
      } else {
        return false;
      }
    }
  });

  if (stun.filter(function (x) {
    return x === true;
  }).length > 0) {
    return true;
  } else {
    return false;
  }
}

function invulnerableManagement(onState, skill) {
  var invulnerable = onState.map(function (x) {
    if (x.type === "invulnerable") {
      var ignoreInvul = skill.ignoreInvul;

      var intersect = _.intersection(x.comprise, skill.classes);

      var evaluate;

      if (x.info === "inclusive") {
        evaluate = intersect.length > 0 ? true : false;
      } else if (x.info === "declusive") {
        evaluate = intersect.length === 0 ? true : false;
      }

      if (evaluate && !ignoreInvul) {
        return true;
      } else {
        return false;
      }
    }
  });

  if (invulnerable.filter(function (x) {
    return x === true;
  }).length > 0) {
    return true;
  } else {
    return false;
  }
}

function ignoreManagement(onState, skill) {
  var ignore = onState.map(function (x) {
    if (x.type === "ignore") {
      var intersect = _.intersection(x.comprise, skill.classes);

      var evaluate;

      if (x.info === "inclusive") {
        evaluate = intersect.length > 0 ? true : false;
      } else if (x.info === "declusive") {
        evaluate = intersect.length === 0 ? true : false;
      }

      if (evaluate) {
        return true;
      } else {
        return false;
      }
    }
  });

  if (ignore.filter(function (x) {
    return x === true;
  }).length > 0) {
    return true;
  } else {
    return false;
  }
}
"use strict";

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function vueBind(payload) {
  var username = getCookie("username");
  console.log(payload);
  var ally = payload.team.teamEven === username ? "teamEven" : "teamOdd";
  var enemy = payload.team.teamEven === username ? "teamOdd" : "teamEven";
  var turnVal = ally === "teamEven" ? 0 : 1;
  var myTurn = payload.turn % 2 === turnVal ? true : false;

  if (payload.team.teamEven !== username && payload.team.teamOdd !== username) {
    console.log("spectate");
    app.mode = "spectate";
    myTurn = false; // return;
  }

  if (myTurn === true) {
    app.$refs.soundStartTurn.play();
  } //Time


  var timeDiff = (Date.now() - payload.timestamp) / 1000;
  var timeCalc = Math.floor(60 - timeDiff);
  var remaining = 100 * (timeCalc / 60);
  console.log(payload.timestamp, timeDiff, timeCalc, remaining);

  if (remaining < 0) {
    remaining = 0;
  }

  app.state.timer.turn = remaining; // if (payload.winner.state === true && payload.winner.name === username) {
  // } else if (
  //   payload.winner.state === true &&
  //   payload.winner.name !== username
  // ) {
  //   app.$refs.soundLose.play();
  // }

  var store = {
    energy: {
      ally: payload.energy[ally],
      enemy: payload.energy[enemy]
    },
    ally: payload[ally].map(function (x) {
      return _objectSpread({}, x, {
        skill: app.mode === "game" ? x.skill : x.skill.sort(function (a, b) {
          return a.id - b.id;
        }),
        indicator: statusView(x.name, x.status, turnVal)
      });
    }),
    enemy: payload[enemy].map(function (x) {
      return _objectSpread({}, x, {
        skill: x.skill.sort(function (a, b) {
          return a.id - b.id;
        }),
        indicator: statusView(x.name, x.status, turnVal)
      });
    }),
    turn: payload.turn,
    myTurn: myTurn,
    turnVal: turnVal,
    room: payload.room,
    meta: {
      myName: payload.team[ally],
      theirName: payload.team[enemy]
    },
    timestamp: payload.timestamp
  };
  store.energy.ally.r = store.energy.ally.a + store.energy.ally.i + store.energy.ally.s + store.energy.ally.w;
  console.log(store);
  var button = {
    ally: store.ally.map(function (x, i) {
      // let disabled = x.status.onState.findIndex(x => x.type === 'stun') > -1 || x.hp <= 0 ? true : false
      var disabled = x.hp <= 0 ? true : false; // let stun = x.status.onState.some(x => x.type === "stun") ? true : false;

      return {
        name: x.name,
        index: i,
        button: true,
        onSkill: false,
        disabled: disabled,
        skill: x.skill.map(function (s) {
          // console.log(s.type);
          var energy = energyManagement({
            energy: store.energy.ally,
            skillBind: s.energy
          }, "check");
          var stun = stunManagement(x.status.onState, s); // let disableDrVr =
          //   s.type === "invulnerable" &&
          //   x.status.onState.some(x => x.type === "disableDrIv")
          //     ? true
          //     : false;

          var disabled = stun || s.required || s.state === "cooldown" || myTurn === false || x.hp <= 0 ? true : false;
          return {
            name: s.name,
            disabled: disabled,
            button: disabled || energy ? true : false
          };
        })
      };
    }),
    enemy: store.enemy.map(function (x, i) {
      // let disabled =
      //   x.status.onState.some(x => x.type === "invulnerable") || x.hp <= 0
      //     ? true
      //     : false;
      var disabled = x.hp <= 0 ? true : false;
      return {
        name: x.name,
        index: i,
        disabled: disabled,
        button: true
      };
    })
  };
  app.source = store;
  app.state.button = button;
  app.state.winner = payload.winner;
  app.state.exchange.modal = false;
}

function statusView(name, payload, turnVal) {
  console.log(name.slice(-1), payload);

  var status = _.concat(payload.onAttack, payload.onReceive, payload.onState, payload.onSelf);

  console.log("invisible", turnVal, name.slice(-1));
  status = status.filter(function (x) {
    return x.isInvisible === false || x.isInvisible !== false && Number(x.nameId.slice(-1)) === turnVal;
  }); // if (turnVal === Number(name.slice(-1))) {
  //   status = status.filter(
  //     x => x.isInvisible === false || x.isInvisible !== false && Number(x.nameId.slice(-1)) === turnVal
  //   );
  // } else {
  //   status = status.filter(
  //     x => x.isInvisible === false || x.isInvisible !== false && Number(x.nameId.slice(-1)) === turnVal
  //   );
  // }

  var groupByNameId = _.groupBy(status, "nameId");

  var valuesByNameId = _.values(groupByNameId);

  var groupBySkillIndex = valuesByNameId.map(function (x) {
    return _.groupBy(x, "skillIndex");
  });

  var valuesBySkillIndex = _.values(groupBySkillIndex);

  var concatValues = [];
  valuesBySkillIndex.forEach(function (x) {
    concatValues = concatValues.concat(_.values(x));
  });
  var final = concatValues.map(function (x) {
    var info = x[0];
    return {
      name: info.name,
      nameId: info.nameId,
      skillIndex: info.skillIndex,
      active: info.active,
      val: x
    };
  });
  return final;
}
"use strict";

function initiate() {
  var url = window.location.href.split("/");
  var room = url[url.length - 1];

  if (room !== "") {
    socket.emit("initiate", {
      room: room
    });
    chat.emit("gameInitiate", {
      room: room
    });
    chat.emit("lobbyInitiate");
  } else {// window.location.replace('/');
  }
}

initiate();
setInterval(function () {
  if (app.source.turn == undefined || app.state.winner.state !== false) {
    return;
  }

  if (app.state.timer.turn > 0) {
    var timer = app.state.timer.turn - 1.66;

    if (timer < 0) {
      timer = 0;
    }

    app.state.timer.turn = timer;
  } else if (app.state.timer.turn <= 0 && app.source.myTurn === true) {
    var timeDiff = (Date.now() - app.source.timestamp) / 1000;
    var timeCalc = 60 - timeDiff;
    var remaining = 100 * (timeCalc / 60); // console.log(app.source.timestamp, timeDiff, timeCalc, remaining);

    if (remaining <= 0 && app.state.timer.turn <= 0 && app.source.myTurn === true) {
      var payload = {
        energy: {
          a: 0,
          i: 0,
          s: 0,
          w: 0
        },
        packet: []
      };
      app.onDone(payload);
      app.source.myTurn = false;
    }
  }
}, 1000);

window.onfocus = function () {
  document.title = "Anime Rumble";
};

function scrollChat() {
  var container = app.$el.querySelector("#chat");
  container.scrollTop = container.scrollHeight;
}

var devtools = /./;

devtools.toString = function () {
  this.opened = true;
  app.onSurrender();
  return 'Alpha';
}; // console.log("Welcome to Anime Rumble", devtools);
"use strict";

socket.on("apply", function (payload) {
  document.title = "(!) Anime Rumble";
  vueBind(payload);
});
socket.on("noMatch", function (payload) {
  console.log("none");
  window.location.replace("/");
});
chat.on("chat", function (payload) {
  console.log(payload);

  if (payload.channel === "ingame") {
    app.chat.push(payload.message);

    if (app.chatChannel !== "ingame") {
      app.chatNotif.ingame = true;
    } else {
      scrollChat();
    }
  } else if (payload.channel === "lobby") {
    app.lobbychat.push(payload.message);

    if (app.chatChannel !== "lobby") {
      app.chatNotif.lobby = true;
    } else {
      scrollChat();
    }
  }
});
chat.on("gameInitiate", function (payload) {
  app.chat = payload;
  setTimeout(function () {
    scrollChat();
  }, 100);
});
chat.on("lobbyInitiate", function (payload) {
  app.lobbychat = payload;
}); //Handle Disconnect

socket.on("onDisconnect", function (payload) {
  var message = {
    name: "System",
    message: payload.username + " disconnected. Has 30 seconds to reconnect.",
    timestamp: Date.now()
  };
  app.chat.push(message);
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlbHBlci5qcyIsInNldHVwLmpzIiwidnVlLmpzIiwibWFuYWdlbWVudC5qcyIsInJlbmRlcmVyLmpzIiwiZ2VuZXJhbC5qcyIsInNvY2tldC5qcyJdLCJuYW1lcyI6WyJnZXRQYXJhbWV0ZXJOYW1lIiwibmFtZSIsInVybCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsInJlcGxhY2UiLCJyZWdleCIsIlJlZ0V4cCIsInJlc3VsdHMiLCJleGVjIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwic2V0Q29va2llIiwidmFsdWUiLCJkYXlzIiwicGF0aCIsImV4cGlyZXMiLCJEYXRlIiwibm93IiwidG9HTVRTdHJpbmciLCJkb2N1bWVudCIsImNvb2tpZSIsImVuY29kZVVSSUNvbXBvbmVudCIsImdldENvb2tpZSIsInNwbGl0IiwicmVkdWNlIiwiciIsInYiLCJwYXJ0cyIsImRlbGV0ZUNvb2tpZSIsImdldFJvb21OYW1lIiwicm9vbSIsImxlbmd0aCIsImNvbnNvbGUiLCJsb2ciLCJzb2NrZXQiLCJpbyIsImNoYXQiLCJWdWUiLCJ1c2UiLCJWVG9vbHRpcCIsImFwcCIsImVsIiwiZGF0YSIsIm1vZGUiLCJsb2JieWNoYXQiLCJjaGF0U2VuZCIsImNoYXRDaGFubmVsIiwiY2hhdE5vdGlmIiwibG9iYnkiLCJpbmdhbWUiLCJzb3VyY2UiLCJlbmVyZ3kiLCJhbGx5IiwibWV0YSIsInBhY2tldCIsInN0YXRlIiwic2tpbGwiLCJvZmZlbnNlIiwic2tpbGxJZCIsInNraWxsTmFtZSIsInRhcmdldCIsImFpbSIsImhlcm9JbmRleCIsInRpbWVyIiwidHVybiIsIm9uU2tpbGwiLCJidXR0b24iLCJkZXNjcmlwdGlvbiIsIndpbm5lciIsIm1vZGFsIiwicmFuZG9tIiwiZXhjaGFuZ2UiLCJ1c2VkIiwidmFsIiwic2hvd01vZGFsIiwibWV0aG9kcyIsIm9uU3VycmVuZGVyIiwiZW1pdCIsIm9uQ2hhdCIsImNoYW5uZWwiLCJtZXNzYWdlIiwic2Nyb2xsQ2hhdCIsInNldFRpbWVvdXQiLCJvbkV4Y2hhbmdlIiwiZSIsIiRyZWZzIiwic291bmRDbGljayIsInBsYXkiLCJjb3N0IiwiZm9yRWFjaCIsIngiLCJ4aSIsInMiLCJzaSIsImVuZXJneU1hbmFnZW1lbnQiLCJkaXNhYmxlZCIsImJ1dHRvbk1hbmFnZW1lbnQiLCJvbkRvbmUiLCJteVR1cm4iLCJzb3VuZEVuZFR1cm4iLCJmaWx0ZXIiLCJ1bnNoaWZ0IiwibXNnIiwicGF5bG9hZCIsInNraWxsSW5kZXgiLCJtYXJraW5nIiwidGVtcG9yYXJ5IiwiaXNPblNraWxsIiwib25UYXJnZXQiLCJlbmVteSIsIm1hcCIsImNvbmNhdCIsInB1c2giLCJvbkF0dGFjayIsIm9uRGVzY3JpcHRpb24iLCJvcHRpb24iLCJ1bmRlZmluZWQiLCJvd25lciIsImZpbmRJbmRleCIsImlkIiwiY29uZmlnIiwibmFtZUlkIiwiYSIsImkiLCJ3IiwidG90YWwiLCJjbGFzc2VzIiwiY29vbGRvd24iLCJhbHQiLCJvblN0YXR1cyIsInN0YXR1cyIsIl8iLCJvblJlY2VpdmUiLCJvblN0YXRlIiwib25TZWxmIiwiZ3JvdXAiLCJncm91cEJ5Iiwic3ViZ3JvdXAiLCJ0b0FycmF5IiwicHJlcCIsImZpbmFsIiwiaW5mbyIsIm9uR2V0SW1hZ2UiLCJpbmRleCIsInNsaWNlIiwidGFyZ2V0aW5nQ3VlIiwicmVzdWx0Iiwib25IUCIsImhwIiwic2tpbGxCaW5kIiwiYWN0aXZlIiwiY291bnQiLCJlbmVteVN0YXR1cyIsImludnVsbmVyYWJsZSIsImludnVsbmVyYWJsZU1hbmFnZW1lbnQiLCJpZ25vcmUiLCJpZ25vcmVNYW5hZ2VtZW50Iiwic29tZSIsInR5cGUiLCJsb2NrIiwiYWxseVN0YXR1cyIsInN0dW5NYW5hZ2VtZW50Iiwic3R1biIsImludGVyc2VjdCIsImludGVyc2VjdGlvbiIsImNvbXByaXNlIiwiZXZhbHVhdGUiLCJpZ25vcmVJbnZ1bCIsInZ1ZUJpbmQiLCJ1c2VybmFtZSIsInRlYW0iLCJ0ZWFtRXZlbiIsInR1cm5WYWwiLCJ0ZWFtT2RkIiwic291bmRTdGFydFR1cm4iLCJ0aW1lRGlmZiIsInRpbWVzdGFtcCIsInRpbWVDYWxjIiwiTWF0aCIsImZsb29yIiwicmVtYWluaW5nIiwic3RvcmUiLCJzb3J0IiwiYiIsImluZGljYXRvciIsInN0YXR1c1ZpZXciLCJteU5hbWUiLCJ0aGVpck5hbWUiLCJyZXF1aXJlZCIsImlzSW52aXNpYmxlIiwiTnVtYmVyIiwiZ3JvdXBCeU5hbWVJZCIsInZhbHVlc0J5TmFtZUlkIiwidmFsdWVzIiwiZ3JvdXBCeVNraWxsSW5kZXgiLCJ2YWx1ZXNCeVNraWxsSW5kZXgiLCJjb25jYXRWYWx1ZXMiLCJpbml0aWF0ZSIsInNldEludGVydmFsIiwib25mb2N1cyIsInRpdGxlIiwiY29udGFpbmVyIiwiJGVsIiwicXVlcnlTZWxlY3RvciIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsImRldnRvb2xzIiwidG9TdHJpbmciLCJvcGVuZWQiLCJvbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxTQUFTQSxnQkFBVCxDQUEwQkMsSUFBMUIsRUFBZ0NDLEdBQWhDLEVBQXFDO0FBQ25DLE1BQUksQ0FBQ0EsR0FBTCxFQUFVQSxNQUFNQyxPQUFPQyxRQUFQLENBQWdCQyxJQUF0QjtBQUNWSixTQUFPQSxLQUFLSyxPQUFMLENBQWEsU0FBYixFQUF3QixNQUF4QixDQUFQO0FBQ0EsTUFBSUMsUUFBUSxJQUFJQyxNQUFKLENBQVcsU0FBU1AsSUFBVCxHQUFnQixtQkFBM0IsQ0FBWjtBQUFBLE1BQ0VRLFVBQVVGLE1BQU1HLElBQU4sQ0FBV1IsR0FBWCxDQURaO0FBRUEsTUFBSSxDQUFDTyxPQUFMLEVBQWMsT0FBTyxJQUFQO0FBQ2QsTUFBSSxDQUFDQSxRQUFRLENBQVIsQ0FBTCxFQUFpQixPQUFPLEVBQVA7QUFDakIsU0FBT0UsbUJBQW1CRixRQUFRLENBQVIsRUFBV0gsT0FBWCxDQUFtQixLQUFuQixFQUEwQixHQUExQixDQUFuQixDQUFQO0FBQ0Q7O0FBRUQsSUFBTU0sWUFBWSxTQUFaQSxTQUFZLENBQUNYLElBQUQs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QUFWLEVBQTBCLG1CQUFXO0FBQ25DLE1BQUlqSSxVQUFVO0FBQ1poRixVQUFNLFFBRE07QUFFWmdGLGFBQVN1QixRQUFRa0UsUUFBUixHQUFtQiw2Q0FGaEI7QUFHWk8sZUFBV2hLLEtBQUtDLEdBQUw7QUFIQyxHQUFkO0FBS0F1QixNQUFJSixJQUFKLENBQVM0RSxJQUFULENBQWNoQyxPQUFkO0FBQ0QsQ0FQRCIsImZpbGUiOiJnYW1lLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGdldFBhcmFtZXRlck5hbWUobmFtZSwgdXJsKSB7XG4gIGlmICghdXJsKSB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgbmFtZSA9IG5hbWUucmVwbGFjZSgvW1xcW1xcXV0vZywgXCJcXFxcJCZcIik7XG4gIHZhciByZWdleCA9IG5ldyBSZWdFeHAoXCJbPyZdXCIgKyBuYW1lICsgXCIoPShbXiYjXSopfCZ8I3wkKVwiKSxcbiAgICByZXN1bHRzID0gcmVnZXguZXhlYyh1cmwpO1xuICBpZiAoIXJlc3VsdHMpIHJldHVybiBudWxsO1xuICBpZiAoIXJlc3VsdHNbMl0pIHJldHVybiBcIlwiO1xuICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdHNbMl0ucmVwbGFjZSgvXFwrL2csIFwiIFwiKSk7XG59XG5cbmNvbnN0IHNldENvb2tpZSA9IChuYW1lLCB2YWx1ZSwgZGF5cyA9IDcsIHBhdGggPSBcIi9cIikgPT4ge1xuICBjb25zdCBleHBpcmVzID0gbmV3IERhdGUoRGF0ZS5ub3coKSArIGRheXMgKiA4NjRlNSkudG9HTVRTdHJpbmcoKTtcbiAgZG9jdW1lbnQuY29va2llID1cbiAgICBuYW1lICtcbiAgICBcIj1cIiArXG4gICAgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSArXG4gICAgXCI7IGV4cGlyZXM9XCIgK1xuICAgIGV4cGlyZXMgK1xuICAgIFwiOyBwYXRoPVwiICtcbiAgICBwYXRoO1xufTtcblxuY29uc3QgZ2V0Q29va2llID0gbmFtZSA9PiB7XG4gIHJldHVybiBkb2N1bWVudC5jb29raWUuc3BsaXQoXCI7IFwiKS5yZWR1Y2UoKHIsIHYpID0+IHtcbiAgICBjb25zdCBwYXJ0cyA9IHYuc3BsaXQoXCI9XCIpO1xuICAgIHJldHVybiBwYXJ0c1swXSA9PT0gbmFtZSA/IGRlY29kZVVSSUNvbXBvbmVudChwYXJ0c1sxXSkgOiByO1xuICB9LCBcIlwiKTtcbn07XG5cbmNvbnN0IGRlbGV0ZUNvb2tpZSA9IChuYW1lLCBwYXRoKSA9PiB7XG4gIHNldENvb2tpZShuYW1lLCBcIlwiLCAtMSwgcGF0aCk7XG59O1xuXG5mdW5jdGlvbiBnZXRSb29tTmFtZSgpIHtcbiAgbGV0IHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KFwiL1wiKTtcbiAgbGV0IHJvb20gPSB1cmxbdXJsLmxlbmd0aCAtIDFdO1xuICByZXR1cm4gcm9vbTtcbn07XG4iLCJsZXQgcm9vbSA9IGdldFJvb21OYW1lKCk7XG5jb25zb2xlLmxvZyhyb29tKTtcbmxldCBzb2NrZXQgPSBpbyhcIi9nYW1lP3Jvb209XCIgKyByb29tKTtcbmxldCBjaGF0ID0gaW8oXCIvY2hhdFwiKTtcbiIsIlZ1ZS51c2UoVlRvb2x0aXApO1xubGV0IGFwcCA9IG5ldyBWdWUoe1xuICBlbDogXCIjYXBwXCIsXG4gIGRhdGE6IHtcbiAgICBtb2RlOiBcImdhbWVcIixcbiAgICBjaGF0OiBbXSxcbiAgICBsb2JieWNoYXQ6IFtdLFxuICAgIGNoYXRTZW5kOiBcIlwiLFxuICAgIGNoYXRDaGFubmVsOiBcImluZ2FtZVwiLFxuICAgIGNoYXROb3RpZjoge1xuICAgICAgbG9iYnk6IGZhbHNlLFxuICAgICAgaW5nYW1lOiBmYWxzZVxuICAgIH0sXG4gICAgc291cmNlOiB7XG4gICAgICBlbmVyZ3k6IHtcbiAgICAgICAgYWxseToge31cbiAgICAgIH0sXG4gICAgICBtZXRhOiB7fVxuICAgIH0sXG4gICAgcGFja2V0OiBbXSxcbiAgICBzdGF0ZToge1xuICAgICAgc2tpbGw6IHtcbiAgICAgICAgb2ZmZW5zZTogbnVsbCxcbiAgICAgICAgc2tpbGw6IG51bGwsXG4gICAgICAgIHNraWxsSWQ6IG51bGwsXG4gICAgICAgIHNraWxsTmFtZTogbnVsbCxcbiAgICAgICAgdGFyZ2V0OiBudWxsLFxuICAgICAgICBhaW06IG51bGwsXG4gICAgICAgIGhlcm9JbmRleDogbnVsbFxuICAgICAgfSxcbiAgICAgIHRpbWVyOiB7XG4gICAgICAgIHR1cm46IDEwMFxuICAgICAgfSxcbiAgICAgIG9uU2tpbGw6IGZhbHNlLFxuICAgICAgYnV0dG9uOiB7fSxcbiAgICAgIGRlc2NyaXB0aW9uOiBudWxsLFxuICAgICAgd2lubmVyOiB7XG4gICAgICAgIHN0YXRlOiBmYWxzZSxcbiAgICAgICAgbmFtZTogXCJcIlxuICAgICAgfSxcbiAgICAgIGVuZXJneToge1xuICAgICAgICBtb2RhbDogZmFsc2UsXG4gICAgICAgIHJhbmRvbTogMFxuICAgICAgfSxcbiAgICAgIGV4Y2hhbmdlOiB7XG4gICAgICAgIG1vZGFsOiBmYWxzZSxcbiAgICAgICAgdXNlZDogZmFsc2UsXG4gICAgICAgIGVuZXJneToge30sXG4gICAgICAgIHZhbDogXCJcIlxuICAgICAgfVxuICAgIH0sXG4gICAgc2hvd01vZGFsOiB0cnVlXG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBvblN1cnJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZyhcInN1cnJlbmRlclwiKTtcbiAgICAgIHNvY2tldC5lbWl0KFwic3VycmVuZGVyXCIsIHsgcm9vbTogdGhpcy5zb3VyY2Uucm9vbSB9KTtcbiAgICB9LFxuICAgIG9uQ2hhdDogZnVuY3Rpb24oKSB7XG4gICAgICBsZXQgY2hhbm5lbCA9IHRoaXMuY2hhdENoYW5uZWwgPT09IFwiaW5nYW1lXCIgPyBcImluZ2FtZVwiIDogXCJsb2JieVwiO1xuXG4gICAgICBsZXQgcGFja2V0ID0ge1xuICAgICAgICBjaGFubmVsOiBjaGFubmVsLFxuICAgICAgICByb29tOiB0aGlzLnNvdXJjZS5yb29tLFxuICAgICAgICBtZXNzYWdlOiB0aGlzLmNoYXRTZW5kXG4gICAgICB9O1xuICAgICAgY2hhdC5lbWl0KFwiY2hhdFwiLCBwYWNrZXQpO1xuICAgICAgdGhpcy5jaGF0U2VuZCA9IFwiXCI7XG4gICAgfSxcbiAgICBzY3JvbGxDaGF0OiBmdW5jdGlvbigpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzY3JvbGxDaGF0KCk7XG4gICAgICB9LCAxMDApO1xuICAgIH0sXG4gICAgb25FeGNoYW5nZTogZnVuY3Rpb24oZSkge1xuICAgICAgLy9Tb3VuZFxuICAgICAgdGhpcy4kcmVmcy5zb3VuZENsaWNrLnBsYXkoKTtcblxuICAgICAgbGV0IHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgIHRoaXMuc291cmNlLmVuZXJneS5hbGx5ID0gZS5lbmVyZ3k7XG4gICAgICB0aGlzLnNvdXJjZS5lbmVyZ3kuYWxseS5yID1cbiAgICAgICAgdGhpcy5zb3VyY2UuZW5lcmd5LmFsbHkuciAtIHRoaXMuc3RhdGUuZW5lcmd5LnJhbmRvbTtcbiAgICAgIHN0YXRlLmV4Y2hhbmdlLmVuZXJneSA9IGUuY29zdDtcbiAgICAgIHN0YXRlLmV4Y2hhbmdlLm1vZGFsID0gZmFsc2U7XG4gICAgICBzdGF0ZS5leGNoYW5nZS51c2VkID0gdHJ1ZTtcbiAgICAgIHN0YXRlLmV4Y2hhbmdlLnZhbCA9IGUuZXhjaGFuZ2U7XG5cbiAgICAgIHN0YXRlLmJ1dHRvbi5hbGx5LmZvckVhY2goKHgsIHhpKSA9PiB7XG4gICAgICAgIGlmICh4Lm9uU2tpbGwgPT09IGZhbHNlKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coeC5uYW1lKTtcbiAgICAgICAgICB4LnNraWxsLmZvckVhY2goKHMsIHNpKSA9PiB7XG4gICAgICAgICAgICBsZXQgZW5lcmd5ID0gZW5lcmd5TWFuYWdlbWVudChcbiAgICAgICAgICAgICAgeyBoZXJvSW5kZXg6IHhpLCBza2lsbDogc2kgfSxcbiAgICAgICAgICAgICAgXCJjaGVja1wiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcy5idXR0b24gPSBzLmRpc2FibGVkIHx8IGVuZXJneSA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVuZXJneSwgcy5kaXNhYmxlZCwgcy5idXR0b24pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy9DbGVhbiBTa2lsbCBCdWZmZXJcbiAgICAgIGlmIChzdGF0ZS5za2lsbC5vZmZlbnNlICE9PSBudWxsICYmIHN0YXRlLnNraWxsLnRhcmdldCA9PT0gbnVsbCkge1xuICAgICAgICAvL1N3aXRjaCBDaG9pY2VcbiAgICAgICAgLy9CdXR0b24gTWFuYWdlbWVudFxuICAgICAgICBidXR0b25NYW5hZ2VtZW50KHN0YXRlLnNraWxsLCBcIm9uQ2FuY2VsXCIpO1xuICAgICAgICAvL0NsZWFuIEJ1ZmZlclxuICAgICAgICBzdGF0ZS5za2lsbCA9IHtcbiAgICAgICAgICBvZmZlbnNlOiBudWxsLFxuICAgICAgICAgIHNraWxsOiBudWxsLFxuICAgICAgICAgIHNraWxsSWQ6IG51bGwsXG4gICAgICAgICAgc2tpbGxOYW1lOiBudWxsLFxuICAgICAgICAgIHRhcmdldDogbnVsbCxcbiAgICAgICAgICBhaW06IG51bGwsXG4gICAgICAgICAgaGVyb0luZGV4OiBudWxsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSxcbiAgICBvbkRvbmU6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgYXBwLnNvdXJjZS5teVR1cm4gPSBmYWxzZTtcbiAgICAgIC8vU291bmRcbiAgICAgIHRoaXMuJHJlZnMuc291bmRFbmRUdXJuLnBsYXkoKTtcblxuICAgICAgLy9EZWZpbmVcbiAgICAgIGxldCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICBsZXQgcGFja2V0ID0gZS5wYWNrZXQ7XG5cbiAgICAgIC8vT3JnYW5pemVcbiAgICAgIHN0YXRlLmVuZXJneS5tb2RhbCA9IGZhbHNlO1xuICAgICAgcGFja2V0ID0gcGFja2V0LmZpbHRlcihcbiAgICAgICAgeCA9PlxuICAgICAgICAgIHguc2tpbGwgIT09IG51bGwgJiZcbiAgICAgICAgICB4LnNraWxsSWQgIT09IG51bGwgJiZcbiAgICAgICAgICB4LnNraWxsTmFtZSAhPT0gbnVsbCAmJlxuICAgICAgICAgIHgub2ZmZW5zZSAhPT0gbnVsbCAmJlxuICAgICAgICAgIHgudGFyZ2V0ICE9PSBudWxsICYmXG4gICAgICAgICAgeC5haW0gIT09IG51bGwgJiZcbiAgICAgICAgICB4Lmhlcm9JbmRleCAhPT0gbnVsbFxuICAgICAgKTtcbiAgICAgIHBhY2tldC51bnNoaWZ0KGUuZW5lcmd5KTtcbiAgICAgIGlmIChzdGF0ZS5leGNoYW5nZS51c2VkID09PSB0cnVlKSB7XG4gICAgICAgIHBhY2tldC51bnNoaWZ0KFxuICAgICAgICAgIHsgbXNnOiBcImV4Y2hhbmdlXCIsIHZhbDogc3RhdGUuZXhjaGFuZ2UudmFsIH0sXG4gICAgICAgICAgc3RhdGUuZXhjaGFuZ2UuZW5lcmd5XG4gICAgICAgICk7XG4gICAgICAgIHN0YXRlLmV4Y2hhbmdlLnVzZWQgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy9TZW5kXG4gICAgICBzb2NrZXQuZW1pdChcInNlcXVlbmNlXCIsIHtcbiAgICAgICAgcGFja2V0OiBwYWNrZXQsXG4gICAgICAgIHJvb206IHRoaXMuc291cmNlLnJvb21cbiAgICAgIH0pO1xuXG4gICAgICAvL1Jlc2V0XG4gICAgICBzdGF0ZS5lbmVyZ3kucmFuZG9tID0gMDtcbiAgICAgIHRoaXMucGFja2V0ID0gW107XG4gICAgICBzdGF0ZS5za2lsbCA9IHtcbiAgICAgICAgb2ZmZW5zZTogbnVsbCxcbiAgICAgICAgc2tpbGw6IG51bGwsXG4gICAgICAgIHNraWxsSWQ6IG51bGwsXG4gICAgICAgIHNraWxsTmFtZTogbnVsbCxcbiAgICAgICAgdGFyZ2V0OiBudWxsLFxuICAgICAgICBhaW06IG51bGwsXG4gICAgICAgIGhlcm9JbmRleDogbnVsbFxuICAgICAgfTtcbiAgICB9LFxuICAgIG9uU2tpbGw6IGZ1bmN0aW9uKHBheWxvYWQpIHtcbiAgICAgIC8vRGVmaW5lIGFuZCBTd2l0Y2ggU3RhdGVcbiAgICAgIGxldCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICBsZXQgc2tpbGwgPSB0aGlzLnNvdXJjZS5hbGx5W3BheWxvYWQuaGVyb0luZGV4XS5za2lsbFtwYXlsb2FkLnNraWxsSW5kZXhdO1xuICAgICAgbGV0IG1hcmtpbmcgPSBza2lsbC5tYXJraW5nO1xuICAgICAgbGV0IHNraWxsTmFtZSA9IHNraWxsLm5hbWU7XG4gICAgICBsZXQgdGVtcG9yYXJ5ID0ge1xuICAgICAgICBvZmZlbnNlOiBwYXlsb2FkLm5hbWUsXG4gICAgICAgIHNraWxsOiBwYXlsb2FkLnNraWxsSW5kZXgsXG4gICAgICAgIHNraWxsSWQ6IHBheWxvYWQuc2tpbGxJZCxcbiAgICAgICAgc2tpbGxOYW1lOiBza2lsbE5hbWUsXG4gICAgICAgIHRhcmdldDogbnVsbCxcbiAgICAgICAgYWltOiBwYXlsb2FkLnRhcmdldCxcbiAgICAgICAgaGVyb0luZGV4OiBwYXlsb2FkLmhlcm9JbmRleCxcbiAgICAgICAgbWFya2luZzogbWFya2luZ1xuICAgICAgfTtcblxuICAgICAgLy9JcyBTa2lsbCBDaG9zZW4/XG4gICAgICBsZXQgaXNPblNraWxsID0gc3RhdGUuYnV0dG9uLmFsbHlbdGVtcG9yYXJ5Lmhlcm9JbmRleF0ub25Ta2lsbDtcblxuICAgICAgaWYgKFxuICAgICAgICBpc09uU2tpbGwgPT09IGZhbHNlICYmXG4gICAgICAgIHN0YXRlLnNraWxsLm9mZmVuc2UgPT09IG51bGwgJiZcbiAgICAgICAgc3RhdGUuc2tpbGwudGFyZ2V0ID09PSBudWxsXG4gICAgICApIHtcbiAgICAgICAgLy9GaXJzdCBDaG9pY2VcbiAgICAgICAgLy9CdWZmZXIgU2tpbGxcbiAgICAgICAgc3RhdGUuc2tpbGwgPSB0ZW1wb3Jhcnk7XG4gICAgICAgIC8vQnV0dG9uIE1hbmFnZW1lbnRcbiAgICAgICAgYnV0dG9uTWFuYWdlbWVudCh0ZW1wb3JhcnksIFwib25Ta2lsbFwiKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIGlzT25Ta2lsbCA9PT0gZmFsc2UgJiZcbiAgICAgICAgc3RhdGUuc2tpbGwub2ZmZW5zZSAhPT0gbnVsbCAmJlxuICAgICAgICBzdGF0ZS5za2lsbC50YXJnZXQgPT09IG51bGxcbiAgICAgICkge1xuICAgICAgICAvL1N3aXRjaCBDaG9pY2VcbiAgICAgICAgLy9CdXR0b24gTWFuYWdlbWVudFxuICAgICAgICBidXR0b25NYW5hZ2VtZW50KHN0YXRlLnNraWxsLCBcIm9uQ2FuY2VsXCIpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBidXR0b25NYW5hZ2VtZW50KHRlbXBvcmFyeSwgXCJvblNraWxsXCIpO1xuICAgICAgICB9LCAxMDApO1xuICAgICAgICAvL0J1ZmZlciBTa2lsbFxuICAgICAgICBzdGF0ZS5za2lsbCA9IHRlbXBvcmFyeTtcbiAgICAgIH0gZWxzZSBpZiAoaXNPblNraWxsID09PSB0cnVlKSB7XG4gICAgICAgIC8vQ2FuY2VsIENob2ljZVxuICAgICAgICBlbmVyZ3lNYW5hZ2VtZW50KHRlbXBvcmFyeSwgXCJhZGRcIik7XG4gICAgICAgIC8vQnV0dG9uIE1hbmFnZW1lbnRcbiAgICAgICAgYnV0dG9uTWFuYWdlbWVudChzdGF0ZS5za2lsbCwgXCJvbkNhbmNlbFwiKTtcbiAgICAgICAgYnV0dG9uTWFuYWdlbWVudCh0ZW1wb3JhcnksIFwib25TZWxmXCIpO1xuICAgICAgICB0aGlzLnBhY2tldCA9IHRoaXMucGFja2V0LmZpbHRlcih4ID0+IHgub2ZmZW5zZSAhPT0gdGVtcG9yYXJ5Lm9mZmVuc2UpO1xuICAgICAgICAvL0NsZWFuIFNraWxsIEJ1ZmZlclxuICAgICAgICBzdGF0ZS5za2lsbCA9IHtcbiAgICAgICAgICBvZmZlbnNlOiBudWxsLFxuICAgICAgICAgIHNraWxsOiBudWxsLFxuICAgICAgICAgIHNraWxsSWQ6IG51bGwsXG4gICAgICAgICAgc2tpbGxOYW1lOiBudWxsLFxuICAgICAgICAgIHRhcmdldDogbnVsbCxcbiAgICAgICAgICBhaW06IG51bGwsXG4gICAgICAgICAgaGVyb0luZGV4OiBudWxsXG4gICAgICAgIH07XG4gICAgICAgIC8vU3RhdGUgTWFuYWdlbWVudFxuICAgICAgICBzdGF0ZS5idXR0b24uYWxseVt0ZW1wb3JhcnkuaGVyb0luZGV4XS5vblNraWxsID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcbiAgICBvblRhcmdldDogZnVuY3Rpb24ocGF5bG9hZCkge1xuICAgICAgLy9Tb3VuZFxuICAgICAgdGhpcy4kcmVmcy5zb3VuZENsaWNrLnBsYXkoKTtcblxuICAgICAgLy9EZWZpbmUgU3RhdGVcbiAgICAgIGxldCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgIC8vQnVmZmVyIFNraWxsXG4gICAgICBpZiAoc3RhdGUuc2tpbGwuYWltID09PSBcImFsbGVuZW15XCIgfHwgc3RhdGUuc2tpbGwuYWltID09PSBcInJhbmRvbWVuZW15XCIpIHtcbiAgICAgICAgY29uc29sZS5sb2coc3RhdGUuYnV0dG9uLmVuZW15KTtcbiAgICAgICAgc3RhdGUuc2tpbGwudGFyZ2V0ID0gc3RhdGUuYnV0dG9uLmVuZW15XG4gICAgICAgICAgLmZpbHRlcih4ID0+IHguYnV0dG9uICE9PSB0cnVlICYmIHgubmFtZSAhPT0gcGF5bG9hZC5uYW1lKVxuICAgICAgICAgIC5tYXAoeCA9PiB4Lm5hbWUpO1xuICAgICAgICBzdGF0ZS5za2lsbC50YXJnZXQudW5zaGlmdChwYXlsb2FkLm5hbWUpO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZS5za2lsbC5haW0gPT09IFwiYWxsYWxseVwiKSB7XG4gICAgICAgIHN0YXRlLnNraWxsLnRhcmdldCA9IHN0YXRlLmJ1dHRvbi5hbGx5Lm1hcCh4ID0+IHgubmFtZSk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLnNraWxsLmFpbSA9PT0gXCJhbGxlbmVteWFsbGFsbHlcIikge1xuICAgICAgICBzdGF0ZS5za2lsbC50YXJnZXQgPSBzdGF0ZS5idXR0b24uZW5lbXlcbiAgICAgICAgICAuZmlsdGVyKHggPT4geC5idXR0b24gIT09IHRydWUgJiYgeC5uYW1lICE9PSBwYXlsb2FkLm5hbWUpXG4gICAgICAgICAgLm1hcCh4ID0+IHgubmFtZSk7XG4gICAgICAgIHN0YXRlLnNraWxsLnRhcmdldC51bnNoaWZ0KHBheWxvYWQubmFtZSk7XG4gICAgICAgIGxldCBhbGx5ID0gc3RhdGUuYnV0dG9uLmFsbHkubWFwKHggPT4geC5uYW1lKTtcbiAgICAgICAgc3RhdGUuc2tpbGwudGFyZ2V0ID0gc3RhdGUuc2tpbGwudGFyZ2V0LmNvbmNhdChhbGx5KTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUuc2tpbGwuYWltID09PSBcImFsbG90aGVyYWxseVwiKSB7XG4gICAgICAgIHN0YXRlLnNraWxsLnRhcmdldCA9IHN0YXRlLmJ1dHRvbi5hbGx5XG4gICAgICAgICAgLmZpbHRlcih4ID0+IHgubmFtZSAhPT0gc3RhdGUuc2tpbGwub2ZmZW5zZSlcbiAgICAgICAgICAubWFwKHggPT4geC5uYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRlLnNraWxsLnRhcmdldCA9IFtwYXlsb2FkLm5hbWVdO1xuICAgICAgfVxuICAgICAgLy9SZWdpc3RlciBTa2lsbFxuICAgICAgdGhpcy5wYWNrZXQucHVzaCh0aGlzLnN0YXRlLnNraWxsKTtcblxuICAgICAgLy9FbmVyZ3kgTWFuYWdlbWVudFxuICAgICAgZW5lcmd5TWFuYWdlbWVudChzdGF0ZS5za2lsbCwgXCJzdWJzdHJhY3RcIik7XG4gICAgICAvL0J1dHRvbiBNYW5hZ2VtZW50XG4gICAgICAvLyBidXR0b25NYW5hZ2VtZW50KHN0YXRlLnNraWxsLCBcIm9uU2tpbGxcIik7XG4gICAgICBidXR0b25NYW5hZ2VtZW50KHN0YXRlLnNraWxsLCBcIm9uVGFyZ2V0XCIpO1xuICAgICAgLy9TdGF0ZSBNYW5hZ2VtZW50XG4gICAgICBzdGF0ZS5idXR0b24uYWxseVtzdGF0ZS5za2lsbC5oZXJvSW5kZXhdLm9uU2tpbGwgPSB0cnVlO1xuXG4gICAgICAvL0NsZWFuIFNraWxsIEJ1ZmZlclxuICAgICAgc3RhdGUuc2tpbGwgPSB7XG4gICAgICAgIG9mZmVuc2U6IG51bGwsXG4gICAgICAgIHNraWxsOiBudWxsLFxuICAgICAgICBza2lsbElkOiBudWxsLFxuICAgICAgICBza2lsbE5hbWU6IG51bGwsXG4gICAgICAgIHRhcmdldDogbnVsbCxcbiAgICAgICAgYWltOiBudWxsLFxuICAgICAgICBoZXJvSW5kZXg6IG51bGxcbiAgICAgIH07XG4gICAgfSxcbiAgICBvbkF0dGFjazogZnVuY3Rpb24ocGF5bG9hZCkge1xuICAgICAgLy9Tb3VuZFxuICAgICAgdGhpcy4kcmVmcy5zb3VuZENsaWNrLnBsYXkoKTtcblxuICAgICAgdGhpcy5zdGF0ZS5lbmVyZ3kubW9kYWwgPSB0cnVlO1xuICAgIH0sXG4gICAgb25EZXNjcmlwdGlvbjogZnVuY3Rpb24ocGF5bG9hZCwgb3B0aW9uID0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAob3B0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgb3B0aW9uID0gXCJhbGx5XCI7XG4gICAgICB9XG5cbiAgICAgIC8vU291bmRcbiAgICAgIHRoaXMuJHJlZnMuc291bmRDbGljay5wbGF5KCk7XG4gICAgICAvL0RlZmluZVxuICAgICAgbGV0IG93bmVyID0gdGhpcy5zb3VyY2Vbb3B0aW9uXVtwYXlsb2FkLmhlcm9JbmRleF07XG4gICAgICBsZXQgc2tpbGxJbmRleCA9IG93bmVyLnNraWxsLmZpbmRJbmRleCh4ID0+IHguaWQgPT09IHBheWxvYWQuc2tpbGxJZCk7XG4gICAgICBsZXQgY29uZmlnID0ge1xuICAgICAgICBuYW1lSWQ6IHBheWxvYWQubmFtZUlkLFxuICAgICAgICBza2lsbDogc2tpbGxJbmRleCxcbiAgICAgICAgc2tpbGxJZDogcGF5bG9hZC5za2lsbElkLFxuICAgICAgICBoZXJvSW5kZXg6IHBheWxvYWQuaGVyb0luZGV4LFxuICAgICAgICBvcHRpb246IG9wdGlvblxuICAgICAgfTtcbiAgICAgIGxldCBza2lsbCA9IG93bmVyLnNraWxsW2NvbmZpZy5za2lsbF07XG5cbiAgICAgIC8vTWFwIERlc2NyaXB0aW9uXG4gICAgICBsZXQgbWFwID0ge1xuICAgICAgICBuYW1lOiBza2lsbC5uYW1lLFxuICAgICAgICBlbmVyZ3k6IHtcbiAgICAgICAgICBhOiBza2lsbC5lbmVyZ3kuYSxcbiAgICAgICAgICBpOiBza2lsbC5lbmVyZ3kuaSxcbiAgICAgICAgICBzOiBza2lsbC5lbmVyZ3kucyxcbiAgICAgICAgICB3OiBza2lsbC5lbmVyZ3kudyxcbiAgICAgICAgICByOiBza2lsbC5lbmVyZ3kucixcbiAgICAgICAgICB0b3RhbDpcbiAgICAgICAgICAgIHNraWxsLmVuZXJneS5hICtcbiAgICAgICAgICAgIHNraWxsLmVuZXJneS5pICtcbiAgICAgICAgICAgIHNraWxsLmVuZXJneS5zICtcbiAgICAgICAgICAgIHNraWxsLmVuZXJneS53ICtcbiAgICAgICAgICAgIHNraWxsLmVuZXJneS5yXG4gICAgICAgIH0sXG4gICAgICAgIGRlc2NyaXB0aW9uOiBza2lsbC5kZXNjcmlwdGlvbixcbiAgICAgICAgY2xhc3Nlczogc2tpbGwuY2xhc3NlcyxcbiAgICAgICAgY29vbGRvd246IHNraWxsLmNvb2xkb3duXG4gICAgICB9O1xuXG4gICAgICBsZXQgYWx0ID0gc2tpbGwuYWx0ICE9PSBmYWxzZSA/IHNraWxsLmFsdCA6IGZhbHNlO1xuXG4gICAgICAvL0J1ZmZlciBEZXNjcmlwdGlvblxuICAgICAgbGV0IHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgIHN0YXRlLmRlc2NyaXB0aW9uID0ge1xuICAgICAgICBuYW1lSWQ6IGNvbmZpZy5uYW1lSWQsXG4gICAgICAgIHNraWxsOiBjb25maWcuc2tpbGxJZCxcbiAgICAgICAgaGVyb0luZGV4OiBjb25maWcuaGVyb0luZGV4LFxuICAgICAgICBtYXA6IG1hcCxcbiAgICAgICAgYWx0OiBhbHQsXG4gICAgICAgIG9wdGlvbjogb3B0aW9uXG4gICAgICB9O1xuICAgIH0sXG4gICAgb25TdGF0dXM6IGZ1bmN0aW9uKHBheWxvYWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKHBheWxvYWQpO1xuICAgICAgbGV0IHN0YXR1cyA9IF8uY29uY2F0KFxuICAgICAgICBwYXlsb2FkLm9uQXR0YWNrLFxuICAgICAgICBwYXlsb2FkLm9uUmVjZWl2ZSxcbiAgICAgICAgcGF5bG9hZC5vblN0YXRlLFxuICAgICAgICBwYXlsb2FkLm9uU2VsZlxuICAgICAgKTtcbiAgICAgIGNvbnNvbGUubG9nKHN0YXR1cyk7XG4gICAgICBsZXQgZ3JvdXAgPSBfLmdyb3VwQnkoc3RhdHVzLCBcIm5hbWVJZFwiKTtcbiAgICAgIGNvbnNvbGUubG9nKGdyb3VwKTtcbiAgICAgIGxldCBzdWJncm91cCA9IF8udG9BcnJheShncm91cCkubWFwKHggPT5cbiAgICAgICAgXy50b0FycmF5KF8uZ3JvdXBCeSh4LCBcInNraWxsSW5kZXhcIikpXG4gICAgICApO1xuICAgICAgbGV0IHByZXAgPSBzdWJncm91cC5tYXAoeCA9PiB4WzBdKTtcbiAgICAgIGxldCBmaW5hbCA9IHByZXAubWFwKHggPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyh4WzBdKTtcbiAgICAgICAgbGV0IGluZm8gPSB4WzBdO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5hbWVJZDogaW5mby5uYW1lSWQsXG4gICAgICAgICAgc3RhdHVzOiBpbmZvLnNraWxsSW5kZXgsXG4gICAgICAgICAgdmFsOiB4XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKHByZXApO1xuICAgICAgY29uc29sZS5sb2coZmluYWwpO1xuICAgICAgcmV0dXJuIGZpbmFsO1xuICAgICAgLy8gbGV0IHN1Ymdyb3VwID0gZ3JvdXAubWFwKHggPT4gXy5ncm91cEJ5KHgsIFwic2tpbGxJbmRleFwiKSk7XG4gICAgfSxcbiAgICBvbkdldEltYWdlOiBmdW5jdGlvbihwYXlsb2FkLCBvcHRpb24pIHtcbiAgICAgIGlmIChvcHRpb24gPT09IFwicGFja2V0XCIpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5zb3VyY2UuYWxseS5maW5kSW5kZXgoeCA9PiB4Lm5hbWUgPT09IHBheWxvYWQub2ZmZW5zZSk7XG4gICAgICAgIGxldCBuYW1lSWQgPSB0aGlzLnNvdXJjZS5hbGx5W2luZGV4XS5uYW1lSWQ7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBcIi9hc3NldHMvY2hhcmFjdGVyL1wiICtcbiAgICAgICAgICBuYW1lSWQuc2xpY2UoMCwgLTEpICtcbiAgICAgICAgICBcIi9za2lsbFwiICtcbiAgICAgICAgICAocGF5bG9hZC5za2lsbCArIDEpICtcbiAgICAgICAgICBcIi9hdmF0YXIuanBnXCJcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9uID09PSBcImNoYXJcIikge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIFwiL2Fzc2V0cy9jaGFyYWN0ZXIvXCIgKyBwYXlsb2FkLm5hbWVJZC5zbGljZSgwLCAtMSkgKyBcIi9hdmF0YXIuanBnXCJcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9uID09PSBcInNraWxsXCIpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBcIi9hc3NldHMvY2hhcmFjdGVyL1wiICtcbiAgICAgICAgICBwYXlsb2FkLm5hbWVJZC5zbGljZSgwLCAtMSkgK1xuICAgICAgICAgIFwiL3NraWxsXCIgK1xuICAgICAgICAgIChwYXlsb2FkLnNraWxsICsgMSkgK1xuICAgICAgICAgIFwiL2F2YXRhci5qcGdcIlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChvcHRpb24gPT09IFwic3RhdHVzXCIpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBcIi9hc3NldHMvY2hhcmFjdGVyL1wiICtcbiAgICAgICAgICBwYXlsb2FkLm5hbWVJZC5zbGljZSgwLCAtMSkgK1xuICAgICAgICAgIFwiL3NraWxsXCIgK1xuICAgICAgICAgIHBheWxvYWQuc2tpbGwgK1xuICAgICAgICAgIFwiL2F2YXRhci5qcGdcIlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChvcHRpb24gPT09IFwidGFyZ2V0aW5nXCIpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5wYWNrZXQuZmluZEluZGV4KHggPT4geC5vZmZlbnNlID09PSBwYXlsb2FkLm5hbWUpO1xuICAgICAgICBsZXQgc2tpbGxJZCA9IHRoaXMucGFja2V0W2luZGV4XS5za2lsbElkO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIFwiL2Fzc2V0cy9jaGFyYWN0ZXIvXCIgK1xuICAgICAgICAgIHBheWxvYWQubmFtZUlkLnNsaWNlKDAsIC0xKSArXG4gICAgICAgICAgXCIvc2tpbGxcIiArXG4gICAgICAgICAgKHNraWxsSWQgKyAxKSArXG4gICAgICAgICAgXCIvYXZhdGFyLmpwZ1wiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSxcbiAgICB0YXJnZXRpbmdDdWU6IGZ1bmN0aW9uKHBheWxvYWQsIG5hbWVJZCkge1xuICAgICAgbGV0IG5hbWUgPSBwYXlsb2FkO1xuICAgICAgbGV0IGluZGV4ID0gdGhpcy5wYWNrZXQuZmluZEluZGV4KHggPT4geC5vZmZlbnNlID09PSBwYXlsb2FkKTtcbiAgICAgIGxldCBwYWNrZXQgPSB0aGlzLnBhY2tldFtpbmRleF07XG5cbiAgICAgIGxldCByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIHNraWxsSW5kZXg6IHBhY2tldC5za2lsbCxcbiAgICAgICAgc2tpbGxJZDogcGFja2V0LnNraWxsSWQsXG4gICAgICAgIGhlcm9JbmRleDogcGFja2V0Lmhlcm9JbmRleCxcbiAgICAgICAgdGFyZ2V0OiBwYWNrZXQudGFyZ2V0XG4gICAgICB9O1xuXG4gICAgICBpZiAobmFtZUlkKSB7XG4gICAgICAgIHJlc3VsdC5uYW1lSWQgPSBuYW1lSWQ7XG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG4gICAgb25IUDogZnVuY3Rpb24oaHApIHtcbiAgICAgIGlmIChocCA+IDcwKSB7XG4gICAgICAgIHJldHVybiBcImwtLWhwLWZ1bGxcIjtcbiAgICAgIH0gZWxzZSBpZiAoaHAgPD0gNzAgJiYgaHAgPj0gNDApIHtcbiAgICAgICAgcmV0dXJuIFwibC0taHAtbWlkXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gXCJsLS1ocC1sb3dcIjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pO1xuIiwiZnVuY3Rpb24gZW5lcmd5TWFuYWdlbWVudCh0ZW1wb3JhcnksIG9wdGlvbikge1xuICBsZXQgZW5lcmd5ID0gdGVtcG9yYXJ5LmVuZXJneSA/IHRlbXBvcmFyeS5lbmVyZ3kgOiBhcHAuc291cmNlLmVuZXJneS5hbGx5O1xuICBsZXQgc2tpbGwgPSB0ZW1wb3Jhcnkuc2tpbGxCaW5kXG4gICAgPyB0ZW1wb3Jhcnkuc2tpbGxCaW5kXG4gICAgOiBhcHAuc291cmNlLmFsbHlbdGVtcG9yYXJ5Lmhlcm9JbmRleF0uc2tpbGxbdGVtcG9yYXJ5LnNraWxsXS5lbmVyZ3k7XG4gIGxldCB0b3RhbCA9IHtcbiAgICBlbmVyZ3k6IGVuZXJneS5hICsgZW5lcmd5LmkgKyBlbmVyZ3kucyArIGVuZXJneS53LFxuICAgIHNraWxsOiBza2lsbC5hICsgc2tpbGwuaSArIHNraWxsLnMgKyBza2lsbC53XG4gIH07XG5cbiAgaWYgKG9wdGlvbiA9PT0gXCJzdWJzdHJhY3RcIikge1xuICAgIGlmIChza2lsbC5hID4gMCkge1xuICAgICAgZW5lcmd5LmEgLT0gc2tpbGwuYTtcbiAgICAgIGVuZXJneS5yIC09IHNraWxsLmE7XG4gICAgfVxuICAgIGlmIChza2lsbC5pID4gMCkge1xuICAgICAgZW5lcmd5LmkgLT0gc2tpbGwuaTtcbiAgICAgIGVuZXJneS5yIC09IHNraWxsLmk7XG4gICAgfVxuICAgIGlmIChza2lsbC5zID4gMCkge1xuICAgICAgZW5lcmd5LnMgLT0gc2tpbGwucztcbiAgICAgIGVuZXJneS5yIC09IHNraWxsLnM7XG4gICAgfVxuICAgIGlmIChza2lsbC53ID4gMCkge1xuICAgICAgZW5lcmd5LncgLT0gc2tpbGwudztcbiAgICAgIGVuZXJneS5yIC09IHNraWxsLnc7XG4gICAgfVxuICAgIGlmIChza2lsbC5yID4gMCkge1xuICAgICAgZW5lcmd5LnIgLT0gc2tpbGwucjtcbiAgICAgIGFwcC5zdGF0ZS5lbmVyZ3kucmFuZG9tICs9IHNraWxsLnI7XG4gICAgfVxuICB9IGVsc2UgaWYgKG9wdGlvbiA9PT0gXCJhZGRcIikge1xuICAgIGlmIChza2lsbC5hID4gMCkge1xuICAgICAgZW5lcmd5LmEgKz0gc2tpbGwuYTtcbiAgICAgIGVuZXJneS5yICs9IHNraWxsLmE7XG4gICAgfVxuICAgIGlmIChza2lsbC5pID4gMCkge1xuICAgICAgZW5lcmd5LmkgKz0gc2tpbGwuaTtcbiAgICAgIGVuZXJneS5yICs9IHNraWxsLmk7XG4gICAgfVxuICAgIGlmIChza2lsbC5zID4gMCkge1xuICAgICAgZW5lcmd5LnMgKz0gc2tpbGwucztcbiAgICAgIGVuZXJneS5yICs9IHNraWxsLnM7XG4gICAgfVxuICAgIGlmIChza2lsbC53ID4gMCkge1xuICAgICAgZW5lcmd5LncgKz0gc2tpbGwudztcbiAgICAgIGVuZXJneS5yICs9IHNraWxsLnc7XG4gICAgfVxuICAgIGlmIChza2lsbC5yID4gMCkge1xuICAgICAgZW5lcmd5LnIgKz0gc2tpbGwucjtcbiAgICAgIGFwcC5zdGF0ZS5lbmVyZ3kucmFuZG9tIC09IHNraWxsLnI7XG4gICAgfVxuICB9IGVsc2UgaWYgKG9wdGlvbiA9PT0gXCJjaGVja1wiKSB7XG4gICAgbGV0IGFjdGl2ZSA9IHRydWU7XG4gICAgaWYgKHRvdGFsLmVuZXJneSA+PSB0b3RhbC5za2lsbCkge1xuICAgICAgbGV0IGNvdW50ID0gW3RydWUsIHRydWUsIHRydWUsIHRydWUsIHRydWVdO1xuICAgICAgaWYgKHNraWxsLmEgPj0gMCkge1xuICAgICAgICBjb3VudFswXSA9IGVuZXJneS5hID49IHNraWxsLmEgPyBmYWxzZSA6IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoc2tpbGwuaSA+PSAwKSB7XG4gICAgICAgIGNvdW50WzFdID0gZW5lcmd5LmkgPj0gc2tpbGwuaSA/IGZhbHNlIDogdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChza2lsbC5zID49IDApIHtcbiAgICAgICAgY291bnRbMl0gPSBlbmVyZ3kucyA+PSBza2lsbC5zID8gZmFsc2UgOiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHNraWxsLncgPj0gMCkge1xuICAgICAgICBjb3VudFszXSA9IGVuZXJneS53ID49IHNraWxsLncgPyBmYWxzZSA6IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoc2tpbGwuciA+PSAwKSB7XG4gICAgICAgIGNvdW50WzRdID0gZW5lcmd5LnIgPj0gdG90YWwuc2tpbGwgKyBza2lsbC5yID8gZmFsc2UgOiB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoY291bnQuZmlsdGVyKHggPT4geCA9PT0gZmFsc2UpLmxlbmd0aCA9PT0gNSkge1xuICAgICAgICBhY3RpdmUgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFjdGl2ZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhY3RpdmU7XG4gIH1cbn1cblxuZnVuY3Rpb24gYnV0dG9uTWFuYWdlbWVudChwYXlsb2FkLCBvcHRpb24pIHtcbiAgLy9UYXJnZXQgQnV0dG9uXG4gIGlmIChvcHRpb24gIT09IFwib25TZWxmXCIpIHtcbiAgICBpZiAocGF5bG9hZC5haW0gPT09IFwiZW5lbXlcIikge1xuICAgICAgYXBwLnN0YXRlLmJ1dHRvbi5lbmVteS5mb3JFYWNoKHggPT4ge1xuICAgICAgICAvL0RlZmluZVxuICAgICAgICBsZXQgc2tpbGwgPSBhcHAuc291cmNlLmFsbHlbcGF5bG9hZC5oZXJvSW5kZXhdLnNraWxsW3BheWxvYWQuc2tpbGxdO1xuICAgICAgICBsZXQgZW5lbXlTdGF0dXMgPSBhcHAuc291cmNlLmVuZW15W3guaW5kZXhdLnN0YXR1cztcblxuICAgICAgICAvL0ludnVsbmVyYWJpbGl0eVxuICAgICAgICBsZXQgc3RhdGUgPSBlbmVteVN0YXR1cy5vblN0YXRlO1xuICAgICAgICBsZXQgaW52dWxuZXJhYmxlID0gaW52dWxuZXJhYmxlTWFuYWdlbWVudChzdGF0ZSwgc2tpbGwpO1xuXG4gICAgICAgIC8vRGlzYWJsZVxuICAgICAgICB4LmJ1dHRvbiA9IHguZGlzYWJsZWQgfHwgaW52dWxuZXJhYmxlID8gdHJ1ZSA6ICF4LmJ1dHRvbjtcblxuICAgICAgICAvL0lnbm9yZVxuICAgICAgICBsZXQgaWdub3JlID0gaWdub3JlTWFuYWdlbWVudChzdGF0ZSwgc2tpbGwpO1xuICAgICAgICBjb25zb2xlLmxvZyhpZ25vcmUpO1xuXG4gICAgICAgIC8vUHJldmVudCBJbnZ1bG5lcmFiaWxpdHlcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG9wdGlvbiA9PT0gXCJvblNraWxsXCIgJiZcbiAgICAgICAgICBlbmVteVN0YXR1cy5vblN0YXRlLnNvbWUoeCA9PiB4LnR5cGUgPT09IFwiZGlzYWJsZURySXZcIikgJiZcbiAgICAgICAgICBpZ25vcmUgPT09IGZhbHNlXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiaGlcIik7XG4gICAgICAgICAgeC5idXR0b24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyh4LmJ1dHRvbik7XG5cbiAgICAgICAgLy9NYXJraW5nXG4gICAgICAgIGlmIChwYXlsb2FkLm1hcmtpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICBsZXQgc2tpbGxOYW1lID0gc2tpbGwubmFtZTtcbiAgICAgICAgICBsZXQgbWFya2luZyA9XG4gICAgICAgICAgICBlbmVteVN0YXR1cy5vblJlY2VpdmUuc29tZSh4ID0+IHgubmFtZSA9PT0gc2tpbGxOYW1lKSB8fFxuICAgICAgICAgICAgZW5lbXlTdGF0dXMub25TdGF0ZS5zb21lKHggPT4geC5uYW1lID09PSBza2lsbE5hbWUpO1xuICAgICAgICAgIGlmIChtYXJraW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICB4LmJ1dHRvbiA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHBheWxvYWQuYWltID09PSBcImVuZW15bG9ja1wiKSB7XG4gICAgICBhcHAuc3RhdGUuYnV0dG9uLmVuZW15LmZvckVhY2goeCA9PiB7XG4gICAgICAgIC8vRGVmaW5lXG4gICAgICAgIGxldCBza2lsbCA9IGFwcC5zb3VyY2UuYWxseVtwYXlsb2FkLmhlcm9JbmRleF0uc2tpbGxbcGF5bG9hZC5za2lsbF07XG4gICAgICAgIGxldCBlbmVteVN0YXR1cyA9IGFwcC5zb3VyY2UuZW5lbXlbeC5pbmRleF0uc3RhdHVzO1xuICAgICAgICBsZXQgbG9jayA9IGVuZW15U3RhdHVzLm9uU3RhdGUuc29tZShcbiAgICAgICAgICB4ID0+IHgudHlwZSA9PT0gXCJsb2NrXCIgJiYgeC5pbmZvID09PSBza2lsbC5uYW1lXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGxvY2sgPT09IHRydWUpIHtcbiAgICAgICAgICAvL0ludnVsbmVyYWJpbGl0eVxuICAgICAgICAgIGxldCBzdGF0ZSA9IGVuZW15U3RhdHVzLm9uU3RhdGU7XG4gICAgICAgICAgbGV0IGludnVsbmVyYWJsZSA9IGludnVsbmVyYWJsZU1hbmFnZW1lbnQoc3RhdGUsIHNraWxsKTtcblxuICAgICAgICAgIC8vRGlzYWJsZVxuICAgICAgICAgIHguYnV0dG9uID0geC5kaXNhYmxlZCB8fCBpbnZ1bG5lcmFibGUgPyB0cnVlIDogIXguYnV0dG9uO1xuXG4gICAgICAgICAgLy9JZ25vcmVcbiAgICAgICAgICBsZXQgaWdub3JlID0gaWdub3JlTWFuYWdlbWVudChzdGF0ZSwgc2tpbGwpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGludnVsbmVyYWJsZSk7XG5cbiAgICAgICAgICAvL1ByZXZlbnQgSW52dWxuZXJhYmlsaXR5XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgb3B0aW9uID09PSBcIm9uU2tpbGxcIiAmJlxuICAgICAgICAgICAgZW5lbXlTdGF0dXMub25TdGF0ZS5zb21lKHggPT4geC50eXBlID09PSBcImRpc2FibGVEckl2XCIpICYmXG4gICAgICAgICAgICBpZ25vcmUgPT09IGZhbHNlXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB4LmJ1dHRvbiA9IGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vTWFya2luZ1xuICAgICAgICAgIGlmIChwYXlsb2FkLm1hcmtpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGxldCBza2lsbE5hbWUgPSBza2lsbC5uYW1lO1xuICAgICAgICAgICAgbGV0IG1hcmtpbmcgPVxuICAgICAgICAgICAgICBlbmVteVN0YXR1cy5vblJlY2VpdmUuc29tZSh4ID0+IHgubmFtZSA9PT0gc2tpbGxOYW1lKSB8fFxuICAgICAgICAgICAgICBlbmVteVN0YXR1cy5vblN0YXRlLnNvbWUoeCA9PiB4Lm5hbWUgPT09IHNraWxsTmFtZSk7XG4gICAgICAgICAgICBpZiAobWFya2luZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICB4LmJ1dHRvbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgcGF5bG9hZC5haW0gPT09IFwiYWxsZW5lbXlcIiB8fFxuICAgICAgcGF5bG9hZC5haW0gPT09IFwicmFuZG9tZW5lbXlcIiB8fFxuICAgICAgcGF5bG9hZC5haW0gPT09IFwiYWxsZW5lbXlhbGxhbGx5XCJcbiAgICApIHtcbiAgICAgIGFwcC5zdGF0ZS5idXR0b24uZW5lbXkuZm9yRWFjaCh4ID0+IHtcbiAgICAgICAgLy9EZWZpbmVcbiAgICAgICAgbGV0IHNraWxsID0gYXBwLnNvdXJjZS5hbGx5W3BheWxvYWQuaGVyb0luZGV4XS5za2lsbFtwYXlsb2FkLnNraWxsXTtcbiAgICAgICAgbGV0IGVuZW15U3RhdHVzID0gYXBwLnNvdXJjZS5lbmVteVt4LmluZGV4XS5zdGF0dXM7XG5cbiAgICAgICAgLy9JbnZ1bG5lcmFiaWxpdHlcbiAgICAgICAgbGV0IHN0YXRlID0gZW5lbXlTdGF0dXMub25TdGF0ZTtcbiAgICAgICAgbGV0IGludnVsbmVyYWJsZSA9IGludnVsbmVyYWJsZU1hbmFnZW1lbnQoc3RhdGUsIHNraWxsKTtcblxuICAgICAgICAvL0Rpc2FibGVcbiAgICAgICAgeC5idXR0b24gPSB4LmRpc2FibGVkIHx8IGludnVsbmVyYWJsZSA/IHRydWUgOiAheC5idXR0b247XG5cbiAgICAgICAgLy9QcmV2ZW50IEludnVsbmVyYWJpbGl0eVxuICAgICAgICBpZiAoXG4gICAgICAgICAgb3B0aW9uID09PSBcIm9uU2tpbGxcIiAmJlxuICAgICAgICAgIGVuZW15U3RhdHVzLm9uU3RhdGUuc29tZSh4ID0+IHgudHlwZSA9PT0gXCJkaXNhYmxlRHJJdlwiKVxuICAgICAgICApIHtcbiAgICAgICAgICB4LmJ1dHRvbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHBheWxvYWQuYWltID09PSBcImFsbHlcIiB8fCBwYXlsb2FkLmFpbSA9PT0gXCJhbGxhbGx5XCIpIHtcbiAgICAgIGFwcC5zdGF0ZS5idXR0b24uYWxseS5mb3JFYWNoKHggPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyh4KVxuICAgICAgICAvL0RlZmluZVxuICAgICAgICBsZXQgYWxseVN0YXR1cyA9IGFwcC5zb3VyY2UuYWxseVt4LmluZGV4XS5zdGF0dXM7XG5cbiAgICAgICAgLy9GcmllbmRseSBJbnZ1bG5lcmFiaWxpdHlcbiAgICAgICAgbGV0IHN0YXRlID0gYWxseVN0YXR1cy5vblN0YXRlO1xuICAgICAgICBsZXQgaW52dWxuZXJhYmxlID0gc3RhdGUuc29tZSh4ID0+IHgudHlwZSA9PT0gXCJmcmllbmRseUludnVsbmVyYWJsZVwiKTtcblxuICAgICAgICB4LmJ1dHRvbiA9IHguZGlzYWJsZWQgfHwgaW52dWxuZXJhYmxlID8gdHJ1ZSA6ICF4LmJ1dHRvbjtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocGF5bG9hZC5haW0gPT09IFwib3RoZXJhbGx5XCIgfHwgcGF5bG9hZC5haW0gPT09IFwiYWxsb3RoZXJhbGx5XCIpIHtcbiAgICAgIGFwcC5zdGF0ZS5idXR0b24uYWxseS5mb3JFYWNoKHggPT4ge1xuICAgICAgICAvL0RlZmluZVxuICAgICAgICBsZXQgYWxseVN0YXR1cyA9IGFwcC5zb3VyY2UuYWxseVt4LmluZGV4XS5zdGF0dXM7XG5cbiAgICAgICAgLy9GcmllbmRseSBJbnZ1bG5lcmFiaWxpdHlcbiAgICAgICAgbGV0IHN0YXRlID0gYWxseVN0YXR1cy5vblN0YXRlO1xuICAgICAgICBsZXQgaW52dWxuZXJhYmxlID0gc3RhdGUuc29tZSh4ID0+IHgudHlwZSA9PT0gXCJmcmllbmRseUludnVsbmVyYWJsZVwiKTtcblxuICAgICAgICBsZXQgbmFtZSA9IGFwcC5zdGF0ZS5idXR0b24uYWxseVtwYXlsb2FkLmhlcm9JbmRleF0ubmFtZTtcbiAgICAgICAgaWYgKHgubmFtZSAhPT0gbmFtZSkge1xuICAgICAgICAgIHguYnV0dG9uID0geC5kaXNhYmxlZCB8fCBpbnZ1bG5lcmFibGUgPyB0cnVlIDogIXguYnV0dG9uO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHBheWxvYWQuYWltID09PSBcInNlbGZcIikge1xuICAgICAgbGV0IGFsbHkgPSBhcHAuc3RhdGUuYnV0dG9uLmFsbHlbcGF5bG9hZC5oZXJvSW5kZXhdO1xuICAgICAgYWxseS5idXR0b24gPSBhbGx5LmRpc2FibGVkID8gdHJ1ZSA6ICFhbGx5LmJ1dHRvbjtcbiAgICB9XG4gIH1cblxuICAvL1NraWxsIEJ1dHRvblxuICBpZiAob3B0aW9uID09PSBcIm9uVGFyZ2V0XCIpIHtcbiAgICBjb25zb2xlLmxvZyhcIm9uU2tpbGxcIik7XG4gICAgYXBwLnN0YXRlLmJ1dHRvbi5hbGx5LmZvckVhY2goeCA9PiB7XG4gICAgICBpZiAoeC5vblNraWxsID09PSBmYWxzZSkge1xuICAgICAgICB4LnNraWxsLmZvckVhY2gocyA9PiB7XG4gICAgICAgICAgcy5idXR0b24gPSB0cnVlO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHgubmFtZSA9PT0gcGF5bG9hZC5vZmZlbnNlICYmXG4gICAgICAgICAgICBzLm5hbWUgPT09XG4gICAgICAgICAgICAgIGFwcC5zb3VyY2UuYWxseVtwYXlsb2FkLmhlcm9JbmRleF0uc2tpbGxbcGF5bG9hZC5za2lsbF0ubmFtZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcy5idXR0b24gPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGlmIChvcHRpb24gPT09IFwib25DYW5jZWxcIikge1xuICAgIGNvbnNvbGUubG9nKFwib25DYW5jZWxcIik7XG4gICAgYXBwLnN0YXRlLmJ1dHRvbi5hbGx5LmZvckVhY2goeCA9PiB7XG4gICAgICBpZiAoeC5vblNraWxsID09PSBmYWxzZSB8fCB4Lm5hbWUgPT09IHBheWxvYWQub2ZmZW5zZSkge1xuICAgICAgICB4LnNraWxsLmZvckVhY2gocyA9PiB7XG4gICAgICAgICAgcy5idXR0b24gPSBzLmRpc2FibGVkID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHgubmFtZSA9PT0gcGF5bG9hZC5vZmZlbnNlICYmXG4gICAgICAgICAgICBzLm5hbWUgPT09XG4gICAgICAgICAgICAgIGFwcC5zb3VyY2UuYWxseVtwYXlsb2FkLmhlcm9JbmRleF0uc2tpbGxbcGF5bG9hZC5za2lsbF0ubmFtZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcy5idXR0b24gPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2UgaWYgKG9wdGlvbiA9PT0gXCJvblRhcmdldFwiKSB7XG4gICAgY29uc29sZS5sb2coXCJvblRhcmdldFwiKTtcbiAgICBhcHAuc3RhdGUuYnV0dG9uLmFsbHkuZm9yRWFjaCh4ID0+IHtcbiAgICAgIGxldCBpbmRleCA9IGFwcC5wYWNrZXQuZmluZEluZGV4KHMgPT4gcy5vZmZlbnNlID09PSB4Lm5hbWUpO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICB4LnNraWxsLmZvckVhY2gocyA9PiB7XG4gICAgICAgICAgcy5idXR0b24gPSBzLmRpc2FibGVkID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIGlmIChvcHRpb24gPT09IFwib25TZWxmXCIpIHtcbiAgICBjb25zb2xlLmxvZyhcIm9uU2VsZlwiKTtcbiAgICBhcHAuc3RhdGUuYnV0dG9uLmFsbHlbcGF5bG9hZC5oZXJvSW5kZXhdLnNraWxsLmZvckVhY2gocyA9PiB7XG4gICAgICBzLmJ1dHRvbiA9IHMuZGlzYWJsZWQgPyB0cnVlIDogZmFsc2U7XG4gICAgfSk7XG4gIH1cblxuICAvL0VuZXJneSBNYW5hZ2VtZW50XG4gIGlmIChvcHRpb24gIT09IFwib25Ta2lsbFwiKSB7XG4gICAgYXBwLnN0YXRlLmJ1dHRvbi5hbGx5LmZvckVhY2goKHgsIHhpKSA9PiB7XG4gICAgICBpZiAoeC5vblNraWxsID09PSBmYWxzZSAmJiB4Lm5hbWUgIT09IHBheWxvYWQub2ZmZW5zZSkge1xuICAgICAgICBjb25zb2xlLmxvZyh4Lm5hbWUpO1xuICAgICAgICBjb25zb2xlLmxvZyhvcHRpb24pO1xuICAgICAgICB4LnNraWxsLmZvckVhY2goKHMsIHNpKSA9PiB7XG4gICAgICAgICAgbGV0IGVuZXJneSA9IGVuZXJneU1hbmFnZW1lbnQoeyBoZXJvSW5kZXg6IHhpLCBza2lsbDogc2kgfSwgXCJjaGVja1wiKTtcbiAgICAgICAgICBzLmJ1dHRvbiA9IHMuZGlzYWJsZWQgfHwgZW5lcmd5ID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHgubmFtZSA9PT0gcGF5bG9hZC5vZmZlbnNlICYmXG4gICAgICAgICAgICBzLm5hbWUgPT09XG4gICAgICAgICAgICAgIGFwcC5zb3VyY2UuYWxseVtwYXlsb2FkLmhlcm9JbmRleF0uc2tpbGxbcGF5bG9hZC5za2lsbF0ubmFtZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcy5idXR0b24gPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoXG4gICAgICAgIChvcHRpb24gPT09IFwib25TZWxmXCIgfHwgb3B0aW9uID09PSBcIm9uQ2FuY2VsXCIpICYmXG4gICAgICAgIHgubmFtZSA9PT0gcGF5bG9hZC5vZmZlbnNlXG4gICAgICApIHtcbiAgICAgICAgeC5za2lsbC5mb3JFYWNoKChzLCBzaSkgPT4ge1xuICAgICAgICAgIGxldCBlbmVyZ3kgPSBlbmVyZ3lNYW5hZ2VtZW50KHsgaGVyb0luZGV4OiB4aSwgc2tpbGw6IHNpIH0sIFwiY2hlY2tcIik7XG4gICAgICAgICAgcy5idXR0b24gPSBzLmRpc2FibGVkIHx8IGVuZXJneSA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3R1bk1hbmFnZW1lbnQob25TdGF0ZSwgc2tpbGwpIHtcbiAgbGV0IHN0dW4gPSBvblN0YXRlLm1hcCh4ID0+IHtcbiAgICBpZiAoeC50eXBlID09PSBcInN0dW5cIikge1xuICAgICAgbGV0IGlnbm9yZSA9IGlnbm9yZU1hbmFnZW1lbnQob25TdGF0ZSwgeCk7XG4gICAgICBsZXQgaW50ZXJzZWN0ID0gXy5pbnRlcnNlY3Rpb24oeC5jb21wcmlzZSwgc2tpbGwuY2xhc3Nlcyk7XG5cbiAgICAgIGxldCBldmFsdWF0ZTtcblxuICAgICAgaWYgKHguaW5mbyA9PT0gXCJpbmNsdXNpdmVcIikge1xuICAgICAgICBldmFsdWF0ZSA9IGludGVyc2VjdC5sZW5ndGggPiAwID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmICh4LmluZm8gPT09IFwiZGVjbHVzaXZlXCIpIHtcbiAgICAgICAgZXZhbHVhdGUgPSBpbnRlcnNlY3QubGVuZ3RoID09PSAwID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZhbHVhdGUgJiYgIWlnbm9yZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGlmIChzdHVuLmZpbHRlcih4ID0+IHggPT09IHRydWUpLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW52dWxuZXJhYmxlTWFuYWdlbWVudChvblN0YXRlLCBza2lsbCkge1xuICBsZXQgaW52dWxuZXJhYmxlID0gb25TdGF0ZS5tYXAoeCA9PiB7XG4gICAgaWYgKHgudHlwZSA9PT0gXCJpbnZ1bG5lcmFibGVcIikge1xuICAgICAgbGV0IGlnbm9yZUludnVsID0gc2tpbGwuaWdub3JlSW52dWw7XG4gICAgICBsZXQgaW50ZXJzZWN0ID0gXy5pbnRlcnNlY3Rpb24oeC5jb21wcmlzZSwgc2tpbGwuY2xhc3Nlcyk7XG5cbiAgICAgIGxldCBldmFsdWF0ZTtcblxuICAgICAgaWYgKHguaW5mbyA9PT0gXCJpbmNsdXNpdmVcIikge1xuICAgICAgICBldmFsdWF0ZSA9IGludGVyc2VjdC5sZW5ndGggPiAwID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmICh4LmluZm8gPT09IFwiZGVjbHVzaXZlXCIpIHtcbiAgICAgICAgZXZhbHVhdGUgPSBpbnRlcnNlY3QubGVuZ3RoID09PSAwID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZhbHVhdGUgJiYgIWlnbm9yZUludnVsKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgaWYgKGludnVsbmVyYWJsZS5maWx0ZXIoeCA9PiB4ID09PSB0cnVlKS5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlnbm9yZU1hbmFnZW1lbnQob25TdGF0ZSwgc2tpbGwpIHtcbiAgbGV0IGlnbm9yZSA9IG9uU3RhdGUubWFwKHggPT4ge1xuICAgIGlmICh4LnR5cGUgPT09IFwiaWdub3JlXCIpIHtcbiAgICAgIGxldCBpbnRlcnNlY3QgPSBfLmludGVyc2VjdGlvbih4LmNvbXByaXNlLCBza2lsbC5jbGFzc2VzKTtcblxuICAgICAgbGV0IGV2YWx1YXRlO1xuXG4gICAgICBpZiAoeC5pbmZvID09PSBcImluY2x1c2l2ZVwiKSB7XG4gICAgICAgIGV2YWx1YXRlID0gaW50ZXJzZWN0Lmxlbmd0aCA+IDAgPyB0cnVlIDogZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKHguaW5mbyA9PT0gXCJkZWNsdXNpdmVcIikge1xuICAgICAgICBldmFsdWF0ZSA9IGludGVyc2VjdC5sZW5ndGggPT09IDAgPyB0cnVlIDogZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmIChldmFsdWF0ZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGlmIChpZ25vcmUuZmlsdGVyKHggPT4geCA9PT0gdHJ1ZSkubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuIiwiZnVuY3Rpb24gdnVlQmluZChwYXlsb2FkKSB7XG4gIGxldCB1c2VybmFtZSA9IGdldENvb2tpZShcInVzZXJuYW1lXCIpO1xuICBjb25zb2xlLmxvZyhwYXlsb2FkKTtcbiAgbGV0IGFsbHkgPSBwYXlsb2FkLnRlYW0udGVhbUV2ZW4gPT09IHVzZXJuYW1lID8gXCJ0ZWFtRXZlblwiIDogXCJ0ZWFtT2RkXCI7XG4gIGxldCBlbmVteSA9IHBheWxvYWQudGVhbS50ZWFtRXZlbiA9PT0gdXNlcm5hbWUgPyBcInRlYW1PZGRcIiA6IFwidGVhbUV2ZW5cIjtcbiAgbGV0IHR1cm5WYWwgPSBhbGx5ID09PSBcInRlYW1FdmVuXCIgPyAwIDogMTtcbiAgbGV0IG15VHVybiA9IHBheWxvYWQudHVybiAlIDIgPT09IHR1cm5WYWwgPyB0cnVlIDogZmFsc2U7XG5cbiAgaWYgKHBheWxvYWQudGVhbS50ZWFtRXZlbiAhPT0gdXNlcm5hbWUgJiYgcGF5bG9hZC50ZWFtLnRlYW1PZGQgIT09IHVzZXJuYW1lKSB7XG4gICAgY29uc29sZS5sb2coXCJzcGVjdGF0ZVwiKTtcbiAgICBhcHAubW9kZSA9IFwic3BlY3RhdGVcIjtcbiAgICBteVR1cm4gPSBmYWxzZTtcbiAgICAvLyByZXR1cm47XG4gIH1cblxuICBpZiAobXlUdXJuID09PSB0cnVlKSB7XG4gICAgYXBwLiRyZWZzLnNvdW5kU3RhcnRUdXJuLnBsYXkoKTtcbiAgfVxuXG4gIC8vVGltZVxuICBsZXQgdGltZURpZmYgPSAoRGF0ZS5ub3coKSAtIHBheWxvYWQudGltZXN0YW1wKSAvIDEwMDA7XG4gIGxldCB0aW1lQ2FsYyA9IE1hdGguZmxvb3IoNjAgLSB0aW1lRGlmZik7XG4gIGxldCByZW1haW5pbmcgPSAxMDAgKiAodGltZUNhbGMgLyA2MCk7XG4gIGNvbnNvbGUubG9nKHBheWxvYWQudGltZXN0YW1wLCB0aW1lRGlmZiwgdGltZUNhbGMsIHJlbWFpbmluZyk7XG5cbiAgaWYgKHJlbWFpbmluZyA8IDApIHtcbiAgICByZW1haW5pbmcgPSAwO1xuICB9XG4gIGFwcC5zdGF0ZS50aW1lci50dXJuID0gcmVtYWluaW5nO1xuXG4gIC8vIGlmIChwYXlsb2FkLndpbm5lci5zdGF0ZSA9PT0gdHJ1ZSAmJiBwYXlsb2FkLndpbm5lci5uYW1lID09PSB1c2VybmFtZSkge1xuICAvLyB9IGVsc2UgaWYgKFxuICAvLyAgIHBheWxvYWQud2lubmVyLnN0YXRlID09PSB0cnVlICYmXG4gIC8vICAgcGF5bG9hZC53aW5uZXIubmFtZSAhPT0gdXNlcm5hbWVcbiAgLy8gKSB7XG4gIC8vICAgYXBwLiRyZWZzLnNvdW5kTG9zZS5wbGF5KCk7XG4gIC8vIH1cblxuICBsZXQgc3RvcmUgPSB7XG4gICAgZW5lcmd5OiB7XG4gICAgICBhbGx5OiBwYXlsb2FkLmVuZXJneVthbGx5XSxcbiAgICAgIGVuZW15OiBwYXlsb2FkLmVuZXJneVtlbmVteV1cbiAgICB9LFxuICAgIGFsbHk6IHBheWxvYWRbYWxseV0ubWFwKHggPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ueCxcbiAgICAgICAgc2tpbGw6XG4gICAgICAgICAgYXBwLm1vZGUgPT09IFwiZ2FtZVwiID8geC5za2lsbCA6IHguc2tpbGwuc29ydCgoYSwgYikgPT4gYS5pZCAtIGIuaWQpLFxuICAgICAgICBpbmRpY2F0b3I6IHN0YXR1c1ZpZXcoeC5uYW1lLCB4LnN0YXR1cywgdHVyblZhbClcbiAgICAgIH07XG4gICAgfSksXG4gICAgZW5lbXk6IHBheWxvYWRbZW5lbXldLm1hcCh4ID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLngsXG4gICAgICAgIHNraWxsOiB4LnNraWxsLnNvcnQoKGEsIGIpID0+IGEuaWQgLSBiLmlkKSxcbiAgICAgICAgaW5kaWNhdG9yOiBzdGF0dXNWaWV3KHgubmFtZSwgeC5zdGF0dXMsIHR1cm5WYWwpXG4gICAgICB9O1xuICAgIH0pLFxuICAgIHR1cm46IHBheWxvYWQudHVybixcbiAgICBteVR1cm46IG15VHVybixcbiAgICB0dXJuVmFsOiB0dXJuVmFsLFxuICAgIHJvb206IHBheWxvYWQucm9vbSxcbiAgICBtZXRhOiB7XG4gICAgICBteU5hbWU6IHBheWxvYWQudGVhbVthbGx5XSxcbiAgICAgIHRoZWlyTmFtZTogcGF5bG9hZC50ZWFtW2VuZW15XVxuICAgIH0sXG4gICAgdGltZXN0YW1wOiBwYXlsb2FkLnRpbWVzdGFtcFxuICB9O1xuICBzdG9yZS5lbmVyZ3kuYWxseS5yID1cbiAgICBzdG9yZS5lbmVyZ3kuYWxseS5hICtcbiAgICBzdG9yZS5lbmVyZ3kuYWxseS5pICtcbiAgICBzdG9yZS5lbmVyZ3kuYWxseS5zICtcbiAgICBzdG9yZS5lbmVyZ3kuYWxseS53O1xuICBjb25zb2xlLmxvZyhzdG9yZSk7XG4gIGxldCBidXR0b24gPSB7XG4gICAgYWxseTogc3RvcmUuYWxseS5tYXAoKHgsIGkpID0+IHtcbiAgICAgIC8vIGxldCBkaXNhYmxlZCA9IHguc3RhdHVzLm9uU3RhdGUuZmluZEluZGV4KHggPT4geC50eXBlID09PSAnc3R1bicpID4gLTEgfHwgeC5ocCA8PSAwID8gdHJ1ZSA6IGZhbHNlXG4gICAgICBsZXQgZGlzYWJsZWQgPSB4LmhwIDw9IDAgPyB0cnVlIDogZmFsc2U7XG4gICAgICAvLyBsZXQgc3R1biA9IHguc3RhdHVzLm9uU3RhdGUuc29tZSh4ID0+IHgudHlwZSA9PT0gXCJzdHVuXCIpID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogeC5uYW1lLFxuICAgICAgICBpbmRleDogaSxcbiAgICAgICAgYnV0dG9uOiB0cnVlLFxuICAgICAgICBvblNraWxsOiBmYWxzZSxcbiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICBza2lsbDogeC5za2lsbC5tYXAocyA9PiB7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2cocy50eXBlKTtcbiAgICAgICAgICBsZXQgZW5lcmd5ID0gZW5lcmd5TWFuYWdlbWVudChcbiAgICAgICAgICAgIHsgZW5lcmd5OiBzdG9yZS5lbmVyZ3kuYWxseSwgc2tpbGxCaW5kOiBzLmVuZXJneSB9LFxuICAgICAgICAgICAgXCJjaGVja1wiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgc3R1biA9IHN0dW5NYW5hZ2VtZW50KHguc3RhdHVzLm9uU3RhdGUsIHMpO1xuICAgICAgICAgIC8vIGxldCBkaXNhYmxlRHJWciA9XG4gICAgICAgICAgLy8gICBzLnR5cGUgPT09IFwiaW52dWxuZXJhYmxlXCIgJiZcbiAgICAgICAgICAvLyAgIHguc3RhdHVzLm9uU3RhdGUuc29tZSh4ID0+IHgudHlwZSA9PT0gXCJkaXNhYmxlRHJJdlwiKVxuICAgICAgICAgIC8vICAgICA/IHRydWVcbiAgICAgICAgICAvLyAgICAgOiBmYWxzZTtcbiAgICAgICAgICBsZXQgZGlzYWJsZWQgPVxuICAgICAgICAgICAgc3R1biB8fFxuICAgICAgICAgICAgcy5yZXF1aXJlZCB8fFxuICAgICAgICAgICAgcy5zdGF0ZSA9PT0gXCJjb29sZG93blwiIHx8XG4gICAgICAgICAgICBteVR1cm4gPT09IGZhbHNlIHx8XG4gICAgICAgICAgICB4LmhwIDw9IDBcbiAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgIDogZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IHMubmFtZSxcbiAgICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgICAgIGJ1dHRvbjogZGlzYWJsZWQgfHwgZW5lcmd5ID8gdHJ1ZSA6IGZhbHNlXG4gICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICAgIH07XG4gICAgfSksXG4gICAgZW5lbXk6IHN0b3JlLmVuZW15Lm1hcCgoeCwgaSkgPT4ge1xuICAgICAgLy8gbGV0IGRpc2FibGVkID1cbiAgICAgIC8vICAgeC5zdGF0dXMub25TdGF0ZS5zb21lKHggPT4geC50eXBlID09PSBcImludnVsbmVyYWJsZVwiKSB8fCB4LmhwIDw9IDBcbiAgICAgIC8vICAgICA/IHRydWVcbiAgICAgIC8vICAgICA6IGZhbHNlO1xuICAgICAgbGV0IGRpc2FibGVkID0geC5ocCA8PSAwID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogeC5uYW1lLFxuICAgICAgICBpbmRleDogaSxcbiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICBidXR0b246IHRydWVcbiAgICAgIH07XG4gICAgfSlcbiAgfTtcblxuICBhcHAuc291cmNlID0gc3RvcmU7XG4gIGFwcC5zdGF0ZS5idXR0b24gPSBidXR0b247XG4gIGFwcC5zdGF0ZS53aW5uZXIgPSBwYXlsb2FkLndpbm5lcjtcbiAgYXBwLnN0YXRlLmV4Y2hhbmdlLm1vZGFsID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHN0YXR1c1ZpZXcobmFtZSwgcGF5bG9hZCwgdHVyblZhbCkge1xuICBjb25zb2xlLmxvZyhuYW1lLnNsaWNlKC0xKSwgcGF5bG9hZCk7XG4gIGxldCBzdGF0dXMgPSBfLmNvbmNhdChcbiAgICBwYXlsb2FkLm9uQXR0YWNrLFxuICAgIHBheWxvYWQub25SZWNlaXZlLFxuICAgIHBheWxvYWQub25TdGF0ZSxcbiAgICBwYXlsb2FkLm9uU2VsZlxuICApO1xuICBjb25zb2xlLmxvZyhcImludmlzaWJsZVwiLCB0dXJuVmFsLCBuYW1lLnNsaWNlKC0xKSk7XG4gIHN0YXR1cyA9IHN0YXR1cy5maWx0ZXIoXG4gICAgeCA9PlxuICAgICAgeC5pc0ludmlzaWJsZSA9PT0gZmFsc2UgfHxcbiAgICAgICh4LmlzSW52aXNpYmxlICE9PSBmYWxzZSAmJiBOdW1iZXIoeC5uYW1lSWQuc2xpY2UoLTEpKSA9PT0gdHVyblZhbClcbiAgKTtcbiAgLy8gaWYgKHR1cm5WYWwgPT09IE51bWJlcihuYW1lLnNsaWNlKC0xKSkpIHtcbiAgLy8gICBzdGF0dXMgPSBzdGF0dXMuZmlsdGVyKFxuICAvLyAgICAgeCA9PiB4LmlzSW52aXNpYmxlID09PSBmYWxzZSB8fCB4LmlzSW52aXNpYmxlICE9PSBmYWxzZSAmJiBOdW1iZXIoeC5uYW1lSWQuc2xpY2UoLTEpKSA9PT0gdHVyblZhbFxuICAvLyAgICk7XG4gIC8vIH0gZWxzZSB7XG4gIC8vICAgc3RhdHVzID0gc3RhdHVzLmZpbHRlcihcbiAgLy8gICAgIHggPT4geC5pc0ludmlzaWJsZSA9PT0gZmFsc2UgfHwgeC5pc0ludmlzaWJsZSAhPT0gZmFsc2UgJiYgTnVtYmVyKHgubmFtZUlkLnNsaWNlKC0xKSkgPT09IHR1cm5WYWxcbiAgLy8gICApO1xuICAvLyB9XG4gIGxldCBncm91cEJ5TmFtZUlkID0gXy5ncm91cEJ5KHN0YXR1cywgXCJuYW1lSWRcIik7XG4gIGxldCB2YWx1ZXNCeU5hbWVJZCA9IF8udmFsdWVzKGdyb3VwQnlOYW1lSWQpO1xuICBsZXQgZ3JvdXBCeVNraWxsSW5kZXggPSB2YWx1ZXNCeU5hbWVJZC5tYXAoeCA9PiBfLmdyb3VwQnkoeCwgXCJza2lsbEluZGV4XCIpKTtcbiAgbGV0IHZhbHVlc0J5U2tpbGxJbmRleCA9IF8udmFsdWVzKGdyb3VwQnlTa2lsbEluZGV4KTtcbiAgbGV0IGNvbmNhdFZhbHVlcyA9IFtdO1xuICB2YWx1ZXNCeVNraWxsSW5kZXguZm9yRWFjaCh4ID0+IHtcbiAgICBjb25jYXRWYWx1ZXMgPSBjb25jYXRWYWx1ZXMuY29uY2F0KF8udmFsdWVzKHgpKTtcbiAgfSk7XG4gIGxldCBmaW5hbCA9IGNvbmNhdFZhbHVlcy5tYXAoeCA9PiB7XG4gICAgbGV0IGluZm8gPSB4WzBdO1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBpbmZvLm5hbWUsXG4gICAgICBuYW1lSWQ6IGluZm8ubmFtZUlkLFxuICAgICAgc2tpbGxJbmRleDogaW5mby5za2lsbEluZGV4LFxuICAgICAgYWN0aXZlOiBpbmZvLmFjdGl2ZSxcbiAgICAgIHZhbDogeFxuICAgIH07XG4gIH0pO1xuICByZXR1cm4gZmluYWw7XG59XG4iLCJmdW5jdGlvbiBpbml0aWF0ZSgpIHtcbiAgbGV0IHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KFwiL1wiKTtcbiAgbGV0IHJvb20gPSB1cmxbdXJsLmxlbmd0aCAtIDFdO1xuICBpZiAocm9vbSAhPT0gXCJcIikge1xuICAgIHNvY2tldC5lbWl0KFwiaW5pdGlhdGVcIiwge1xuICAgICAgcm9vbTogcm9vbVxuICAgIH0pO1xuICAgIGNoYXQuZW1pdChcImdhbWVJbml0aWF0ZVwiLCB7XG4gICAgICByb29tOiByb29tXG4gICAgfSk7XG4gICAgY2hhdC5lbWl0KFwibG9iYnlJbml0aWF0ZVwiKTtcbiAgfSBlbHNlIHtcbiAgICAvLyB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSgnLycpO1xuICB9XG59XG5cbmluaXRpYXRlKCk7XG5cbnNldEludGVydmFsKCgpID0+IHtcbiAgaWYgKGFwcC5zb3VyY2UudHVybiA9PSB1bmRlZmluZWQgfHwgYXBwLnN0YXRlLndpbm5lci5zdGF0ZSAhPT0gZmFsc2UpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGFwcC5zdGF0ZS50aW1lci50dXJuID4gMCkge1xuICAgIGxldCB0aW1lciA9IGFwcC5zdGF0ZS50aW1lci50dXJuIC0gMS42NjtcbiAgICBpZiAodGltZXIgPCAwKSB7XG4gICAgICB0aW1lciA9IDA7XG4gICAgfVxuICAgIGFwcC5zdGF0ZS50aW1lci50dXJuID0gdGltZXI7XG4gIH0gZWxzZSBpZiAoYXBwLnN0YXRlLnRpbWVyLnR1cm4gPD0gMCAmJiBhcHAuc291cmNlLm15VHVybiA9PT0gdHJ1ZSkge1xuICAgIGxldCB0aW1lRGlmZiA9IChEYXRlLm5vdygpIC0gYXBwLnNvdXJjZS50aW1lc3RhbXApIC8gMTAwMDtcbiAgICBsZXQgdGltZUNhbGMgPSA2MCAtIHRpbWVEaWZmO1xuICAgIGxldCByZW1haW5pbmcgPSAxMDAgKiAodGltZUNhbGMgLyA2MCk7XG4gICAgLy8gY29uc29sZS5sb2coYXBwLnNvdXJjZS50aW1lc3RhbXAsIHRpbWVEaWZmLCB0aW1lQ2FsYywgcmVtYWluaW5nKTtcblxuICAgIGlmIChcbiAgICAgIHJlbWFpbmluZyA8PSAwICYmXG4gICAgICBhcHAuc3RhdGUudGltZXIudHVybiA8PSAwICYmXG4gICAgICBhcHAuc291cmNlLm15VHVybiA9PT0gdHJ1ZVxuICAgICkge1xuICAgICAgbGV0IHBheWxvYWQgPSB7XG4gICAgICAgIGVuZXJneToge1xuICAgICAgICAgIGE6IDAsXG4gICAgICAgICAgaTogMCxcbiAgICAgICAgICBzOiAwLFxuICAgICAgICAgIHc6IDBcbiAgICAgICAgfSxcbiAgICAgICAgcGFja2V0OiBbXVxuICAgICAgfTtcbiAgICAgIGFwcC5vbkRvbmUocGF5bG9hZCk7XG4gICAgICBhcHAuc291cmNlLm15VHVybiA9IGZhbHNlO1xuICAgIH1cbiAgfVxufSwgMTAwMCk7XG5cbndpbmRvdy5vbmZvY3VzID0gZnVuY3Rpb24oKSB7XG4gIGRvY3VtZW50LnRpdGxlID0gXCJBbmltZSBSdW1ibGVcIjtcbn07XG5cbmZ1bmN0aW9uIHNjcm9sbENoYXQoKSB7XG4gIHZhciBjb250YWluZXIgPSBhcHAuJGVsLnF1ZXJ5U2VsZWN0b3IoXCIjY2hhdFwiKTtcbiAgY29udGFpbmVyLnNjcm9sbFRvcCA9IGNvbnRhaW5lci5zY3JvbGxIZWlnaHQ7XG59XG5cbnZhciBkZXZ0b29scyA9IC8uLztcbmRldnRvb2xzLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMub3BlbmVkID0gdHJ1ZTtcblxuICBhcHAub25TdXJyZW5kZXIoKTtcbiAgcmV0dXJuICdBbHBoYSc7XG59O1xuXG4vLyBjb25zb2xlLmxvZyhcIldlbGNvbWUgdG8gQW5pbWUgUnVtYmxlXCIsIGRldnRvb2xzKTtcbiIsInNvY2tldC5vbihcImFwcGx5XCIsIHBheWxvYWQgPT4ge1xuICBkb2N1bWVudC50aXRsZSA9IFwiKCEpIEFuaW1lIFJ1bWJsZVwiO1xuICB2dWVCaW5kKHBheWxvYWQpO1xufSk7XG5cbnNvY2tldC5vbihcIm5vTWF0Y2hcIiwgcGF5bG9hZCA9PiB7XG4gIGNvbnNvbGUubG9nKFwibm9uZVwiKTtcbiAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoXCIvXCIpO1xufSk7XG5cbmNoYXQub24oXCJjaGF0XCIsIHBheWxvYWQgPT4ge1xuICBjb25zb2xlLmxvZyhwYXlsb2FkKTtcbiAgaWYgKHBheWxvYWQuY2hhbm5lbCA9PT0gXCJpbmdhbWVcIikge1xuICAgIGFwcC5jaGF0LnB1c2gocGF5bG9hZC5tZXNzYWdlKTtcbiAgICBpZiAoYXBwLmNoYXRDaGFubmVsICE9PSBcImluZ2FtZVwiKSB7XG4gICAgICBhcHAuY2hhdE5vdGlmLmluZ2FtZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjcm9sbENoYXQoKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAocGF5bG9hZC5jaGFubmVsID09PSBcImxvYmJ5XCIpIHtcbiAgICBhcHAubG9iYnljaGF0LnB1c2gocGF5bG9hZC5tZXNzYWdlKTtcblxuICAgIGlmIChhcHAuY2hhdENoYW5uZWwgIT09IFwibG9iYnlcIikge1xuICAgICAgYXBwLmNoYXROb3RpZi5sb2JieSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjcm9sbENoYXQoKTtcbiAgICB9XG4gIH1cbn0pO1xuXG5jaGF0Lm9uKFwiZ2FtZUluaXRpYXRlXCIsIHBheWxvYWQgPT4ge1xuICBhcHAuY2hhdCA9IHBheWxvYWQ7XG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIHNjcm9sbENoYXQoKTtcbiAgfSwgMTAwKTtcbn0pO1xuY2hhdC5vbihcImxvYmJ5SW5pdGlhdGVcIiwgcGF5bG9hZCA9PiB7XG4gIGFwcC5sb2JieWNoYXQgPSBwYXlsb2FkO1xufSk7XG5cbi8vSGFuZGxlIERpc2Nvbm5lY3RcbnNvY2tldC5vbihcIm9uRGlzY29ubmVjdFwiLCBwYXlsb2FkID0+IHtcbiAgbGV0IG1lc3NhZ2UgPSB7XG4gICAgbmFtZTogXCJTeXN0ZW1cIixcbiAgICBtZXNzYWdlOiBwYXlsb2FkLnVzZXJuYW1lICsgXCIgZGlzY29ubmVjdGVkLiBIYXMgMzAgc2Vjb25kcyB0byByZWNvbm5lY3QuXCIsXG4gICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gIH07XG4gIGFwcC5jaGF0LnB1c2gobWVzc2FnZSk7XG59KTtcbiJdfQ==
