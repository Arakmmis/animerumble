"use strict";

var socket = io('/game');
"use strict";

Vue.use(VTooltip);
var app = new Vue({
  el: "#app",
  data: {
    message: "Hello Vuee.js!",
    source: {
      energy: {
        ally: {}
      },
      meta: {}
    },
    packet: [],
    state: {
      skill: {
        offense: null,
        skill: null,
        target: null,
        aim: null
      },
      timer: {
        turn: 100
      },
      onSkill: false,
      button: {},
      description: null,
      winner: {
        state: false,
        name: ""
      },
      energy: {
        modal: false,
        random: 0
      },
      exchange: {
        modal: false,
        used: false,
        energy: {},
        val: ""
      }
    },
    showModal: true
  },
  methods: {
    onExchange: function onExchange(e) {
      //Sound
      this.$refs.soundClick.play();
      var state = this.state;
      this.source.energy.ally = e.energy;
      this.source.energy.ally.r = this.source.energy.ally.r - this.state.energy.random;
      state.exchange.energy = e.cost;
      state.exchange.modal = false;
      state.exchange.used = true;
      state.exchange.val = e.exchange;
      state.button.ally.forEach(function (x, xi) {
        if (x.onSkill === false) {
          console.log(x.name);
          x.skill.forEach(function (s, si) {
            var energy = energyManagement({
              heroIndex: xi,
              skill: si
            }, "check");
            s.button = s.disabled || energy ? true : false;
            console.log(energy, s.disabled, s.button);
          });
        }
      }); //Clean Skill Buffer

      if (state.skill.offense !== null && state.skill.target === null) {
        //Switch Choice
        //Button Management
        buttonManagement(state.skill, "onCancel"); //Clean Buffer

        state.skill = {
          offense: null,
          skill: null,
          skillId: null,
          target: null,
          aim: null,
          heroIndex: null
        };
      }
    },
    onDone: function onDone(e) {
      //Sound
      this.$refs.soundEndTurn.play(); //Define

      var state = this.state;
      var packet = e.packet; //Organize

      state.energy.modal = false;
      packet = packet.filter(function (x) {
        return x.skill !== null && x.offense !== null && x.target !== null && x.aim !== null && x.heroIndex !== null;
      });
      packet.unshift(e.energy);

      if (state.exchange.used === true) {
        packet.unshift({
          msg: "exchange",
          val: state.exchange.val
        }, state.exchange.energy);
        state.exchange.used = false;
      } //Send


      socket.emit("sequence", {
        packet: packet,
        room: this.source.room
      }); //Reset

      state.energy.random = 0;
      this.packet = [];
      state.skill = {
        offense: null,
        skill: null,
        skillId: null,
        target: null,
        aim: null,
        heroIndex: null
      };
    },
    onSkill: function onSkill(payload) {
      //Define and Switch State
      var state = this.state;
      var marking = this.source.ally[payload.heroIndex].skill[payload.skillIndex].marking;
      var temporary = {
        offense: payload.name,
        skill: payload.skillIndex,
        skillId: payload.skillId,
        target: null,
        aim: payload.target,
        heroIndex: payload.heroIndex,
        marking: marking
      }; //Is Skill Chosen?

      var isOnSkill = state.button.ally[temporary.heroIndex].onSkill;

      if (isOnSkill === false && state.skill.offense === null && state.skill.target === null) {
        //First Choice
        //Buffer Skill
        state.skill = temporary; //Button Management

        buttonManagement(temporary, "onSkill");
      } else if (isOnSkill === false && state.skill.offense !== null && state.skill.target === null) {
        //Switch Choice
        //Button Management
        buttonManagement(state.skill, "onCancel");
        setTimeout(function () {
          buttonManagement(temporary, "onSkill");
        }, 100); //Buffer Skill

        state.skill = temporary;
      } else if (isOnSkill === true) {
        //Cancel Choice
        energyManagement(temporary, "add"); //Button Management

        buttonManagement(state.skill, "onCancel");
        buttonManagement(temporary, "onSelf");
        this.packet = this.packet.filter(function (x) {
          return x.offense !== temporary.offense;
        }); //Clean Skill Buffer

        state.skill = {
          offense: null,
          skill: null,
          skillId: null,
          target: null,
          aim: null,
          heroIndex: null
        }; //State Management

        state.button.ally[temporary.heroIndex].onSkill = false;
      }
    },
    onTarget: function onTarget(payload) {
      //Sound
      this.$refs.soundClick.play(); //Define State

      var state = this.state; //Buffer Skill

      if (state.skill.aim === "allenemy" || state.skill.aim === "randomenemy") {
        console.log(state.button.enemy);
        state.skill.target = state.button.enemy.filter(function (x) {
          return x.button !== true && x.name !== payload.name;
        }).map(function (x) {
          return x.name;
        });
        state.skill.target.unshift(payload.name);
      } else if (state.skill.aim === "allally") {
        state.skill.target = state.button.ally.map(function (x) {
          return x.name;
        });
      } else if (state.skill.aim === "allenemyallally") {
        state.skill.target = state.button.enemy.filter(function (x) {
          return x.button !== true && x.name !== payload.name;
        }).map(function (x) {
          return x.name;
        });
        state.skill.target.unshift(payload.name);
        var ally = state.button.ally.map(function (x) {
          return x.name;
        });
        state.skill.target = state.skill.target.concat(ally);
      } else if (state.skill.aim === "otherally") {
        state.skill.target = state.button.ally.filter(function (x) {
          return x.name !== state.skill.offense;
        }).map(function (x) {
          return x.name;
        });
      } else {
        state.skill.target = [payload.name];
      } //Register Skill


      this.packet.push(this.state.skill); //Energy Management

      energyManagement(state.skill, "substract"); //Button Management
      // buttonManagement(state.skill, "onSkill");

      buttonManagement(state.skill, "onTarget"); //State Management

      state.button.ally[state.skill.heroIndex].onSkill = true; //Clean Skill Buffer

      state.skill = {
        offense: null,
        skill: null,
        skillId: null,
        target: null,
        aim: null,
        heroIndex: null
      };
    },
    onAttack: function onAttack(payload) {
      //Sound
      this.$refs.soundClick.play();
      this.state.energy.modal = true;
    },
    onDescription: function onDescription(payload) {
      //Sound
      this.$refs.soundClick.play();
      var state = this.state;
      var temporary = {
        offense: payload.name,
        skill: payload.skillIndex,
        target: "",
        aim: payload.target,
        heroIndex: payload.heroIndex
      }; //Buffer Skill

      state.description = {
        skill: temporary.skill,
        heroIndex: temporary.heroIndex
      };
    },
    onStatus: function onStatus(payload) {
      console.log(payload);

      var status = _.concat(payload.onAttack, payload.onReceive, payload.onState, payload.onSelf);

      console.log(status);

      var group = _.groupBy(status, "nameId");

      console.log(group);

      var subgroup = _.toArray(group).map(function (x) {
        return _.toArray(_.groupBy(x, "skillIndex"));
      });

      var prep = subgroup.map(function (x) {
        return x[0];
      });
      var final = prep.map(function (x) {
        console.log(x[0]);
        var info = x[0];
        return {
          nameId: info.nameId,
          status: info.skillIndex,
          val: x
        };
      });
      console.log(prep);
      console.log(final);
      return final; // let subgroup = group.map(x => _.groupBy(x, "skillIndex"));
    },
    onGetImage: function onGetImage(payload, option) {
      if (option === "packet") {
        var index = this.source.ally.findIndex(function (x) {
          return x.name === payload.offense;
        });
        var nameId = this.source.ally[index].nameId;
        return "/assets/character/" + nameId.slice(0, -1) + "/skill" + (payload.skill + 1) + "/avatar.jpg";
      } else if (option === "char") {
        return "/assets/character/" + payload.nameId.slice(0, -1) + "/avatar.jpg";
      } else if (option === "skill") {
        return "/assets/character/" + payload.nameId.slice(0, -1) + "/skill" + (payload.skill + 1) + "/avatar.jpg";
      } else if (option === "status") {
        return "/assets/character/" + payload.nameId.slice(0, -1) + "/skill" + payload.skill + "/avatar.jpg";
      } else if (option === "targeting") {
        var _index = this.packet.findIndex(function (x) {
          return x.offense === payload.name;
        });

        var skillId = this.packet[_index].skillId;
        return "/assets/character/" + payload.nameId.slice(0, -1) + "/skill" + (skillId + 1) + "/avatar.jpg";
      }
    },
    targetingCue: function targetingCue(payload) {
      var name = payload;
      var index = this.packet.findIndex(function (x) {
        return x.offense === payload;
      });
      var packet = this.packet[index];
      var result = {
        name: name,
        skillIndex: packet.skill,
        skillId: packet.skillId,
        heroIndex: packet.heroIndex,
        target: packet.target
      };
      console.log(result);
      return result;
    }
  }
});
"use strict";

function energyManagement(temporary, option) {
  var energy = temporary.energy ? temporary.energy : app.source.energy.ally;
  var skill = temporary.skillBind ? temporary.skillBind : app.source.ally[temporary.heroIndex].skill[temporary.skill].energy;
  var total = {
    energy: energy.a + energy.i + energy.s + energy.w,
    skill: skill.a + skill.i + skill.s + skill.w
  };

  if (option === "substract") {
    if (skill.a > 0) {
      energy.a -= skill.a;
      energy.r -= skill.a;
    }

    if (skill.i > 0) {
      energy.i -= skill.i;
      energy.r -= skill.i;
    }

    if (skill.s > 0) {
      energy.s -= skill.s;
      energy.r -= skill.s;
    }

    if (skill.w > 0) {
      energy.w -= skill.w;
      energy.r -= skill.w;
    }

    if (skill.r > 0) {
      energy.r -= skill.r;
      app.state.energy.random += skill.r;
    }
  } else if (option === "add") {
    if (skill.a > 0) {
      energy.a += skill.a;
      energy.r += skill.a;
    }

    if (skill.i > 0) {
      energy.i += skill.i;
      energy.r += skill.i;
    }

    if (skill.s > 0) {
      energy.s += skill.s;
      energy.r += skill.s;
    }

    if (skill.w > 0) {
      energy.w += skill.w;
      energy.r += skill.w;
    }

    if (skill.r > 0) {
      energy.r += skill.r;
      app.state.energy.random -= skill.r;
    }
  } else if (option === "check") {
    var active = true;

    if (total.energy >= total.skill) {
      var count = [true, true, true, true, true];

      if (skill.a >= 0) {
        count[0] = energy.a >= skill.a ? false : true;
      }

      if (skill.i >= 0) {
        count[1] = energy.i >= skill.i ? false : true;
      }

      if (skill.s >= 0) {
        count[2] = energy.s >= skill.s ? false : true;
      }

      if (skill.w >= 0) {
        count[3] = energy.w >= skill.w ? false : true;
      }

      if (skill.r >= 0) {
        count[4] = energy.r >= total.skill + skill.r ? false : true;
      }

      if (count.filter(function (x) {
        return x === false;
      }).length === 5) {
        active = false;
      } else {
        active = true;
      }
    }

    return active;
  }
}

function buttonManagement(payload, option) {
  //Target Button
  if (option !== "onSelf") {
    if (payload.aim === "enemy") {
      app.state.button.enemy.forEach(function (x) {
        //Define
        var skill = app.source.ally[payload.heroIndex].skill[payload.skill];
        var enemyStatus = app.source.enemy[x.index].status; //Invulnerability

        var state = enemyStatus.onState;
        var invulnerable = invulnerableManagement(state, skill); //Disable

        x.button = x.disabled || invulnerable ? true : !x.button; //Ignore

        var ignore = ignoreManagement(state, skill);
        console.log(ignore); //Prevent Invulnerability

        if (option === "onSkill" && enemyStatus.onState.some(function (x) {
          return x.type === "disableDrIv";
        }) && ignore === false) {
          x.button = false;
        } //Marking


        if (payload.marking === true) {
          var skillName = skill.name;
          var marking = enemyStatus.onReceive.some(function (x) {
            return x.name === skillName;
          }) || enemyStatus.onState.some(function (x) {
            return x.name === skillName;
          });

          if (marking === true) {
            x.button = true;
          }
        }
      });
    } else if (payload.aim === "enemylock") {
      app.state.button.enemy.forEach(function (x) {
        //Define
        var skill = app.source.ally[payload.heroIndex].skill[payload.skill];
        var enemyStatus = app.source.enemy[x.index].status;
        var lock = enemyStatus.onState.some(function (x) {
          return x.type === "state" && x.info === skill.name;
        });

        if (lock === true) {
          //Invulnerability
          var state = enemyStatus.onState;
          var invulnerable = invulnerableManagement(state, skill); //Disable

          x.button = x.disabled || invulnerable ? true : !x.button; //Ignore

          var ignore = ignoreManagement(state, skill);
          console.log(invulnerable); //Prevent Invulnerability

          if (option === "onSkill" && enemyStatus.onState.some(function (x) {
            return x.type === "disableDrIv";
          }) && ignore === false) {
            x.button = false;
          } //Marking


          if (payload.marking === true) {
            var skillName = skill.name;
            var marking = enemyStatus.onReceive.some(function (x) {
              return x.name === skillName;
            }) || enemyStatus.onState.some(function (x) {
              return x.name === skillName;
            });

            if (marking === true) {
              x.button = true;
            }
          }
        }
      });
    } else if (payload.aim === "allenemy" || payload.aim === "randomenemy" || payload.aim === "allenemyallally") {
      app.state.button.enemy.forEach(function (x) {
        //Define
        var skill = app.source.ally[payload.heroIndex].skill[payload.skill];
        var enemyStatus = app.source.enemy[x.index].status; //Invulnerability

        var state = enemyStatus.onState;
        var invulnerable = invulnerableManagement(state, skill); //Disable

        x.button = x.disabled || invulnerable ? true : !x.button; //Prevent Invulnerability

        if (option === "onSkill" && enemyStatus.onState.some(function (x) {
          return x.type === "disableDrIv";
        })) {
          x.button = false;
        }
      });
    } else if (payload.aim === "ally" || payload.aim === "allally") {
      app.state.button.ally.forEach(function (x) {
        return x.button = x.disabled ? true : !x.button;
      });
    } else if (payload.aim === "otherally") {
      app.state.button.ally.forEach(function (x) {
        var name = app.state.button.ally[payload.heroIndex].name;

        if (x.name !== name) {
          x.button = x.disabled ? true : !x.button;
        }
      });
    } else if (payload.aim === "self") {
      var ally = app.state.button.ally[payload.heroIndex];
      ally.button = ally.disabled ? true : !ally.button;
    }
  } //Skill Button


  if (option === "onTarget") {
    console.log("onSkill");
    app.state.button.ally.forEach(function (x) {
      if (x.onSkill === false) {
        x.skill.forEach(function (s) {
          s.button = true;

          if (x.name === payload.offense && s.name === app.source.ally[payload.heroIndex].skill[payload.skill].name) {
            s.button = false;
          }
        });
      }
    });
  }

  if (option === "onCancel") {
    console.log("onCancel");
    app.state.button.ally.forEach(function (x) {
      if (x.onSkill === false || x.name === payload.offense) {
        x.skill.forEach(function (s) {
          s.button = s.disabled ? true : false;

          if (x.name === payload.offense && s.name === app.source.ally[payload.heroIndex].skill[payload.skill].name) {
            s.button = false;
          }
        });
      }
    });
  } else if (option === "onTarget") {
    console.log("onTarget");
    app.state.button.ally.forEach(function (x) {
      var index = app.packet.findIndex(function (s) {
        return s.offense === x.name;
      });

      if (index < 0) {
        x.skill.forEach(function (s) {
          s.button = s.disabled ? true : false;
        });
      }
    });
  } else if (option === "onSelf") {
    console.log("onSelf");
    app.state.button.ally[payload.heroIndex].skill.forEach(function (s) {
      s.button = s.disabled ? true : false;
    });
  } //Energy Management


  if (option !== "onSkill") {
    app.state.button.ally.forEach(function (x, xi) {
      if (x.onSkill === false && x.name !== payload.offense) {
        console.log(x.name);
        console.log(option);
        x.skill.forEach(function (s, si) {
          var energy = energyManagement({
            heroIndex: xi,
            skill: si
          }, "check");
          s.button = s.disabled || energy ? true : false;

          if (x.name === payload.offense && s.name === app.source.ally[payload.heroIndex].skill[payload.skill].name) {
            s.button = false;
          }
        });
      }

      if ((option === "onSelf" || option === "onCancel") && x.name === payload.offense) {
        x.skill.forEach(function (s, si) {
          var energy = energyManagement({
            heroIndex: xi,
            skill: si
          }, "check");
          s.button = s.disabled || energy ? true : false;
        });
      }
    });
  }
}

function stunManagement(onState, skill) {
  var stun = onState.map(function (x) {
    if (x.type === "stun") {
      var ignore = ignoreManagement(onState, x);

      var intersect = _.intersection(x.classes, skill.classes);

      var evaluate;

      if (x.info === "inclusive") {
        evaluate = intersect.length > 0 ? true : false;
      } else if (x.info === "declusive") {
        evaluate = intersect.length === 0 ? true : false;
      }

      if (evaluate && !ignore) {
        return true;
      } else {
        return false;
      }
    }
  });

  if (stun.filter(function (x) {
    return x === true;
  }).length > 0) {
    return true;
  } else {
    return false;
  }
}

function invulnerableManagement(onState, skill) {
  var invulnerable = onState.map(function (x) {
    if (x.type === "invulnerable") {
      var ignoreInvul = skill.ignoreInvul;

      var intersect = _.intersection(x.classes, skill.classes);

      var evaluate;

      if (x.info === "inclusive") {
        evaluate = intersect.length > 0 ? true : false;
      } else if (x.info === "declusive") {
        evaluate = intersect.length === 0 ? true : false;
      }

      if (evaluate && !ignoreInvul) {
        return true;
      } else {
        return false;
      }
    }
  });

  if (invulnerable.filter(function (x) {
    return x === true;
  }).length > 0) {
    return true;
  } else {
    return false;
  }
}

function ignoreManagement(onState, skill) {
  var ignore = onState.map(function (x) {
    if (x.type === "ignore") {
      var intersect = _.intersection(x.classes, skill.classes);

      var evaluate;

      if (x.info === "inclusive") {
        evaluate = intersect.length > 0 ? true : false;
      } else if (x.info === "declusive") {
        evaluate = intersect.length === 0 ? true : false;
      }

      if (evaluate) {
        return true;
      } else {
        return false;
      }
    }
  });

  if (ignore.filter(function (x) {
    return x === true;
  }).length > 0) {
    return true;
  } else {
    return false;
  }
}
"use strict";

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function vueBind(payload) {
  var username = getCookie("username");

  if (payload.team.teamEven !== username && payload.team.teamOdd !== username) {
    console.log(payload.team);
    return;
  }

  console.log(payload);
  var ally = payload.team.teamEven === username ? "teamEven" : "teamOdd";
  var enemy = payload.team.teamEven === username ? "teamOdd" : "teamEven";
  var turn = ally === "teamEven" ? 0 : 1;
  var myTurn = payload.turn % 2 === turn ? true : false;

  if (myTurn === true) {
    app.$refs.soundStartTurn.play();
  } // if (payload.winner.state === true && payload.winner.name === username) {
  // } else if (
  //   payload.winner.state === true &&
  //   payload.winner.name !== username
  // ) {
  //   app.$refs.soundLose.play();
  // }


  var store = {
    energy: {
      ally: payload.energy[ally],
      enemy: payload.energy[enemy]
    },
    ally: payload[ally].map(function (x) {
      return _objectSpread({}, x, {
        indicator: statusView(x.name, x.status)
      });
    }),
    enemy: payload[enemy].map(function (x) {
      return _objectSpread({}, x, {
        indicator: statusView(x.name, x.status)
      });
    }),
    turn: payload.turn,
    myTurn: myTurn,
    room: payload.room,
    meta: {
      myName: payload.team[ally],
      theirName: payload.team[enemy]
    }
  };
  store.energy.ally.r = store.energy.ally.a + store.energy.ally.i + store.energy.ally.s + store.energy.ally.w;
  console.log(store);
  var button = {
    ally: store.ally.map(function (x) {
      // let disabled = x.status.onState.findIndex(x => x.type === 'stun') > -1 || x.hp <= 0 ? true : false
      var disabled = x.hp <= 0 ? true : false; // let stun = x.status.onState.some(x => x.type === "stun") ? true : false;

      return {
        name: x.name,
        button: true,
        onSkill: false,
        disabled: disabled,
        skill: x.skill.map(function (s) {
          // console.log(s.type);
          var energy = energyManagement({
            energy: store.energy.ally,
            skillBind: s.energy
          }, "check");
          var stun = stunManagement(x.status.onState, s); // let disableDrVr =
          //   s.type === "invulnerable" &&
          //   x.status.onState.some(x => x.type === "disableDrIv")
          //     ? true
          //     : false;

          var disabled = stun || s.required || s.state === "cooldown" || myTurn === false || x.hp <= 0 ? true : false;
          return {
            name: s.name,
            disabled: disabled,
            button: disabled || energy ? true : false
          };
        })
      };
    }),
    enemy: store.enemy.map(function (x, i) {
      // let disabled =
      //   x.status.onState.some(x => x.type === "invulnerable") || x.hp <= 0
      //     ? true
      //     : false;
      var disabled = x.hp <= 0 ? true : false;
      return {
        name: x.name,
        index: i,
        disabled: disabled,
        button: true
      };
    })
  };
  app.source = store;
  app.state.button = button;
  app.state.timer.turn = 100;
  app.state.winner = payload.winner;
}

function statusView(name, payload) {
  // console.log(name, payload);
  var status = _.concat(payload.onAttack, payload.onReceive, payload.onState, payload.onSelf);

  var groupByNameId = _.groupBy(status, "nameId");

  var valuesByNameId = _.values(groupByNameId);

  var groupBySkillIndex = valuesByNameId.map(function (x) {
    return _.groupBy(x, "skillIndex");
  });

  var valuesBySkillIndex = _.values(groupBySkillIndex);

  var concatValues = [];
  valuesBySkillIndex.forEach(function (x) {
    concatValues = concatValues.concat(_.values(x));
  });
  var final = concatValues.map(function (x) {
    var info = x[0];
    return {
      name: info.name,
      nameId: info.nameId,
      skillIndex: info.skillIndex,
      active: info.active,
      val: x
    };
  });
  return final;
}
"use strict";

function initiate() {
  var url = window.location.href.split("/");
  var room = url[url.length - 1];

  if (room !== "") {
    socket.emit("initiate", {
      room: room
    });
  } else {// window.location.replace('/');
  }
}

initiate();
setInterval(function () {
  if (app.source.turn == undefined || app.state.winner.state !== false) {
    return;
  }

  if (app.state.timer.turn > 0) {
    app.state.timer.turn -= 2.2;
  } else if (app.state.timer.turn <= 0 && app.source.myTurn === true) {// app.packet = app.packet.filter(x => x.skill !== null && x.offense !== '' && x.target !== '' && x.aim !== '' && x.heroIndex !== null)
    // socket.emit('sequence', {
    //     packet: app.packet,
    //     room: app.source.room
    // })
    // app.packet = []
  }
}, 1000);

window.onfocus = function () {
  document.title = "Anime Rumble";
};
"use strict";

socket.on("apply", function (payload) {
  document.title = "(!) Anime Rumble";
  vueBind(payload);
});
socket.on("noMatch", function (payload) {
  console.log("none");
  window.location.replace("/");
});
"use strict";

function getParameterName(name, url) {
  if (!url) url = window.location.href;
  name = name.replace(/[\[\]]/g, "\\$&");
  var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
      results = regex.exec(url);
  if (!results) return null;
  if (!results[2]) return "";
  return decodeURIComponent(results[2].replace(/\+/g, " "));
}

var setCookie = function setCookie(name, value) {
  var days = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 7;
  var path = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : "/";
  var expires = new Date(Date.now() + days * 864e5).toGMTString();
  document.cookie = name + "=" + encodeURIComponent(value) + "; expires=" + expires + "; path=" + path;
};

var getCookie = function getCookie(name) {
  return document.cookie.split("; ").reduce(function (r, v) {
    var parts = v.split("=");
    return parts[0] === name ? decodeURIComponent(parts[1]) : r;
  }, "");
};

var deleteCookie = function deleteCookie(name, path) {
  setCookie(name, "", -1, path);
};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNldHVwLmpzIiwidnVlLmpzIiwibWFuYWdlbWVudC5qcyIsInJlbmRlcmVyLmpzIiwiZ2VuZXJhbC5qcyIsInNvY2tldC5qcyIsImhlbHBlci5qcyJdLCJuYW1lcyI6WyJzb2NrZXQiLCJpbyIsIlZ1ZSIsInVzZSIsIlZUb29sdGlwIiwiYXBwIiwiZWwiLCJkYXRhIiwibWVzc2FnZSIsInNvdXJjZSIsImVuZXJneSIsImFsbHkiLCJtZXRhIiwicGFja2V0Iiwic3RhdGUiLCJza2lsbCIsIm9mZmVuc2UiLCJ0YXJnZXQiLCJhaW0iLCJ0aW1lciIsInR1cm4iLCJvblNraWxsIiwiYnV0dG9uIiwiZGVzY3JpcHRpb24iLCJ3aW5uZXIiLCJuYW1lIiwibW9kYWwiLCJyYW5kb20iLCJleGNoYW5nZSIsInVzZWQiLCJ2YWwiLCJzaG93TW9kYWwiLCJtZXRob2RzIiwib25FeGNoYW5nZSIsImUiLCIkcmVmcyIsInNvdW5kQ2xpY2siLCJwbGF5IiwiciIsImNvc3QiLCJmb3JFYWNoIiwieCIsInhpIiwiY29uc29sZSIsImxvZyIsInMiLCJzaSIsImVuZXJneU1hbmFnZW1lbnQiLCJoZXJvSW5kZXgiLCJkaXNhYmxlZCIsImJ1dHRvbk1hbmFnZW1lbnQiLCJza2lsbElkIiwib25Eb25lIiwic291bmRFbmRUdXJuIiwiZmlsdGVyIiwidW5zaGlmdCIsIm1zZyIsImVtaXQiLCJyb29tIiwicGF5bG9hZCIsIm1hcmtpbmciLCJza2lsbEluZGV4IiwidGVtcG9yYXJ5IiwiaXNPblNraWxsIiwic2V0VGltZW91dCIsIm9uVGFyZ2V0IiwiZW5lbXkiLCJtYXAiLCJjb25jYXQiLCJwdXNoIiwib25BdHRhY2siLCJvbkRlc2NyaXB0aW9uIiwib25TdGF0dXMiLCJzdGF0dXMiLCJfIiwib25SZWNlaXZlIiwib25TdGF0ZSIsIm9uU2VsZiIsImdyb3VwIiwiZ3JvdXBCeSIsInN1Ymdyb3VwIiwidG9BcnJheSIsInByZXAiLCJmaW5hbCIsImluZm8iLCJuYW1lSWQiLCJvbkdldEltYWdlIiwib3B0aW9uIiwiaW5kZXgiLCJmaW5kSW5kZXgiLCJzbGljZSIsInRhcmdldGluZ0N1ZSIsInJlc3VsdCIsInNraWxsQmluZCIsInRvdGFsIiwiYSIsImkiLCJ3IiwiYWN0aXZlIiwiY291bnQiLCJsZW5ndGgiLCJlbmVteVN0YXR1cyIsImludnVsbmVyYWJsZSIsImludnVsbmVyYWJsZU1hbmFnZW1lbnQiLCJpZ25vcmUiLCJpZ25vcmVNYW5hZ2VtZW50Iiwic29tZSIsInR5cGUiLCJza2lsbE5hbWUiLCJsb2NrIiwic3R1bk1hbmFnZW1lbnQiLCJzdHVuIiwiaW50ZXJzZWN0IiwiaW50ZXJzZWN0aW9uIiwiY2xhc3NlcyIsImV2YWx1YXRlIiwiaWdub3JlSW52dWwiLCJ2dWVCaW5kIiwidXNlcm5hbWUiLCJnZXRDb29raWUiLCJ0ZWFtIiwidGVhbUV2ZW4iLCJ0ZWFtT2RkIiwibXlUdXJuIiwic291bmRTdGFydFR1cm4iLCJzdG9yZSIsImluZGljYXRvciIsInN0YXR1c1ZpZXciLCJteU5hbWUiLCJ0aGVpck5hbWUiLCJocCIsInJlcXVpcmVkIiwiZ3JvdXBCeU5hbWVJZCIsInZhbHVlc0J5TmFtZUlkIiwidmFsdWVzIiwiZ3JvdXBCeVNraWxsSW5kZXgiLCJ2YWx1ZXNCeVNraWxsSW5kZXgiLCJjb25jYXRWYWx1ZXMiLCJpbml0aWF0ZSIsInVybCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsInNwbGl0Iiwic2V0SW50ZXJ2YWwiLCJ1bmRlZmluZWQiLCJvbmZvY3VzIiwiZG9jdW1lbnQiLCJ0aXRsZSIsIm9uIiwicmVwbGFjZSIsImdldFBhcmFtZXRlck5hbWUiLCJyZWdleCIsIlJlZ0V4cCIsInJlc3VsdHMiLCJleGVjIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwic2V0Q29va2llIiwidmFsdWUiLCJkYXlzIiwicGF0aCIsImV4cGlyZXMiLCJEYXRlIiwibm93IiwidG9HTVRTdHJpbmciLCJjb29raWUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJyZWR1Y2UiLCJ2IiwicGFydHMiLCJk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QixHQUExQixDQUFuQixDQUFQO0FBQ0Q7O0FBRUQsSUFBTU8sWUFBWSxTQUFaQSxTQUFZLENBQUNwSSxJQUFELEVBQU9xSSxLQUFQLEVBQXVDO0FBQUEsTUFBekJDLElBQXlCLHVFQUFsQixDQUFrQjtBQUFBLE1BQWZDLElBQWUsdUVBQVIsR0FBUTtBQUN2RCxNQUFNQyxVQUFVLElBQUlDLElBQUosQ0FBU0EsS0FBS0MsR0FBTCxLQUFhSixPQUFPLEtBQTdCLEVBQW9DSyxXQUFwQyxFQUFoQjtBQUNBakIsV0FBU2tCLE1BQVQsR0FDRTVJLE9BQ0EsR0FEQSxHQUVBNkksbUJBQW1CUixLQUFuQixDQUZBLEdBR0EsWUFIQSxHQUlBRyxPQUpBLEdBS0EsU0FMQSxHQU1BRCxJQVBGO0FBUUQsQ0FWRDs7QUFZQSxJQUFNekMsWUFBWSxTQUFaQSxTQUFZLE9BQVE7QUFDeEIsU0FBTzRCLFNBQVNrQixNQUFULENBQWdCdEIsS0FBaEIsQ0FBc0IsSUFBdEIsRUFBNEJ3QixNQUE1QixDQUFtQyxVQUFDakksQ0FBRCxFQUFJa0ksQ0FBSixFQUFVO0FBQ2xELFFBQU1DLFFBQVFELEVBQUV6QixLQUFGLENBQVEsR0FBUixDQUFkO0FBQ0EsV0FBTzBCLE1BQU0sQ0FBTixNQUFhaEosSUFBYixHQUFvQm1JLG1CQUFtQmEsTUFBTSxDQUFOLENBQW5CLENBQXBCLEdBQW1EbkksQ0FBMUQ7QUFDRCxHQUhNLEVBR0osRUFISSxDQUFQO0FBSUQsQ0FMRDs7QUFPQSxJQUFNb0ksZUFBZSxTQUFmQSxZQUFlLENBQUNqSixJQUFELEVBQU91SSxJQUFQLEVBQWdCO0FBQ25DSCxZQUFVcEksSUFBVixFQUFnQixFQUFoQixFQUFvQixDQUFDLENBQXJCLEVBQXdCdUksSUFBeEI7QUFDRCxDQUZEIiwiZmlsZSI6ImdhbWUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IHNvY2tldCA9IGlvKCcvZ2FtZScpOyIsIlZ1ZS51c2UoVlRvb2x0aXApO1xubGV0IGFwcCA9IG5ldyBWdWUoe1xuICBlbDogXCIjYXBwXCIsXG4gIGRhdGE6IHtcbiAgICBtZXNzYWdlOiBcIkhlbGxvIFZ1ZWUuanMhXCIsXG4gICAgc291cmNlOiB7XG4gICAgICBlbmVyZ3k6IHtcbiAgICAgICAgYWxseToge31cbiAgICAgIH0sXG4gICAgICBtZXRhOiB7fVxuICAgIH0sXG4gICAgcGFja2V0OiBbXSxcbiAgICBzdGF0ZToge1xuICAgICAgc2tpbGw6IHtcbiAgICAgICAgb2ZmZW5zZTogbnVsbCxcbiAgICAgICAgc2tpbGw6IG51bGwsXG4gICAgICAgIHRhcmdldDogbnVsbCxcbiAgICAgICAgYWltOiBudWxsXG4gICAgICB9LFxuICAgICAgdGltZXI6IHtcbiAgICAgICAgdHVybjogMTAwXG4gICAgICB9LFxuICAgICAgb25Ta2lsbDogZmFsc2UsXG4gICAgICBidXR0b246IHt9LFxuICAgICAgZGVzY3JpcHRpb246IG51bGwsXG4gICAgICB3aW5uZXI6IHtcbiAgICAgICAgc3RhdGU6IGZhbHNlLFxuICAgICAgICBuYW1lOiBcIlwiXG4gICAgICB9LFxuICAgICAgZW5lcmd5OiB7XG4gICAgICAgIG1vZGFsOiBmYWxzZSxcbiAgICAgICAgcmFuZG9tOiAwXG4gICAgICB9LFxuICAgICAgZXhjaGFuZ2U6IHtcbiAgICAgICAgbW9kYWw6IGZhbHNlLFxuICAgICAgICB1c2VkOiBmYWxzZSxcbiAgICAgICAgZW5lcmd5OiB7fSxcbiAgICAgICAgdmFsOiBcIlwiXG4gICAgICB9XG4gICAgfSxcbiAgICBzaG93TW9kYWw6IHRydWVcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIG9uRXhjaGFuZ2U6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIC8vU291bmRcbiAgICAgIHRoaXMuJHJlZnMuc291bmRDbGljay5wbGF5KCk7XG5cbiAgICAgIGxldCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICB0aGlzLnNvdXJjZS5lbmVyZ3kuYWxseSA9IGUuZW5lcmd5O1xuICAgICAgdGhpcy5zb3VyY2UuZW5lcmd5LmFsbHkuciA9XG4gICAgICAgIHRoaXMuc291cmNlLmVuZXJneS5hbGx5LnIgLSB0aGlzLnN0YXRlLmVuZXJneS5yYW5kb207XG4gICAgICBzdGF0ZS5leGNoYW5nZS5lbmVyZ3kgPSBlLmNvc3Q7XG4gICAgICBzdGF0ZS5leGNoYW5nZS5tb2RhbCA9IGZhbHNlO1xuICAgICAgc3RhdGUuZXhjaGFuZ2UudXNlZCA9IHRydWU7XG4gICAgICBzdGF0ZS5leGNoYW5nZS52YWwgPSBlLmV4Y2hhbmdlO1xuXG4gICAgICBzdGF0ZS5idXR0b24uYWxseS5mb3JFYWNoKCh4LCB4aSkgPT4ge1xuICAgICAgICBpZiAoeC5vblNraWxsID09PSBmYWxzZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKHgubmFtZSk7XG4gICAgICAgICAgeC5za2lsbC5mb3JFYWNoKChzLCBzaSkgPT4ge1xuICAgICAgICAgICAgbGV0IGVuZXJneSA9IGVuZXJneU1hbmFnZW1lbnQoXG4gICAgICAgICAgICAgIHsgaGVyb0luZGV4OiB4aSwgc2tpbGw6IHNpIH0sXG4gICAgICAgICAgICAgIFwiY2hlY2tcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHMuYnV0dG9uID0gcy5kaXNhYmxlZCB8fCBlbmVyZ3kgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlbmVyZ3ksIHMuZGlzYWJsZWQsIHMuYnV0dG9uKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vQ2xlYW4gU2tpbGwgQnVmZmVyXG4gICAgICBpZiAoc3RhdGUuc2tpbGwub2ZmZW5zZSAhPT0gbnVsbCAmJiBzdGF0ZS5za2lsbC50YXJnZXQgPT09IG51bGwpIHtcbiAgICAgICAgLy9Td2l0Y2ggQ2hvaWNlXG4gICAgICAgIC8vQnV0dG9uIE1hbmFnZW1lbnRcbiAgICAgICAgYnV0dG9uTWFuYWdlbWVudChzdGF0ZS5za2lsbCwgXCJvbkNhbmNlbFwiKTtcbiAgICAgICAgLy9DbGVhbiBCdWZmZXJcbiAgICAgICAgc3RhdGUuc2tpbGwgPSB7XG4gICAgICAgICAgb2ZmZW5zZTogbnVsbCxcbiAgICAgICAgICBza2lsbDogbnVsbCxcbiAgICAgICAgICBza2lsbElkOiBudWxsLFxuICAgICAgICAgIHRhcmdldDogbnVsbCxcbiAgICAgICAgICBhaW06IG51bGwsXG4gICAgICAgICAgaGVyb0luZGV4OiBudWxsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSxcbiAgICBvbkRvbmU6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIC8vU291bmRcbiAgICAgIHRoaXMuJHJlZnMuc291bmRFbmRUdXJuLnBsYXkoKTtcblxuICAgICAgLy9EZWZpbmVcbiAgICAgIGxldCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICBsZXQgcGFja2V0ID0gZS5wYWNrZXQ7XG5cbiAgICAgIC8vT3JnYW5pemVcbiAgICAgIHN0YXRlLmVuZXJneS5tb2RhbCA9IGZhbHNlO1xuICAgICAgcGFja2V0ID0gcGFja2V0LmZpbHRlcihcbiAgICAgICAgeCA9PlxuICAgICAgICAgIHguc2tpbGwgIT09IG51bGwgJiZcbiAgICAgICAgICB4Lm9mZmVuc2UgIT09IG51bGwgJiZcbiAgICAgICAgICB4LnRhcmdldCAhPT0gbnVsbCAmJlxuICAgICAgICAgIHguYWltICE9PSBudWxsICYmXG4gICAgICAgICAgeC5oZXJvSW5kZXggIT09IG51bGxcbiAgICAgICk7XG4gICAgICBwYWNrZXQudW5zaGlmdChlLmVuZXJneSk7XG4gICAgICBpZiAoc3RhdGUuZXhjaGFuZ2UudXNlZCA9PT0gdHJ1ZSkge1xuICAgICAgICBwYWNrZXQudW5zaGlmdChcbiAgICAgICAgICB7IG1zZzogXCJleGNoYW5nZVwiLCB2YWw6IHN0YXRlLmV4Y2hhbmdlLnZhbCB9LFxuICAgICAgICAgIHN0YXRlLmV4Y2hhbmdlLmVuZXJneVxuICAgICAgICApO1xuICAgICAgICBzdGF0ZS5leGNoYW5nZS51c2VkID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vU2VuZFxuICAgICAgc29ja2V0LmVtaXQoXCJzZXF1ZW5jZVwiLCB7XG4gICAgICAgIHBhY2tldDogcGFja2V0LFxuICAgICAgICByb29tOiB0aGlzLnNvdXJjZS5yb29tXG4gICAgICB9KTtcblxuICAgICAgLy9SZXNldFxuICAgICAgc3RhdGUuZW5lcmd5LnJhbmRvbSA9IDA7XG4gICAgICB0aGlzLnBhY2tldCA9IFtdO1xuICAgICAgc3RhdGUuc2tpbGwgPSB7XG4gICAgICAgIG9mZmVuc2U6IG51bGwsXG4gICAgICAgIHNraWxsOiBudWxsLFxuICAgICAgICBza2lsbElkOiBudWxsLFxuICAgICAgICB0YXJnZXQ6IG51bGwsXG4gICAgICAgIGFpbTogbnVsbCxcbiAgICAgICAgaGVyb0luZGV4OiBudWxsXG4gICAgICB9O1xuICAgIH0sXG4gICAgb25Ta2lsbDogZnVuY3Rpb24ocGF5bG9hZCkge1xuICAgICAgLy9EZWZpbmUgYW5kIFN3aXRjaCBTdGF0ZVxuICAgICAgbGV0IHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgIGxldCBtYXJraW5nID0gdGhpcy5zb3VyY2UuYWxseVtwYXlsb2FkLmhlcm9JbmRleF0uc2tpbGxbXG4gICAgICAgIHBheWxvYWQuc2tpbGxJbmRleFxuICAgICAgXS5tYXJraW5nO1xuICAgICAgbGV0IHRlbXBvcmFyeSA9IHtcbiAgICAgICAgb2ZmZW5zZTogcGF5bG9hZC5uYW1lLFxuICAgICAgICBza2lsbDogcGF5bG9hZC5za2lsbEluZGV4LFxuICAgICAgICBza2lsbElkOiBwYXlsb2FkLnNraWxsSWQsXG4gICAgICAgIHRhcmdldDogbnVsbCxcbiAgICAgICAgYWltOiBwYXlsb2FkLnRhcmdldCxcbiAgICAgICAgaGVyb0luZGV4OiBwYXlsb2FkLmhlcm9JbmRleCxcbiAgICAgICAgbWFya2luZzogbWFya2luZ1xuICAgICAgfTtcblxuICAgICAgLy9JcyBTa2lsbCBDaG9zZW4/XG4gICAgICBsZXQgaXNPblNraWxsID0gc3RhdGUuYnV0dG9uLmFsbHlbdGVtcG9yYXJ5Lmhlcm9JbmRleF0ub25Ta2lsbDtcblxuICAgICAgaWYgKFxuICAgICAgICBpc09uU2tpbGwgPT09IGZhbHNlICYmXG4gICAgICAgIHN0YXRlLnNraWxsLm9mZmVuc2UgPT09IG51bGwgJiZcbiAgICAgICAgc3RhdGUuc2tpbGwudGFyZ2V0ID09PSBudWxsXG4gICAgICApIHtcbiAgICAgICAgLy9GaXJzdCBDaG9pY2VcbiAgICAgICAgLy9CdWZmZXIgU2tpbGxcbiAgICAgICAgc3RhdGUuc2tpbGwgPSB0ZW1wb3Jhcnk7XG4gICAgICAgIC8vQnV0dG9uIE1hbmFnZW1lbnRcbiAgICAgICAgYnV0dG9uTWFuYWdlbWVudCh0ZW1wb3JhcnksIFwib25Ta2lsbFwiKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIGlzT25Ta2lsbCA9PT0gZmFsc2UgJiZcbiAgICAgICAgc3RhdGUuc2tpbGwub2ZmZW5zZSAhPT0gbnVsbCAmJlxuICAgICAgICBzdGF0ZS5za2lsbC50YXJnZXQgPT09IG51bGxcbiAgICAgICkge1xuICAgICAgICAvL1N3aXRjaCBDaG9pY2VcbiAgICAgICAgLy9CdXR0b24gTWFuYWdlbWVudFxuICAgICAgICBidXR0b25NYW5hZ2VtZW50KHN0YXRlLnNraWxsLCBcIm9uQ2FuY2VsXCIpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBidXR0b25NYW5hZ2VtZW50KHRlbXBvcmFyeSwgXCJvblNraWxsXCIpO1xuICAgICAgICB9LCAxMDApO1xuICAgICAgICAvL0J1ZmZlciBTa2lsbFxuICAgICAgICBzdGF0ZS5za2lsbCA9IHRlbXBvcmFyeTtcbiAgICAgIH0gZWxzZSBpZiAoaXNPblNraWxsID09PSB0cnVlKSB7XG4gICAgICAgIC8vQ2FuY2VsIENob2ljZVxuICAgICAgICBlbmVyZ3lNYW5hZ2VtZW50KHRlbXBvcmFyeSwgXCJhZGRcIik7XG4gICAgICAgIC8vQnV0dG9uIE1hbmFnZW1lbnRcbiAgICAgICAgYnV0dG9uTWFuYWdlbWVudChzdGF0ZS5za2lsbCwgXCJvbkNhbmNlbFwiKTtcbiAgICAgICAgYnV0dG9uTWFuYWdlbWVudCh0ZW1wb3JhcnksIFwib25TZWxmXCIpO1xuICAgICAgICB0aGlzLnBhY2tldCA9IHRoaXMucGFja2V0LmZpbHRlcih4ID0+IHgub2ZmZW5zZSAhPT0gdGVtcG9yYXJ5Lm9mZmVuc2UpO1xuICAgICAgICAvL0NsZWFuIFNraWxsIEJ1ZmZlclxuICAgICAgICBzdGF0ZS5za2lsbCA9IHtcbiAgICAgICAgICBvZmZlbnNlOiBudWxsLFxuICAgICAgICAgIHNraWxsOiBudWxsLFxuICAgICAgICAgIHNraWxsSWQ6IG51bGwsXG4gICAgICAgICAgdGFyZ2V0OiBudWxsLFxuICAgICAgICAgIGFpbTogbnVsbCxcbiAgICAgICAgICBoZXJvSW5kZXg6IG51bGxcbiAgICAgICAgfTtcbiAgICAgICAgLy9TdGF0ZSBNYW5hZ2VtZW50XG4gICAgICAgIHN0YXRlLmJ1dHRvbi5hbGx5W3RlbXBvcmFyeS5oZXJvSW5kZXhdLm9uU2tpbGwgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9uVGFyZ2V0OiBmdW5jdGlvbihwYXlsb2FkKSB7XG4gICAgICAvL1NvdW5kXG4gICAgICB0aGlzLiRyZWZzLnNvdW5kQ2xpY2sucGxheSgpO1xuXG4gICAgICAvL0RlZmluZSBTdGF0ZVxuICAgICAgbGV0IHN0YXRlID0gdGhpcy5zdGF0ZTtcblxuICAgICAgLy9CdWZmZXIgU2tpbGxcbiAgICAgIGlmIChzdGF0ZS5za2lsbC5haW0gPT09IFwiYWxsZW5lbXlcIiB8fCBzdGF0ZS5za2lsbC5haW0gPT09IFwicmFuZG9tZW5lbXlcIikge1xuICAgICAgICBjb25zb2xlLmxvZyhzdGF0ZS5idXR0b24uZW5lbXkpO1xuICAgICAgICBzdGF0ZS5za2lsbC50YXJnZXQgPSBzdGF0ZS5idXR0b24uZW5lbXlcbiAgICAgICAgICAuZmlsdGVyKHggPT4geC5idXR0b24gIT09IHRydWUgJiYgeC5uYW1lICE9PSBwYXlsb2FkLm5hbWUpXG4gICAgICAgICAgLm1hcCh4ID0+IHgubmFtZSk7XG4gICAgICAgIHN0YXRlLnNraWxsLnRhcmdldC51bnNoaWZ0KHBheWxvYWQubmFtZSk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLnNraWxsLmFpbSA9PT0gXCJhbGxhbGx5XCIpIHtcbiAgICAgICAgc3RhdGUuc2tpbGwudGFyZ2V0ID0gc3RhdGUuYnV0dG9uLmFsbHkubWFwKHggPT4geC5uYW1lKTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUuc2tpbGwuYWltID09PSBcImFsbGVuZW15YWxsYWxseVwiKSB7XG4gICAgICAgIHN0YXRlLnNraWxsLnRhcmdldCA9IHN0YXRlLmJ1dHRvbi5lbmVteVxuICAgICAgICAgIC5maWx0ZXIoeCA9PiB4LmJ1dHRvbiAhPT0gdHJ1ZSAmJiB4Lm5hbWUgIT09IHBheWxvYWQubmFtZSlcbiAgICAgICAgICAubWFwKHggPT4geC5uYW1lKTtcbiAgICAgICAgc3RhdGUuc2tpbGwudGFyZ2V0LnVuc2hpZnQocGF5bG9hZC5uYW1lKTtcbiAgICAgICAgbGV0IGFsbHkgPSBzdGF0ZS5idXR0b24uYWxseS5tYXAoeCA9PiB4Lm5hbWUpO1xuICAgICAgICBzdGF0ZS5za2lsbC50YXJnZXQgPSBzdGF0ZS5za2lsbC50YXJnZXQuY29uY2F0KGFsbHkpO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZS5za2lsbC5haW0gPT09IFwib3RoZXJhbGx5XCIpIHtcbiAgICAgICAgc3RhdGUuc2tpbGwudGFyZ2V0ID0gc3RhdGUuYnV0dG9uLmFsbHlcbiAgICAgICAgICAuZmlsdGVyKHggPT4geC5uYW1lICE9PSBzdGF0ZS5za2lsbC5vZmZlbnNlKVxuICAgICAgICAgIC5tYXAoeCA9PiB4Lm5hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhdGUuc2tpbGwudGFyZ2V0ID0gW3BheWxvYWQubmFtZV07XG4gICAgICB9XG4gICAgICAvL1JlZ2lzdGVyIFNraWxsXG4gICAgICB0aGlzLnBhY2tldC5wdXNoKHRoaXMuc3RhdGUuc2tpbGwpO1xuXG4gICAgICAvL0VuZXJneSBNYW5hZ2VtZW50XG4gICAgICBlbmVyZ3lNYW5hZ2VtZW50KHN0YXRlLnNraWxsLCBcInN1YnN0cmFjdFwiKTtcbiAgICAgIC8vQnV0dG9uIE1hbmFnZW1lbnRcbiAgICAgIC8vIGJ1dHRvbk1hbmFnZW1lbnQoc3RhdGUuc2tpbGwsIFwib25Ta2lsbFwiKTtcbiAgICAgIGJ1dHRvbk1hbmFnZW1lbnQoc3RhdGUuc2tpbGwsIFwib25UYXJnZXRcIik7XG4gICAgICAvL1N0YXRlIE1hbmFnZW1lbnRcbiAgICAgIHN0YXRlLmJ1dHRvbi5hbGx5W3N0YXRlLnNraWxsLmhlcm9JbmRleF0ub25Ta2lsbCA9IHRydWU7XG5cbiAgICAgIC8vQ2xlYW4gU2tpbGwgQnVmZmVyXG4gICAgICBzdGF0ZS5za2lsbCA9IHtcbiAgICAgICAgb2ZmZW5zZTogbnVsbCxcbiAgICAgICAgc2tpbGw6IG51bGwsXG4gICAgICAgIHNraWxsSWQ6IG51bGwsXG4gICAgICAgIHRhcmdldDogbnVsbCxcbiAgICAgICAgYWltOiBudWxsLFxuICAgICAgICBoZXJvSW5kZXg6IG51bGxcbiAgICAgIH07XG4gICAgfSxcbiAgICBvbkF0dGFjazogZnVuY3Rpb24ocGF5bG9hZCkge1xuICAgICAgLy9Tb3VuZFxuICAgICAgdGhpcy4kcmVmcy5zb3VuZENsaWNrLnBsYXkoKTtcblxuICAgICAgdGhpcy5zdGF0ZS5lbmVyZ3kubW9kYWwgPSB0cnVlO1xuICAgIH0sXG4gICAgb25EZXNjcmlwdGlvbjogZnVuY3Rpb24ocGF5bG9hZCkge1xuICAgICAgLy9Tb3VuZFxuICAgICAgdGhpcy4kcmVmcy5zb3VuZENsaWNrLnBsYXkoKTtcblxuICAgICAgbGV0IHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgIGxldCB0ZW1wb3JhcnkgPSB7XG4gICAgICAgIG9mZmVuc2U6IHBheWxvYWQubmFtZSxcbiAgICAgICAgc2tpbGw6IHBheWxvYWQuc2tpbGxJbmRleCxcbiAgICAgICAgdGFyZ2V0OiBcIlwiLFxuICAgICAgICBhaW06IHBheWxvYWQudGFyZ2V0LFxuICAgICAgICBoZXJvSW5kZXg6IHBheWxvYWQuaGVyb0luZGV4XG4gICAgICB9O1xuXG4gICAgICAvL0J1ZmZlciBTa2lsbFxuICAgICAgc3RhdGUuZGVzY3JpcHRpb24gPSB7XG4gICAgICAgIHNraWxsOiB0ZW1wb3Jhcnkuc2tpbGwsXG4gICAgICAgIGhlcm9JbmRleDogdGVtcG9yYXJ5Lmhlcm9JbmRleFxuICAgICAgfTtcbiAgICB9LFxuICAgIG9uU3RhdHVzOiBmdW5jdGlvbihwYXlsb2FkKSB7XG4gICAgICBjb25zb2xlLmxvZyhwYXlsb2FkKTtcbiAgICAgIGxldCBzdGF0dXMgPSBfLmNvbmNhdChcbiAgICAgICAgcGF5bG9hZC5vbkF0dGFjayxcbiAgICAgICAgcGF5bG9hZC5vblJlY2VpdmUsXG4gICAgICAgIHBheWxvYWQub25TdGF0ZSxcbiAgICAgICAgcGF5bG9hZC5vblNlbGZcbiAgICAgICk7XG4gICAgICBjb25zb2xlLmxvZyhzdGF0dXMpO1xuICAgICAgbGV0IGdyb3VwID0gXy5ncm91cEJ5KHN0YXR1cywgXCJuYW1lSWRcIik7XG4gICAgICBjb25zb2xlLmxvZyhncm91cCk7XG4gICAgICBsZXQgc3ViZ3JvdXAgPSBfLnRvQXJyYXkoZ3JvdXApLm1hcCh4ID0+XG4gICAgICAgIF8udG9BcnJheShfLmdyb3VwQnkoeCwgXCJza2lsbEluZGV4XCIpKVxuICAgICAgKTtcbiAgICAgIGxldCBwcmVwID0gc3ViZ3JvdXAubWFwKHggPT4geFswXSk7XG4gICAgICBsZXQgZmluYWwgPSBwcmVwLm1hcCh4ID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coeFswXSk7XG4gICAgICAgIGxldCBpbmZvID0geFswXTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuYW1lSWQ6IGluZm8ubmFtZUlkLFxuICAgICAgICAgIHN0YXR1czogaW5mby5za2lsbEluZGV4LFxuICAgICAgICAgIHZhbDogeFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhwcmVwKTtcbiAgICAgIGNvbnNvbGUubG9nKGZpbmFsKTtcbiAgICAgIHJldHVybiBmaW5hbDtcbiAgICAgIC8vIGxldCBzdWJncm91cCA9IGdyb3VwLm1hcCh4ID0+IF8uZ3JvdXBCeSh4LCBcInNraWxsSW5kZXhcIikpO1xuICAgIH0sXG4gICAgb25HZXRJbWFnZTogZnVuY3Rpb24ocGF5bG9hZCwgb3B0aW9uKSB7XG4gICAgICBpZiAob3B0aW9uID09PSBcInBhY2tldFwiKSB7XG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMuc291cmNlLmFsbHkuZmluZEluZGV4KHggPT4geC5uYW1lID09PSBwYXlsb2FkLm9mZmVuc2UpO1xuICAgICAgICBsZXQgbmFtZUlkID0gdGhpcy5zb3VyY2UuYWxseVtpbmRleF0ubmFtZUlkO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgXCIvYXNzZXRzL2NoYXJhY3Rlci9cIiArXG4gICAgICAgICAgbmFtZUlkLnNsaWNlKDAsIC0xKSArXG4gICAgICAgICAgXCIvc2tpbGxcIiArXG4gICAgICAgICAgKHBheWxvYWQuc2tpbGwgKyAxKSArXG4gICAgICAgICAgXCIvYXZhdGFyLmpwZ1wiXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKG9wdGlvbiA9PT0gXCJjaGFyXCIpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBcIi9hc3NldHMvY2hhcmFjdGVyL1wiICsgcGF5bG9hZC5uYW1lSWQuc2xpY2UoMCwgLTEpICsgXCIvYXZhdGFyLmpwZ1wiXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKG9wdGlvbiA9PT0gXCJza2lsbFwiKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgXCIvYXNzZXRzL2NoYXJhY3Rlci9cIiArXG4gICAgICAgICAgcGF5bG9hZC5uYW1lSWQuc2xpY2UoMCwgLTEpICtcbiAgICAgICAgICBcIi9za2lsbFwiICtcbiAgICAgICAgICAocGF5bG9hZC5za2lsbCArIDEpICtcbiAgICAgICAgICBcIi9hdmF0YXIuanBnXCJcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9uID09PSBcInN0YXR1c1wiKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgXCIvYXNzZXRzL2NoYXJhY3Rlci9cIiArXG4gICAgICAgICAgcGF5bG9hZC5uYW1lSWQuc2xpY2UoMCwgLTEpICtcbiAgICAgICAgICBcIi9za2lsbFwiICtcbiAgICAgICAgICBwYXlsb2FkLnNraWxsICtcbiAgICAgICAgICBcIi9hdmF0YXIuanBnXCJcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9uID09PSBcInRhcmdldGluZ1wiKSB7XG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMucGFja2V0LmZpbmRJbmRleCh4ID0+IHgub2ZmZW5zZSA9PT0gcGF5bG9hZC5uYW1lKTtcbiAgICAgICAgbGV0IHNraWxsSWQgPSB0aGlzLnBhY2tldFtpbmRleF0uc2tpbGxJZDtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBcIi9hc3NldHMvY2hhcmFjdGVyL1wiICtcbiAgICAgICAgICBwYXlsb2FkLm5hbWVJZC5zbGljZSgwLCAtMSkgK1xuICAgICAgICAgIFwiL3NraWxsXCIgK1xuICAgICAgICAgIChza2lsbElkICsgMSkgK1xuICAgICAgICAgIFwiL2F2YXRhci5qcGdcIlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0sXG4gICAgdGFyZ2V0aW5nQ3VlOiBmdW5jdGlvbihwYXlsb2FkKSB7XG4gICAgICBsZXQgbmFtZSA9IHBheWxvYWQ7XG4gICAgICBsZXQgaW5kZXggPSB0aGlzLnBhY2tldC5maW5kSW5kZXgoeCA9PiB4Lm9mZmVuc2UgPT09IHBheWxvYWQpO1xuICAgICAgbGV0IHBhY2tldCA9IHRoaXMucGFja2V0W2luZGV4XTtcblxuICAgICAgbGV0IHJlc3VsdCA9IHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgc2tpbGxJbmRleDogcGFja2V0LnNraWxsLFxuICAgICAgICBza2lsbElkOiBwYWNrZXQuc2tpbGxJZCxcbiAgICAgICAgaGVyb0luZGV4OiBwYWNrZXQuaGVyb0luZGV4LFxuICAgICAgICB0YXJnZXQ6IHBhY2tldC50YXJnZXRcbiAgICAgIH07XG4gICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfVxufSk7XG4iLCJmdW5jdGlvbiBlbmVyZ3lNYW5hZ2VtZW50KHRlbXBvcmFyeSwgb3B0aW9uKSB7XG4gIGxldCBlbmVyZ3kgPSB0ZW1wb3JhcnkuZW5lcmd5ID8gdGVtcG9yYXJ5LmVuZXJneSA6IGFwcC5zb3VyY2UuZW5lcmd5LmFsbHk7XG4gIGxldCBza2lsbCA9IHRlbXBvcmFyeS5za2lsbEJpbmRcbiAgICA/IHRlbXBvcmFyeS5za2lsbEJpbmRcbiAgICA6IGFwcC5zb3VyY2UuYWxseVt0ZW1wb3JhcnkuaGVyb0luZGV4XS5za2lsbFt0ZW1wb3Jhcnkuc2tpbGxdLmVuZXJneTtcbiAgbGV0IHRvdGFsID0ge1xuICAgIGVuZXJneTogZW5lcmd5LmEgKyBlbmVyZ3kuaSArIGVuZXJneS5zICsgZW5lcmd5LncsXG4gICAgc2tpbGw6IHNraWxsLmEgKyBza2lsbC5pICsgc2tpbGwucyArIHNraWxsLndcbiAgfTtcblxuICBpZiAob3B0aW9uID09PSBcInN1YnN0cmFjdFwiKSB7XG4gICAgaWYgKHNraWxsLmEgPiAwKSB7XG4gICAgICBlbmVyZ3kuYSAtPSBza2lsbC5hO1xuICAgICAgZW5lcmd5LnIgLT0gc2tpbGwuYTtcbiAgICB9XG4gICAgaWYgKHNraWxsLmkgPiAwKSB7XG4gICAgICBlbmVyZ3kuaSAtPSBza2lsbC5pO1xuICAgICAgZW5lcmd5LnIgLT0gc2tpbGwuaTtcbiAgICB9XG4gICAgaWYgKHNraWxsLnMgPiAwKSB7XG4gICAgICBlbmVyZ3kucyAtPSBza2lsbC5zO1xuICAgICAgZW5lcmd5LnIgLT0gc2tpbGwucztcbiAgICB9XG4gICAgaWYgKHNraWxsLncgPiAwKSB7XG4gICAgICBlbmVyZ3kudyAtPSBza2lsbC53O1xuICAgICAgZW5lcmd5LnIgLT0gc2tpbGwudztcbiAgICB9XG4gICAgaWYgKHNraWxsLnIgPiAwKSB7XG4gICAgICBlbmVyZ3kuciAtPSBza2lsbC5yO1xuICAgICAgYXBwLnN0YXRlLmVuZXJneS5yYW5kb20gKz0gc2tpbGwucjtcbiAgICB9XG4gIH0gZWxzZSBpZiAob3B0aW9uID09PSBcImFkZFwiKSB7XG4gICAgaWYgKHNraWxsLmEgPiAwKSB7XG4gICAgICBlbmVyZ3kuYSArPSBza2lsbC5hO1xuICAgICAgZW5lcmd5LnIgKz0gc2tpbGwuYTtcbiAgICB9XG4gICAgaWYgKHNraWxsLmkgPiAwKSB7XG4gICAgICBlbmVyZ3kuaSArPSBza2lsbC5pO1xuICAgICAgZW5lcmd5LnIgKz0gc2tpbGwuaTtcbiAgICB9XG4gICAgaWYgKHNraWxsLnMgPiAwKSB7XG4gICAgICBlbmVyZ3kucyArPSBza2lsbC5zO1xuICAgICAgZW5lcmd5LnIgKz0gc2tpbGwucztcbiAgICB9XG4gICAgaWYgKHNraWxsLncgPiAwKSB7XG4gICAgICBlbmVyZ3kudyArPSBza2lsbC53O1xuICAgICAgZW5lcmd5LnIgKz0gc2tpbGwudztcbiAgICB9XG4gICAgaWYgKHNraWxsLnIgPiAwKSB7XG4gICAgICBlbmVyZ3kuciArPSBza2lsbC5yO1xuICAgICAgYXBwLnN0YXRlLmVuZXJneS5yYW5kb20gLT0gc2tpbGwucjtcbiAgICB9XG4gIH0gZWxzZSBpZiAob3B0aW9uID09PSBcImNoZWNrXCIpIHtcbiAgICBsZXQgYWN0aXZlID0gdHJ1ZTtcbiAgICBpZiAodG90YWwuZW5lcmd5ID49IHRvdGFsLnNraWxsKSB7XG4gICAgICBsZXQgY291bnQgPSBbdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZV07XG4gICAgICBpZiAoc2tpbGwuYSA+PSAwKSB7XG4gICAgICAgIGNvdW50WzBdID0gZW5lcmd5LmEgPj0gc2tpbGwuYSA/IGZhbHNlIDogdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChza2lsbC5pID49IDApIHtcbiAgICAgICAgY291bnRbMV0gPSBlbmVyZ3kuaSA+PSBza2lsbC5pID8gZmFsc2UgOiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHNraWxsLnMgPj0gMCkge1xuICAgICAgICBjb3VudFsyXSA9IGVuZXJneS5zID49IHNraWxsLnMgPyBmYWxzZSA6IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoc2tpbGwudyA+PSAwKSB7XG4gICAgICAgIGNvdW50WzNdID0gZW5lcmd5LncgPj0gc2tpbGwudyA/IGZhbHNlIDogdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChza2lsbC5yID49IDApIHtcbiAgICAgICAgY291bnRbNF0gPSBlbmVyZ3kuciA+PSB0b3RhbC5za2lsbCArIHNraWxsLnIgPyBmYWxzZSA6IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChjb3VudC5maWx0ZXIoeCA9PiB4ID09PSBmYWxzZSkubGVuZ3RoID09PSA1KSB7XG4gICAgICAgIGFjdGl2ZSA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWN0aXZlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFjdGl2ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBidXR0b25NYW5hZ2VtZW50KHBheWxvYWQsIG9wdGlvbikge1xuICAvL1RhcmdldCBCdXR0b25cbiAgaWYgKG9wdGlvbiAhPT0gXCJvblNlbGZcIikge1xuICAgIGlmIChwYXlsb2FkLmFpbSA9PT0gXCJlbmVteVwiKSB7XG4gICAgICBhcHAuc3RhdGUuYnV0dG9uLmVuZW15LmZvckVhY2goeCA9PiB7XG4gICAgICAgIC8vRGVmaW5lXG4gICAgICAgIGxldCBza2lsbCA9IGFwcC5zb3VyY2UuYWxseVtwYXlsb2FkLmhlcm9JbmRleF0uc2tpbGxbcGF5bG9hZC5za2lsbF07XG4gICAgICAgIGxldCBlbmVteVN0YXR1cyA9IGFwcC5zb3VyY2UuZW5lbXlbeC5pbmRleF0uc3RhdHVzO1xuXG4gICAgICAgIC8vSW52dWxuZXJhYmlsaXR5XG4gICAgICAgIGxldCBzdGF0ZSA9IGVuZW15U3RhdHVzLm9uU3RhdGU7XG4gICAgICAgIGxldCBpbnZ1bG5lcmFibGUgPSBpbnZ1bG5lcmFibGVNYW5hZ2VtZW50KHN0YXRlLCBza2lsbCk7XG5cbiAgICAgICAgLy9EaXNhYmxlXG4gICAgICAgIHguYnV0dG9uID0geC5kaXNhYmxlZCB8fCBpbnZ1bG5lcmFibGUgPyB0cnVlIDogIXguYnV0dG9uO1xuXG4gICAgICAgIC8vSWdub3JlXG4gICAgICAgIGxldCBpZ25vcmUgPSBpZ25vcmVNYW5hZ2VtZW50KHN0YXRlLCBza2lsbCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGlnbm9yZSk7XG5cbiAgICAgICAgLy9QcmV2ZW50IEludnVsbmVyYWJpbGl0eVxuICAgICAgICBpZiAoXG4gICAgICAgICAgb3B0aW9uID09PSBcIm9uU2tpbGxcIiAmJlxuICAgICAgICAgIGVuZW15U3RhdHVzLm9uU3RhdGUuc29tZSh4ID0+IHgudHlwZSA9PT0gXCJkaXNhYmxlRHJJdlwiKSAmJlxuICAgICAgICAgIGlnbm9yZSA9PT0gZmFsc2VcbiAgICAgICAgKSB7XG4gICAgICAgICAgeC5idXR0b24gPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vTWFya2luZ1xuICAgICAgICBpZiAocGF5bG9hZC5tYXJraW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgbGV0IHNraWxsTmFtZSA9IHNraWxsLm5hbWU7XG4gICAgICAgICAgbGV0IG1hcmtpbmcgPVxuICAgICAgICAgICAgZW5lbXlTdGF0dXMub25SZWNlaXZlLnNvbWUoeCA9PiB4Lm5hbWUgPT09IHNraWxsTmFtZSkgfHxcbiAgICAgICAgICAgIGVuZW15U3RhdHVzLm9uU3RhdGUuc29tZSh4ID0+IHgubmFtZSA9PT0gc2tpbGxOYW1lKTtcbiAgICAgICAgICBpZiAobWFya2luZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgeC5idXR0b24gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChwYXlsb2FkLmFpbSA9PT0gXCJlbmVteWxvY2tcIikge1xuICAgICAgYXBwLnN0YXRlLmJ1dHRvbi5lbmVteS5mb3JFYWNoKHggPT4ge1xuICAgICAgICAvL0RlZmluZVxuICAgICAgICBsZXQgc2tpbGwgPSBhcHAuc291cmNlLmFsbHlbcGF5bG9hZC5oZXJvSW5kZXhdLnNraWxsW3BheWxvYWQuc2tpbGxdO1xuICAgICAgICBsZXQgZW5lbXlTdGF0dXMgPSBhcHAuc291cmNlLmVuZW15W3guaW5kZXhdLnN0YXR1cztcbiAgICAgICAgbGV0IGxvY2sgPSBlbmVteVN0YXR1cy5vblN0YXRlLnNvbWUoXG4gICAgICAgICAgeCA9PiB4LnR5cGUgPT09IFwic3RhdGVcIiAmJiB4LmluZm8gPT09IHNraWxsLm5hbWVcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAobG9jayA9PT0gdHJ1ZSkge1xuICAgICAgICAgIC8vSW52dWxuZXJhYmlsaXR5XG4gICAgICAgICAgbGV0IHN0YXRlID0gZW5lbXlTdGF0dXMub25TdGF0ZTtcbiAgICAgICAgICBsZXQgaW52dWxuZXJhYmxlID0gaW52dWxuZXJhYmxlTWFuYWdlbWVudChzdGF0ZSwgc2tpbGwpO1xuXG4gICAgICAgICAgLy9EaXNhYmxlXG4gICAgICAgICAgeC5idXR0b24gPSB4LmRpc2FibGVkIHx8IGludnVsbmVyYWJsZSA/IHRydWUgOiAheC5idXR0b247XG5cbiAgICAgICAgICAvL0lnbm9yZVxuICAgICAgICAgIGxldCBpZ25vcmUgPSBpZ25vcmVNYW5hZ2VtZW50KHN0YXRlLCBza2lsbCk7XG4gICAgICAgICAgY29uc29sZS5sb2coaW52dWxuZXJhYmxlKTtcblxuICAgICAgICAgIC8vUHJldmVudCBJbnZ1bG5lcmFiaWxpdHlcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBvcHRpb24gPT09IFwib25Ta2lsbFwiICYmXG4gICAgICAgICAgICBlbmVteVN0YXR1cy5vblN0YXRlLnNvbWUoeCA9PiB4LnR5cGUgPT09IFwiZGlzYWJsZURySXZcIikgJiZcbiAgICAgICAgICAgIGlnbm9yZSA9PT0gZmFsc2VcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHguYnV0dG9uID0gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy9NYXJraW5nXG4gICAgICAgICAgaWYgKHBheWxvYWQubWFya2luZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgbGV0IHNraWxsTmFtZSA9IHNraWxsLm5hbWU7XG4gICAgICAgICAgICBsZXQgbWFya2luZyA9XG4gICAgICAgICAgICAgIGVuZW15U3RhdHVzLm9uUmVjZWl2ZS5zb21lKHggPT4geC5uYW1lID09PSBza2lsbE5hbWUpIHx8XG4gICAgICAgICAgICAgIGVuZW15U3RhdHVzLm9uU3RhdGUuc29tZSh4ID0+IHgubmFtZSA9PT0gc2tpbGxOYW1lKTtcbiAgICAgICAgICAgIGlmIChtYXJraW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgIHguYnV0dG9uID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBwYXlsb2FkLmFpbSA9PT0gXCJhbGxlbmVteVwiIHx8XG4gICAgICBwYXlsb2FkLmFpbSA9PT0gXCJyYW5kb21lbmVteVwiIHx8XG4gICAgICBwYXlsb2FkLmFpbSA9PT0gXCJhbGxlbmVteWFsbGFsbHlcIlxuICAgICkge1xuICAgICAgYXBwLnN0YXRlLmJ1dHRvbi5lbmVteS5mb3JFYWNoKHggPT4ge1xuICAgICAgICAvL0RlZmluZVxuICAgICAgICBsZXQgc2tpbGwgPSBhcHAuc291cmNlLmFsbHlbcGF5bG9hZC5oZXJvSW5kZXhdLnNraWxsW3BheWxvYWQuc2tpbGxdO1xuICAgICAgICBsZXQgZW5lbXlTdGF0dXMgPSBhcHAuc291cmNlLmVuZW15W3guaW5kZXhdLnN0YXR1cztcblxuICAgICAgICAvL0ludnVsbmVyYWJpbGl0eVxuICAgICAgICBsZXQgc3RhdGUgPSBlbmVteVN0YXR1cy5vblN0YXRlO1xuICAgICAgICBsZXQgaW52dWxuZXJhYmxlID0gaW52dWxuZXJhYmxlTWFuYWdlbWVudChzdGF0ZSwgc2tpbGwpO1xuXG4gICAgICAgIC8vRGlzYWJsZVxuICAgICAgICB4LmJ1dHRvbiA9IHguZGlzYWJsZWQgfHwgaW52dWxuZXJhYmxlID8gdHJ1ZSA6ICF4LmJ1dHRvbjtcblxuICAgICAgICAvL1ByZXZlbnQgSW52dWxuZXJhYmlsaXR5XG4gICAgICAgIGlmIChcbiAgICAgICAgICBvcHRpb24gPT09IFwib25Ta2lsbFwiICYmXG4gICAgICAgICAgZW5lbXlTdGF0dXMub25TdGF0ZS5zb21lKHggPT4geC50eXBlID09PSBcImRpc2FibGVEckl2XCIpXG4gICAgICAgICkge1xuICAgICAgICAgIHguYnV0dG9uID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocGF5bG9hZC5haW0gPT09IFwiYWxseVwiIHx8IHBheWxvYWQuYWltID09PSBcImFsbGFsbHlcIikge1xuICAgICAgYXBwLnN0YXRlLmJ1dHRvbi5hbGx5LmZvckVhY2goXG4gICAgICAgIHggPT4gKHguYnV0dG9uID0geC5kaXNhYmxlZCA/IHRydWUgOiAheC5idXR0b24pXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAocGF5bG9hZC5haW0gPT09IFwib3RoZXJhbGx5XCIpIHtcbiAgICAgIGFwcC5zdGF0ZS5idXR0b24uYWxseS5mb3JFYWNoKHggPT4ge1xuICAgICAgICBsZXQgbmFtZSA9IGFwcC5zdGF0ZS5idXR0b24uYWxseVtwYXlsb2FkLmhlcm9JbmRleF0ubmFtZTtcbiAgICAgICAgaWYgKHgubmFtZSAhPT0gbmFtZSkge1xuICAgICAgICAgIHguYnV0dG9uID0geC5kaXNhYmxlZCA/IHRydWUgOiAheC5idXR0b247XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocGF5bG9hZC5haW0gPT09IFwic2VsZlwiKSB7XG4gICAgICBsZXQgYWxseSA9IGFwcC5zdGF0ZS5idXR0b24uYWxseVtwYXlsb2FkLmhlcm9JbmRleF07XG4gICAgICBhbGx5LmJ1dHRvbiA9IGFsbHkuZGlzYWJsZWQgPyB0cnVlIDogIWFsbHkuYnV0dG9uO1xuICAgIH1cbiAgfVxuXG4gIC8vU2tpbGwgQnV0dG9uXG4gIGlmIChvcHRpb24gPT09IFwib25UYXJnZXRcIikge1xuICAgIGNvbnNvbGUubG9nKFwib25Ta2lsbFwiKTtcbiAgICBhcHAuc3RhdGUuYnV0dG9uLmFsbHkuZm9yRWFjaCh4ID0+IHtcbiAgICAgIGlmICh4Lm9uU2tpbGwgPT09IGZhbHNlKSB7XG4gICAgICAgIHguc2tpbGwuZm9yRWFjaChzID0+IHtcbiAgICAgICAgICBzLmJ1dHRvbiA9IHRydWU7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgeC5uYW1lID09PSBwYXlsb2FkLm9mZmVuc2UgJiZcbiAgICAgICAgICAgIHMubmFtZSA9PT1cbiAgICAgICAgICAgICAgYXBwLnNvdXJjZS5hbGx5W3BheWxvYWQuaGVyb0luZGV4XS5za2lsbFtwYXlsb2FkLnNraWxsXS5uYW1lXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzLmJ1dHRvbiA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgaWYgKG9wdGlvbiA9PT0gXCJvbkNhbmNlbFwiKSB7XG4gICAgY29uc29sZS5sb2coXCJvbkNhbmNlbFwiKTtcbiAgICBhcHAuc3RhdGUuYnV0dG9uLmFsbHkuZm9yRWFjaCh4ID0+IHtcbiAgICAgIGlmICh4Lm9uU2tpbGwgPT09IGZhbHNlIHx8IHgubmFtZSA9PT0gcGF5bG9hZC5vZmZlbnNlKSB7XG4gICAgICAgIHguc2tpbGwuZm9yRWFjaChzID0+IHtcbiAgICAgICAgICBzLmJ1dHRvbiA9IHMuZGlzYWJsZWQgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgeC5uYW1lID09PSBwYXlsb2FkLm9mZmVuc2UgJiZcbiAgICAgICAgICAgIHMubmFtZSA9PT1cbiAgICAgICAgICAgICAgYXBwLnNvdXJjZS5hbGx5W3BheWxvYWQuaGVyb0luZGV4XS5za2lsbFtwYXlsb2FkLnNraWxsXS5uYW1lXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzLmJ1dHRvbiA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAob3B0aW9uID09PSBcIm9uVGFyZ2V0XCIpIHtcbiAgICBjb25zb2xlLmxvZyhcIm9uVGFyZ2V0XCIpO1xuICAgIGFwcC5zdGF0ZS5idXR0b24uYWxseS5mb3JFYWNoKHggPT4ge1xuICAgICAgbGV0IGluZGV4ID0gYXBwLnBhY2tldC5maW5kSW5kZXgocyA9PiBzLm9mZmVuc2UgPT09IHgubmFtZSk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHguc2tpbGwuZm9yRWFjaChzID0+IHtcbiAgICAgICAgICBzLmJ1dHRvbiA9IHMuZGlzYWJsZWQgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2UgaWYgKG9wdGlvbiA9PT0gXCJvblNlbGZcIikge1xuICAgIGNvbnNvbGUubG9nKFwib25TZWxmXCIpO1xuICAgIGFwcC5zdGF0ZS5idXR0b24uYWxseVtwYXlsb2FkLmhlcm9JbmRleF0uc2tpbGwuZm9yRWFjaChzID0+IHtcbiAgICAgIHMuYnV0dG9uID0gcy5kaXNhYmxlZCA/IHRydWUgOiBmYWxzZTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vRW5lcmd5IE1hbmFnZW1lbnRcbiAgaWYgKG9wdGlvbiAhPT0gXCJvblNraWxsXCIpIHtcbiAgICBhcHAuc3RhdGUuYnV0dG9uLmFsbHkuZm9yRWFjaCgoeCwgeGkpID0+IHtcbiAgICAgIGlmICh4Lm9uU2tpbGwgPT09IGZhbHNlICYmIHgubmFtZSAhPT0gcGF5bG9hZC5vZmZlbnNlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHgubmFtZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKG9wdGlvbik7XG4gICAgICAgIHguc2tpbGwuZm9yRWFjaCgocywgc2kpID0+IHtcbiAgICAgICAgICBsZXQgZW5lcmd5ID0gZW5lcmd5TWFuYWdlbWVudCh7IGhlcm9JbmRleDogeGksIHNraWxsOiBzaSB9LCBcImNoZWNrXCIpO1xuICAgICAgICAgIHMuYnV0dG9uID0gcy5kaXNhYmxlZCB8fCBlbmVyZ3kgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgeC5uYW1lID09PSBwYXlsb2FkLm9mZmVuc2UgJiZcbiAgICAgICAgICAgIHMubmFtZSA9PT1cbiAgICAgICAgICAgICAgYXBwLnNvdXJjZS5hbGx5W3BheWxvYWQuaGVyb0luZGV4XS5za2lsbFtwYXlsb2FkLnNraWxsXS5uYW1lXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzLmJ1dHRvbiA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgKG9wdGlvbiA9PT0gXCJvblNlbGZcIiB8fCBvcHRpb24gPT09IFwib25DYW5jZWxcIikgJiZcbiAgICAgICAgeC5uYW1lID09PSBwYXlsb2FkLm9mZmVuc2VcbiAgICAgICkge1xuICAgICAgICB4LnNraWxsLmZvckVhY2goKHMsIHNpKSA9PiB7XG4gICAgICAgICAgbGV0IGVuZXJneSA9IGVuZXJneU1hbmFnZW1lbnQoeyBoZXJvSW5kZXg6IHhpLCBza2lsbDogc2kgfSwgXCJjaGVja1wiKTtcbiAgICAgICAgICBzLmJ1dHRvbiA9IHMuZGlzYWJsZWQgfHwgZW5lcmd5ID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdHVuTWFuYWdlbWVudChvblN0YXRlLCBza2lsbCkge1xuICBsZXQgc3R1biA9IG9uU3RhdGUubWFwKHggPT4ge1xuICAgIGlmICh4LnR5cGUgPT09IFwic3R1blwiKSB7XG4gICAgICBsZXQgaWdub3JlID0gaWdub3JlTWFuYWdlbWVudChvblN0YXRlLCB4KTtcbiAgICAgIGxldCBpbnRlcnNlY3QgPSBfLmludGVyc2VjdGlvbih4LmNsYXNzZXMsIHNraWxsLmNsYXNzZXMpO1xuXG4gICAgICBsZXQgZXZhbHVhdGU7XG5cbiAgICAgIGlmICh4LmluZm8gPT09IFwiaW5jbHVzaXZlXCIpIHtcbiAgICAgICAgZXZhbHVhdGUgPSBpbnRlcnNlY3QubGVuZ3RoID4gMCA/IHRydWUgOiBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAoeC5pbmZvID09PSBcImRlY2x1c2l2ZVwiKSB7XG4gICAgICAgIGV2YWx1YXRlID0gaW50ZXJzZWN0Lmxlbmd0aCA9PT0gMCA/IHRydWUgOiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2YWx1YXRlICYmICFpZ25vcmUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBpZiAoc3R1bi5maWx0ZXIoeCA9PiB4ID09PSB0cnVlKS5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGludnVsbmVyYWJsZU1hbmFnZW1lbnQob25TdGF0ZSwgc2tpbGwpIHtcbiAgbGV0IGludnVsbmVyYWJsZSA9IG9uU3RhdGUubWFwKHggPT4ge1xuICAgIGlmICh4LnR5cGUgPT09IFwiaW52dWxuZXJhYmxlXCIpIHtcbiAgICAgIGxldCBpZ25vcmVJbnZ1bCA9IHNraWxsLmlnbm9yZUludnVsO1xuICAgICAgbGV0IGludGVyc2VjdCA9IF8uaW50ZXJzZWN0aW9uKHguY2xhc3Nlcywgc2tpbGwuY2xhc3Nlcyk7ICAgICAgXG5cbiAgICAgIGxldCBldmFsdWF0ZTtcblxuICAgICAgaWYgKHguaW5mbyA9PT0gXCJpbmNsdXNpdmVcIikge1xuICAgICAgICBldmFsdWF0ZSA9IGludGVyc2VjdC5sZW5ndGggPiAwID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmICh4LmluZm8gPT09IFwiZGVjbHVzaXZlXCIpIHtcbiAgICAgICAgZXZhbHVhdGUgPSBpbnRlcnNlY3QubGVuZ3RoID09PSAwID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZhbHVhdGUgJiYgIWlnbm9yZUludnVsKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgaWYgKGludnVsbmVyYWJsZS5maWx0ZXIoeCA9PiB4ID09PSB0cnVlKS5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlnbm9yZU1hbmFnZW1lbnQob25TdGF0ZSwgc2tpbGwpIHtcbiAgbGV0IGlnbm9yZSA9IG9uU3RhdGUubWFwKHggPT4ge1xuICAgIGlmICh4LnR5cGUgPT09IFwiaWdub3JlXCIpIHtcbiAgICAgIGxldCBpbnRlcnNlY3QgPSBfLmludGVyc2VjdGlvbih4LmNsYXNzZXMsIHNraWxsLmNsYXNzZXMpO1xuXG4gICAgICBsZXQgZXZhbHVhdGU7XG5cbiAgICAgIGlmICh4LmluZm8gPT09IFwiaW5jbHVzaXZlXCIpIHtcbiAgICAgICAgZXZhbHVhdGUgPSBpbnRlcnNlY3QubGVuZ3RoID4gMCA/IHRydWUgOiBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAoeC5pbmZvID09PSBcImRlY2x1c2l2ZVwiKSB7XG4gICAgICAgIGV2YWx1YXRlID0gaW50ZXJzZWN0Lmxlbmd0aCA9PT0gMCA/IHRydWUgOiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2YWx1YXRlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgaWYgKGlnbm9yZS5maWx0ZXIoeCA9PiB4ID09PSB0cnVlKS5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4iLCJmdW5jdGlvbiB2dWVCaW5kKHBheWxvYWQpIHtcbiAgbGV0IHVzZXJuYW1lID0gZ2V0Q29va2llKFwidXNlcm5hbWVcIik7XG4gIGlmIChwYXlsb2FkLnRlYW0udGVhbUV2ZW4gIT09IHVzZXJuYW1lICYmIHBheWxvYWQudGVhbS50ZWFtT2RkICE9PSB1c2VybmFtZSkge1xuICAgIGNvbnNvbGUubG9nKHBheWxvYWQudGVhbSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnNvbGUubG9nKHBheWxvYWQpO1xuICBsZXQgYWxseSA9IHBheWxvYWQudGVhbS50ZWFtRXZlbiA9PT0gdXNlcm5hbWUgPyBcInRlYW1FdmVuXCIgOiBcInRlYW1PZGRcIjtcbiAgbGV0IGVuZW15ID0gcGF5bG9hZC50ZWFtLnRlYW1FdmVuID09PSB1c2VybmFtZSA/IFwidGVhbU9kZFwiIDogXCJ0ZWFtRXZlblwiO1xuICBsZXQgdHVybiA9IGFsbHkgPT09IFwidGVhbUV2ZW5cIiA/IDAgOiAxO1xuICBsZXQgbXlUdXJuID0gcGF5bG9hZC50dXJuICUgMiA9PT0gdHVybiA/IHRydWUgOiBmYWxzZTtcblxuICBpZiAobXlUdXJuID09PSB0cnVlKSB7XG4gICAgYXBwLiRyZWZzLnNvdW5kU3RhcnRUdXJuLnBsYXkoKTtcbiAgfVxuXG4gIC8vIGlmIChwYXlsb2FkLndpbm5lci5zdGF0ZSA9PT0gdHJ1ZSAmJiBwYXlsb2FkLndpbm5lci5uYW1lID09PSB1c2VybmFtZSkge1xuICAvLyB9IGVsc2UgaWYgKFxuICAvLyAgIHBheWxvYWQud2lubmVyLnN0YXRlID09PSB0cnVlICYmXG4gIC8vICAgcGF5bG9hZC53aW5uZXIubmFtZSAhPT0gdXNlcm5hbWVcbiAgLy8gKSB7XG4gIC8vICAgYXBwLiRyZWZzLnNvdW5kTG9zZS5wbGF5KCk7XG4gIC8vIH1cblxuICBsZXQgc3RvcmUgPSB7XG4gICAgZW5lcmd5OiB7XG4gICAgICBhbGx5OiBwYXlsb2FkLmVuZXJneVthbGx5XSxcbiAgICAgIGVuZW15OiBwYXlsb2FkLmVuZXJneVtlbmVteV1cbiAgICB9LFxuICAgIGFsbHk6IHBheWxvYWRbYWxseV0ubWFwKHggPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ueCxcbiAgICAgICAgaW5kaWNhdG9yOiBzdGF0dXNWaWV3KHgubmFtZSwgeC5zdGF0dXMpXG4gICAgICB9O1xuICAgIH0pLFxuICAgIGVuZW15OiBwYXlsb2FkW2VuZW15XS5tYXAoeCA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi54LFxuICAgICAgICBpbmRpY2F0b3I6IHN0YXR1c1ZpZXcoeC5uYW1lLCB4LnN0YXR1cylcbiAgICAgIH07XG4gICAgfSksXG4gICAgdHVybjogcGF5bG9hZC50dXJuLFxuICAgIG15VHVybjogbXlUdXJuLFxuICAgIHJvb206IHBheWxvYWQucm9vbSxcbiAgICBtZXRhOiB7XG4gICAgICBteU5hbWU6IHBheWxvYWQudGVhbVthbGx5XSxcbiAgICAgIHRoZWlyTmFtZTogcGF5bG9hZC50ZWFtW2VuZW15XSxcbiAgICB9XG4gIH07XG4gIHN0b3JlLmVuZXJneS5hbGx5LnIgPVxuICAgIHN0b3JlLmVuZXJneS5hbGx5LmEgK1xuICAgIHN0b3JlLmVuZXJneS5hbGx5LmkgK1xuICAgIHN0b3JlLmVuZXJneS5hbGx5LnMgK1xuICAgIHN0b3JlLmVuZXJneS5hbGx5Lnc7XG4gIGNvbnNvbGUubG9nKHN0b3JlKTtcbiAgbGV0IGJ1dHRvbiA9IHtcbiAgICBhbGx5OiBzdG9yZS5hbGx5Lm1hcCh4ID0+IHtcbiAgICAgIC8vIGxldCBkaXNhYmxlZCA9IHguc3RhdHVzLm9uU3RhdGUuZmluZEluZGV4KHggPT4geC50eXBlID09PSAnc3R1bicpID4gLTEgfHwgeC5ocCA8PSAwID8gdHJ1ZSA6IGZhbHNlXG4gICAgICBsZXQgZGlzYWJsZWQgPSB4LmhwIDw9IDAgPyB0cnVlIDogZmFsc2U7XG4gICAgICAvLyBsZXQgc3R1biA9IHguc3RhdHVzLm9uU3RhdGUuc29tZSh4ID0+IHgudHlwZSA9PT0gXCJzdHVuXCIpID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogeC5uYW1lLFxuICAgICAgICBidXR0b246IHRydWUsXG4gICAgICAgIG9uU2tpbGw6IGZhbHNlLFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgIHNraWxsOiB4LnNraWxsLm1hcChzID0+IHtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzLnR5cGUpO1xuICAgICAgICAgIGxldCBlbmVyZ3kgPSBlbmVyZ3lNYW5hZ2VtZW50KFxuICAgICAgICAgICAgeyBlbmVyZ3k6IHN0b3JlLmVuZXJneS5hbGx5LCBza2lsbEJpbmQ6IHMuZW5lcmd5IH0sXG4gICAgICAgICAgICBcImNoZWNrXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGxldCBzdHVuID0gc3R1bk1hbmFnZW1lbnQoeC5zdGF0dXMub25TdGF0ZSwgcyk7XG4gICAgICAgICAgLy8gbGV0IGRpc2FibGVEclZyID1cbiAgICAgICAgICAvLyAgIHMudHlwZSA9PT0gXCJpbnZ1bG5lcmFibGVcIiAmJlxuICAgICAgICAgIC8vICAgeC5zdGF0dXMub25TdGF0ZS5zb21lKHggPT4geC50eXBlID09PSBcImRpc2FibGVEckl2XCIpXG4gICAgICAgICAgLy8gICAgID8gdHJ1ZVxuICAgICAgICAgIC8vICAgICA6IGZhbHNlO1xuICAgICAgICAgIGxldCBkaXNhYmxlZCA9XG4gICAgICAgICAgICBzdHVuIHx8XG4gICAgICAgICAgICBzLnJlcXVpcmVkIHx8XG4gICAgICAgICAgICBzLnN0YXRlID09PSBcImNvb2xkb3duXCIgfHxcbiAgICAgICAgICAgIG15VHVybiA9PT0gZmFsc2UgfHxcbiAgICAgICAgICAgIHguaHAgPD0gMFxuICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgOiBmYWxzZTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogcy5uYW1lLFxuICAgICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICAgICAgYnV0dG9uOiBkaXNhYmxlZCB8fCBlbmVyZ3kgPyB0cnVlIDogZmFsc2VcbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgfTtcbiAgICB9KSxcbiAgICBlbmVteTogc3RvcmUuZW5lbXkubWFwKCh4LCBpKSA9PiB7XG4gICAgICAvLyBsZXQgZGlzYWJsZWQgPVxuICAgICAgLy8gICB4LnN0YXR1cy5vblN0YXRlLnNvbWUoeCA9PiB4LnR5cGUgPT09IFwiaW52dWxuZXJhYmxlXCIpIHx8IHguaHAgPD0gMFxuICAgICAgLy8gICAgID8gdHJ1ZVxuICAgICAgLy8gICAgIDogZmFsc2U7XG4gICAgICBsZXQgZGlzYWJsZWQgPSB4LmhwIDw9IDAgPyB0cnVlIDogZmFsc2U7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiB4Lm5hbWUsXG4gICAgICAgIGluZGV4OiBpLFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgIGJ1dHRvbjogdHJ1ZVxuICAgICAgfTtcbiAgICB9KVxuICB9O1xuICBhcHAuc291cmNlID0gc3RvcmU7XG4gIGFwcC5zdGF0ZS5idXR0b24gPSBidXR0b247XG4gIGFwcC5zdGF0ZS50aW1lci50dXJuID0gMTAwO1xuICBhcHAuc3RhdGUud2lubmVyID0gcGF5bG9hZC53aW5uZXI7XG59XG5cbmZ1bmN0aW9uIHN0YXR1c1ZpZXcobmFtZSwgcGF5bG9hZCkge1xuICAvLyBjb25zb2xlLmxvZyhuYW1lLCBwYXlsb2FkKTtcbiAgbGV0IHN0YXR1cyA9IF8uY29uY2F0KFxuICAgIHBheWxvYWQub25BdHRhY2ssXG4gICAgcGF5bG9hZC5vblJlY2VpdmUsXG4gICAgcGF5bG9hZC5vblN0YXRlLFxuICAgIHBheWxvYWQub25TZWxmXG4gICk7XG4gIGxldCBncm91cEJ5TmFtZUlkID0gXy5ncm91cEJ5KHN0YXR1cywgXCJuYW1lSWRcIik7XG4gIGxldCB2YWx1ZXNCeU5hbWVJZCA9IF8udmFsdWVzKGdyb3VwQnlOYW1lSWQpO1xuICBsZXQgZ3JvdXBCeVNraWxsSW5kZXggPSB2YWx1ZXNCeU5hbWVJZC5tYXAoeCA9PiBfLmdyb3VwQnkoeCwgXCJza2lsbEluZGV4XCIpKTtcbiAgbGV0IHZhbHVlc0J5U2tpbGxJbmRleCA9IF8udmFsdWVzKGdyb3VwQnlTa2lsbEluZGV4KTtcbiAgbGV0IGNvbmNhdFZhbHVlcyA9IFtdO1xuICB2YWx1ZXNCeVNraWxsSW5kZXguZm9yRWFjaCh4ID0+IHtcbiAgICBjb25jYXRWYWx1ZXMgPSBjb25jYXRWYWx1ZXMuY29uY2F0KF8udmFsdWVzKHgpKTtcbiAgfSk7XG4gIGxldCBmaW5hbCA9IGNvbmNhdFZhbHVlcy5tYXAoeCA9PiB7XG4gICAgbGV0IGluZm8gPSB4WzBdO1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBpbmZvLm5hbWUsXG4gICAgICBuYW1lSWQ6IGluZm8ubmFtZUlkLFxuICAgICAgc2tpbGxJbmRleDogaW5mby5za2lsbEluZGV4LFxuICAgICAgYWN0aXZlOiBpbmZvLmFjdGl2ZSxcbiAgICAgIHZhbDogeFxuICAgIH07XG4gIH0pO1xuICByZXR1cm4gZmluYWw7XG59XG4iLCJmdW5jdGlvbiBpbml0aWF0ZSgpIHtcbiAgbGV0IHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KFwiL1wiKTtcbiAgbGV0IHJvb20gPSB1cmxbdXJsLmxlbmd0aCAtIDFdO1xuICBpZiAocm9vbSAhPT0gXCJcIikge1xuICAgIHNvY2tldC5lbWl0KFwiaW5pdGlhdGVcIiwge1xuICAgICAgcm9vbTogcm9vbVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIC8vIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKCcvJyk7XG4gIH1cbn1cblxuaW5pdGlhdGUoKTtcblxuc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICBpZiAoYXBwLnNvdXJjZS50dXJuID09IHVuZGVmaW5lZCB8fCBhcHAuc3RhdGUud2lubmVyLnN0YXRlICE9PSBmYWxzZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoYXBwLnN0YXRlLnRpbWVyLnR1cm4gPiAwKSB7XG4gICAgYXBwLnN0YXRlLnRpbWVyLnR1cm4gLT0gMi4yO1xuICB9IGVsc2UgaWYgKGFwcC5zdGF0ZS50aW1lci50dXJuIDw9IDAgJiYgYXBwLnNvdXJjZS5teVR1cm4gPT09IHRydWUpIHtcbiAgICAvLyBhcHAucGFja2V0ID0gYXBwLnBhY2tldC5maWx0ZXIoeCA9PiB4LnNraWxsICE9PSBudWxsICYmIHgub2ZmZW5zZSAhPT0gJycgJiYgeC50YXJnZXQgIT09ICcnICYmIHguYWltICE9PSAnJyAmJiB4Lmhlcm9JbmRleCAhPT0gbnVsbClcbiAgICAvLyBzb2NrZXQuZW1pdCgnc2VxdWVuY2UnLCB7XG4gICAgLy8gICAgIHBhY2tldDogYXBwLnBhY2tldCxcbiAgICAvLyAgICAgcm9vbTogYXBwLnNvdXJjZS5yb29tXG4gICAgLy8gfSlcbiAgICAvLyBhcHAucGFja2V0ID0gW11cbiAgfVxufSwgMTAwMCk7XG5cbndpbmRvdy5vbmZvY3VzID0gZnVuY3Rpb24oKSB7XG4gIGRvY3VtZW50LnRpdGxlID0gXCJBbmltZSBSdW1ibGVcIjtcbn07XG4iLCJzb2NrZXQub24oXCJhcHBseVwiLCBwYXlsb2FkID0+IHtcbiAgZG9jdW1lbnQudGl0bGUgPSBcIighKSBBbmltZSBSdW1ibGVcIjtcbiAgdnVlQmluZChwYXlsb2FkKTtcbn0pO1xuXG5zb2NrZXQub24oXCJub01hdGNoXCIsIHBheWxvYWQgPT4ge1xuICBjb25zb2xlLmxvZyhcIm5vbmVcIik7XG4gIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKFwiL1wiKTtcbn0pO1xuIiwiZnVuY3Rpb24gZ2V0UGFyYW1ldGVyTmFtZShuYW1lLCB1cmwpIHtcbiAgaWYgKCF1cmwpIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICBuYW1lID0gbmFtZS5yZXBsYWNlKC9bXFxbXFxdXS9nLCBcIlxcXFwkJlwiKTtcbiAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChcIls/Jl1cIiArIG5hbWUgKyBcIig9KFteJiNdKil8JnwjfCQpXCIpLFxuICAgIHJlc3VsdHMgPSByZWdleC5leGVjKHVybCk7XG4gIGlmICghcmVzdWx0cykgcmV0dXJuIG51bGw7XG4gIGlmICghcmVzdWx0c1syXSkgcmV0dXJuIFwiXCI7XG4gIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocmVzdWx0c1syXS5yZXBsYWNlKC9cXCsvZywgXCIgXCIpKTtcbn1cblxuY29uc3Qgc2V0Q29va2llID0gKG5hbWUsIHZhbHVlLCBkYXlzID0gNywgcGF0aCA9IFwiL1wiKSA9PiB7XG4gIGNvbnN0IGV4cGlyZXMgPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgZGF5cyAqIDg2NGU1KS50b0dNVFN0cmluZygpO1xuICBkb2N1bWVudC5jb29raWUgPVxuICAgIG5hbWUgK1xuICAgIFwiPVwiICtcbiAgICBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpICtcbiAgICBcIjsgZXhwaXJlcz1cIiArXG4gICAgZXhwaXJlcyArXG4gICAgXCI7IHBhdGg9XCIgK1xuICAgIHBhdGg7XG59O1xuXG5jb25zdCBnZXRDb29raWUgPSBuYW1lID0+IHtcbiAgcmV0dXJuIGRvY3VtZW50LmNvb2tpZS5zcGxpdChcIjsgXCIpLnJlZHVjZSgociwgdikgPT4ge1xuICAgIGNvbnN0IHBhcnRzID0gdi5zcGxpdChcIj1cIik7XG4gICAgcmV0dXJuIHBhcnRzWzBdID09PSBuYW1lID8gZGVjb2RlVVJJQ29tcG9uZW50KHBhcnRzWzFdKSA6IHI7XG4gIH0sIFwiXCIpO1xufTtcblxuY29uc3QgZGVsZXRlQ29va2llID0gKG5hbWUsIHBhdGgpID0+IHtcbiAgc2V0Q29va2llKG5hbWUsIFwiXCIsIC0xLCBwYXRoKTtcbn07XG4iXX0=
