"use strict";

var socket = io('/game');
"use strict";

Vue.use(VTooltip);
var app = new Vue({
  el: "#app",
  data: {
    message: "Hello Vuee.js!",
    source: {
      energy: {
        ally: {}
      }
    },
    packet: [],
    state: {
      skill: {
        offense: null,
        skill: null,
        target: null,
        aim: null
      },
      timer: {
        turn: 100
      },
      onSkill: false,
      button: {},
      description: null,
      winner: {
        state: false,
        name: ""
      },
      energy: {
        modal: false,
        random: 0
      },
      exchange: {
        modal: false,
        used: false,
        energy: {},
        val: ""
      }
    },
    showModal: true
  },
  methods: {
    onExchange: function onExchange(e) {
      //Sound
      this.$refs.soundClick.play();
      var state = this.state;
      this.source.energy.ally = e.energy;
      this.source.energy.ally.r = this.source.energy.ally.r - this.state.energy.random;
      state.exchange.energy = e.cost;
      state.exchange.modal = false;
      state.exchange.used = true;
      state.exchange.val = e.exchange;
      state.button.ally.forEach(function (x, xi) {
        if (x.onSkill === false) {
          console.log(x.name);
          x.skill.forEach(function (s, si) {
            var energy = energyManagement({
              heroIndex: xi,
              skill: si
            }, "check");
            s.button = s.disabled || energy ? true : false;
            console.log(energy, s.disabled, s.button);
          });
        }
      }); //Clean Skill Buffer

      if (state.skill.offense !== null && state.skill.target === null) {
        //Switch Choice
        //Button Management
        buttonManagement(state.skill, "onCancel"); //Clean Buffer

        state.skill = {
          offense: null,
          skill: null,
          skillId: null,
          target: null,
          aim: null,
          heroIndex: null
        };
      }
    },
    onDone: function onDone(e) {
      //Sound
      this.$refs.soundEndTurn.play(); //Define

      var state = this.state;
      var packet = e.packet; //Organize

      state.energy.modal = false;
      packet = packet.filter(function (x) {
        return x.skill !== null && x.offense !== null && x.target !== null && x.aim !== null && x.heroIndex !== null;
      });
      packet.unshift(e.energy);

      if (state.exchange.used === true) {
        packet.unshift({
          msg: "exchange",
          val: state.exchange.val
        }, state.exchange.energy);
        state.exchange.used = false;
      } //Send


      socket.emit("sequence", {
        packet: packet,
        room: this.source.room
      }); //Reset

      state.energy.random = 0;
      this.packet = [];
      state.skill = {
        offense: null,
        skill: null,
        skillId: null,
        target: null,
        aim: null,
        heroIndex: null
      };
    },
    onSkill: function onSkill(payload) {
      //Define and Switch State
      var state = this.state;
      var marking = this.source.ally[payload.heroIndex].skill[payload.skillIndex].marking;
      var temporary = {
        offense: payload.name,
        skill: payload.skillIndex,
        skillId: payload.skillId,
        target: null,
        aim: payload.target,
        heroIndex: payload.heroIndex,
        marking: marking
      }; //Is Skill Chosen?

      var isOnSkill = state.button.ally[temporary.heroIndex].onSkill;

      if (isOnSkill === false && state.skill.offense === null && state.skill.target === null) {
        //First Choice
        //Buffer Skill
        state.skill = temporary; //Button Management

        buttonManagement(temporary, "onSkill");
      } else if (isOnSkill === false && state.skill.offense !== null && state.skill.target === null) {
        //Switch Choice
        //Button Management
        buttonManagement(state.skill, "onCancel");
        setTimeout(function () {
          buttonManagement(temporary, "onSkill");
        }, 100); //Buffer Skill

        state.skill = temporary;
      } else if (isOnSkill === true) {
        //Cancel Choice
        energyManagement(temporary, "add"); //Button Management

        buttonManagement(state.skill, "onCancel");
        buttonManagement(temporary, "onSelf");
        this.packet = this.packet.filter(function (x) {
          return x.offense !== temporary.offense;
        }); //Clean Skill Buffer

        state.skill = {
          offense: null,
          skill: null,
          skillId: null,
          target: null,
          aim: null,
          heroIndex: null
        }; //State Management

        state.button.ally[temporary.heroIndex].onSkill = false;
      }
    },
    onTarget: function onTarget(payload) {
      //Sound
      this.$refs.soundClick.play(); //Define State

      var state = this.state; //Buffer Skill

      if (state.skill.aim === "allenemy" || state.skill.aim === "randomenemy") {
        state.skill.target = state.button.enemy.filter(function (x) {
          return x.disabled !== true && x.name !== payload.name;
        }).map(function (x) {
          return x.name;
        });
        state.skill.target.unshift(payload.name);
      } else if (state.skill.aim === "allally") {
        state.skill.target = state.button.ally.map(function (x) {
          return x.name;
        });
      } else if (state.skill.aim === "allenemyallally") {
        state.skill.target = state.button.enemy.filter(function (x) {
          return x.disabled !== true && x.name !== payload.name;
        }).map(function (x) {
          return x.name;
        });
        state.skill.target.unshift(payload.name);
        var ally = state.button.ally.map(function (x) {
          return x.name;
        });
        state.skill.target = state.skill.target.concat(ally);
      } else if (state.skill.aim === "otherally") {
        state.skill.target = state.button.ally.filter(function (x) {
          return x.name !== state.skill.offense;
        }).map(function (x) {
          return x.name;
        });
      } else {
        state.skill.target = [payload.name];
      } //Register Skill


      this.packet.push(this.state.skill); //Energy Management

      energyManagement(state.skill, "substract"); //Button Management
      // buttonManagement(state.skill, "onSkill");

      buttonManagement(state.skill, "onTarget"); //State Management

      state.button.ally[state.skill.heroIndex].onSkill = true; //Clean Skill Buffer

      state.skill = {
        offense: null,
        skill: null,
        skillId: null,
        target: null,
        aim: null,
        heroIndex: null
      };
    },
    onAttack: function onAttack(payload) {
      //Sound
      this.$refs.soundClick.play();
      this.state.energy.modal = true;
    },
    onDescription: function onDescription(payload) {
      //Sound
      this.$refs.soundClick.play();
      var state = this.state;
      var temporary = {
        offense: payload.name,
        skill: payload.skillIndex,
        target: "",
        aim: payload.target,
        heroIndex: payload.heroIndex
      }; //Buffer Skill

      state.description = {
        skill: temporary.skill,
        heroIndex: temporary.heroIndex
      };
    },
    onStatus: function onStatus(payload) {
      console.log(payload);

      var status = _.concat(payload.onAttack, payload.onReceive, payload.onState, payload.onSelf);

      console.log(status);

      var group = _.groupBy(status, "nameId");

      console.log(group);

      var subgroup = _.toArray(group).map(function (x) {
        return _.toArray(_.groupBy(x, "skillIndex"));
      });

      var prep = subgroup.map(function (x) {
        return x[0];
      });
      var final = prep.map(function (x) {
        console.log(x[0]);
        var info = x[0];
        return {
          nameId: info.nameId,
          status: info.skillIndex,
          val: x
        };
      });
      console.log(prep);
      console.log(final);
      return final; // let subgroup = group.map(x => _.groupBy(x, "skillIndex"));
    },
    onGetImage: function onGetImage(payload, option) {
      if (option === "packet") {
        var index = this.source.ally.findIndex(function (x) {
          return x.name === payload.offense;
        });
        var nameId = this.source.ally[index].nameId;
        return "/assets/character/" + nameId.slice(0, -1) + "/skill" + (payload.skill + 1) + "/avatar.jpg";
      } else if (option === "char") {
        return "/assets/character/" + payload.nameId.slice(0, -1) + "/avatar.jpg";
      } else if (option === "skill") {
        return "/assets/character/" + payload.nameId.slice(0, -1) + "/skill" + (payload.skill + 1) + "/avatar.jpg";
      } else if (option === "status") {
        return "/assets/character/" + payload.nameId.slice(0, -1) + "/skill" + payload.skill + "/avatar.jpg";
      } else if (option === "targeting") {
        var _index = this.packet.findIndex(function (x) {
          return x.offense === payload.name;
        });

        var skillId = this.packet[_index].skillId;
        return "/assets/character/" + payload.nameId.slice(0, -1) + "/skill" + (skillId + 1) + "/avatar.jpg";
      }
    },
    targetingCue: function targetingCue(payload) {
      var name = payload;
      var index = this.packet.findIndex(function (x) {
        return x.offense === payload;
      });
      var packet = this.packet[index];
      var result = {
        name: name,
        skillIndex: packet.skill,
        skillId: packet.skillId,
        heroIndex: packet.heroIndex,
        target: packet.target
      };
      console.log(result);
      return result;
    }
  }
});
"use strict";

function energyManagement(temporary, option) {
  var energy = temporary.energy ? temporary.energy : app.source.energy.ally;
  var skill = temporary.skillBind ? temporary.skillBind : app.source.ally[temporary.heroIndex].skill[temporary.skill].energy;
  var total = {
    energy: energy.a + energy.i + energy.s + energy.w,
    skill: skill.a + skill.i + skill.s + skill.w
  };

  if (option === "substract") {
    if (skill.a > 0) {
      energy.a -= skill.a;
      energy.r -= skill.a;
    }

    if (skill.i > 0) {
      energy.i -= skill.i;
      energy.r -= skill.i;
    }

    if (skill.s > 0) {
      energy.s -= skill.s;
      energy.r -= skill.s;
    }

    if (skill.w > 0) {
      energy.w -= skill.w;
      energy.r -= skill.w;
    }

    if (skill.r > 0) {
      energy.r -= skill.r;
      app.state.energy.random += skill.r;
    }
  } else if (option === "add") {
    if (skill.a > 0) {
      energy.a += skill.a;
      energy.r += skill.a;
    }

    if (skill.i > 0) {
      energy.i += skill.i;
      energy.r += skill.i;
    }

    if (skill.s > 0) {
      energy.s += skill.s;
      energy.r += skill.s;
    }

    if (skill.w > 0) {
      energy.w += skill.w;
      energy.r += skill.w;
    }

    if (skill.r > 0) {
      energy.r += skill.r;
      app.state.energy.random -= skill.r;
    }
  } else if (option === "check") {
    var active = true;

    if (total.energy >= total.skill) {
      var count = [true, true, true, true, true];

      if (skill.a >= 0) {
        count[0] = energy.a >= skill.a ? false : true;
      }

      if (skill.i >= 0) {
        count[1] = energy.i >= skill.i ? false : true;
      }

      if (skill.s >= 0) {
        count[2] = energy.s >= skill.s ? false : true;
      }

      if (skill.w >= 0) {
        count[3] = energy.w >= skill.w ? false : true;
      }

      if (skill.r >= 0) {
        count[4] = energy.r >= total.skill + skill.r ? false : true;
      }

      if (count.filter(function (x) {
        return x === false;
      }).length === 5) {
        active = false;
      } else {
        active = true;
      }
    }

    return active;
  }
}

function buttonManagement(payload, option) {
  //Target Button
  if (option !== "onSelf") {
    if (payload.aim === "enemy") {
      app.state.button.enemy.forEach(function (x) {
        //Define
        var skill = app.source.ally[payload.heroIndex].skill[payload.skill];
        var enemyStatus = app.source.enemy[x.index].status; //Invulnerability

        var state = enemyStatus.onState;
        var invulnerable = invulnerableManagement(state, skill); //Disable

        x.button = x.disabled || invulnerable ? true : !x.button; //Ignore

        var ignore = ignoreManagement(state, skill);
        console.log(ignore); //Prevent Invulnerability

        if (option === "onSkill" && enemyStatus.onState.some(function (x) {
          return x.type === "disableDrIv";
        }) && ignore === false) {
          x.button = false;
        } //Marking


        if (payload.marking === true) {
          var skillName = skill.name;
          var marking = enemyStatus.onReceive.some(function (x) {
            return x.name === skillName;
          }) || enemyStatus.onState.some(function (x) {
            return x.name === skillName;
          });

          if (marking === true) {
            x.button = true;
          }
        }
      });
    } else if (payload.aim === "enemylock") {
      app.state.button.enemy.forEach(function (x) {
        //Define
        var skill = app.source.ally[payload.heroIndex].skill[payload.skill];
        var enemyStatus = app.source.enemy[x.index].status;
        var lock = enemyStatus.onState.some(function (x) {
          return x.type === "state" && x.info === skill.name;
        });

        if (lock === true) {
          //Invulnerability
          var state = enemyStatus.onState;
          var invulnerable = invulnerableManagement(state, skill); //Disable

          x.button = x.disabled || invulnerable ? true : !x.button; //Ignore

          var ignore = ignoreManagement(state, skill);
          console.log(invulnerable); //Prevent Invulnerability

          if (option === "onSkill" && enemyStatus.onState.some(function (x) {
            return x.type === "disableDrIv";
          }) && ignore === false) {
            x.button = false;
          } //Marking


          if (payload.marking === true) {
            var skillName = skill.name;
            var marking = enemyStatus.onReceive.some(function (x) {
              return x.name === skillName;
            }) || enemyStatus.onState.some(function (x) {
              return x.name === skillName;
            });

            if (marking === true) {
              x.button = true;
            }
          }
        }
      });
    } else if (payload.aim === "allenemy" || payload.aim === "randomenemy" || payload.aim === "allenemyallally") {
      app.state.button.enemy.forEach(function (x) {
        //Define
        var skill = app.source.ally[payload.heroIndex].skill[payload.skill];
        var enemyStatus = app.source.enemy[x.index].status; //Invulnerability

        var state = enemyStatus.onState;
        var invulnerable = invulnerableManagement(state, skill); //Disable

        x.button = x.disabled || invulnerable ? true : !x.button; //Prevent Invulnerability

        if (option === "onSkill" && enemyStatus.onState.some(function (x) {
          return x.type === "disableDrIv";
        })) {
          x.button = false;
        }
      });
    } else if (payload.aim === "ally" || payload.aim === "allally") {
      app.state.button.ally.forEach(function (x) {
        return x.button = x.disabled ? true : !x.button;
      });
    } else if (payload.aim === "otherally") {
      app.state.button.ally.forEach(function (x) {
        var name = app.state.button.ally[payload.heroIndex].name;

        if (x.name !== name) {
          x.button = x.disabled ? true : !x.button;
        }
      });
    } else if (payload.aim === "self") {
      var ally = app.state.button.ally[payload.heroIndex];
      ally.button = ally.disabled ? true : !ally.button;
    }
  } //Skill Button


  if (option === "onTarget") {
    console.log("onSkill");
    app.state.button.ally.forEach(function (x) {
      if (x.onSkill === false) {
        x.skill.forEach(function (s) {
          s.button = true;

          if (x.name === payload.offense && s.name === app.source.ally[payload.heroIndex].skill[payload.skill].name) {
            s.button = false;
          }
        });
      }
    });
  }

  if (option === "onCancel") {
    console.log("onCancel");
    app.state.button.ally.forEach(function (x) {
      if (x.onSkill === false || x.name === payload.offense) {
        x.skill.forEach(function (s) {
          s.button = s.disabled ? true : false;

          if (x.name === payload.offense && s.name === app.source.ally[payload.heroIndex].skill[payload.skill].name) {
            s.button = false;
          }
        });
      }
    });
  } else if (option === "onTarget") {
    console.log("onTarget");
    app.state.button.ally.forEach(function (x) {
      var index = app.packet.findIndex(function (s) {
        return s.offense === x.name;
      });

      if (index < 0) {
        x.skill.forEach(function (s) {
          s.button = s.disabled ? true : false;
        });
      }
    });
  } else if (option === "onSelf") {
    console.log("onSelf");
    app.state.button.ally[payload.heroIndex].skill.forEach(function (s) {
      s.button = s.disabled ? true : false;
    });
  } //Energy Management


  if (option !== "onSkill") {
    app.state.button.ally.forEach(function (x, xi) {
      if (x.onSkill === false && x.name !== payload.offense) {
        console.log(x.name);
        console.log(option);
        x.skill.forEach(function (s, si) {
          var energy = energyManagement({
            heroIndex: xi,
            skill: si
          }, "check");
          s.button = s.disabled || energy ? true : false;

          if (x.name === payload.offense && s.name === app.source.ally[payload.heroIndex].skill[payload.skill].name) {
            s.button = false;
          }
        });
      }

      if ((option === "onSelf" || option === "onCancel") && x.name === payload.offense) {
        x.skill.forEach(function (s, si) {
          var energy = energyManagement({
            heroIndex: xi,
            skill: si
          }, "check");
          s.button = s.disabled || energy ? true : false;
        });
      }
    });
  }
}

function stunManagement(onState, skill) {
  var stun = onState.map(function (x) {
    if (x.type === "stun") {
      var ignore = ignoreManagement(onState, x);

      var intersect = _.intersection(x.classes, skill.classes);

      var evaluate;

      if (x.info === "inclusive") {
        evaluate = intersect.length > 0 ? true : false;
      } else if (x.info === "declusive") {
        evaluate = intersect.length === 0 ? true : false;
      }

      if (evaluate && !ignore) {
        return true;
      } else {
        return false;
      }
    }
  });

  if (stun.filter(function (x) {
    return x === true;
  }).length > 0) {
    return true;
  } else {
    return false;
  }
}

function invulnerableManagement(onState, skill) {
  var invulnerable = onState.map(function (x) {
    if (x.type === "invulnerable") {
      var intersect = _.intersection(x.classes, skill.classes);

      var evaluate;

      if (x.info === "inclusive") {
        evaluate = intersect.length > 0 ? true : false;
      } else if (x.info === "declusive") {
        evaluate = intersect.length === 0 ? true : false;
      }

      if (evaluate) {
        return true;
      } else {
        return false;
      }
    }
  });

  if (invulnerable.filter(function (x) {
    return x === true;
  }).length > 0) {
    return true;
  } else {
    return false;
  }
}

function ignoreManagement(onState, skill) {
  var ignore = onState.map(function (x) {
    if (x.type === "ignore") {
      var intersect = _.intersection(x.classes, skill.classes);

      var evaluate;

      if (x.info === "inclusive") {
        evaluate = intersect.length > 0 ? true : false;
      } else if (x.info === "declusive") {
        evaluate = intersect.length === 0 ? true : false;
      }

      if (evaluate) {
        return true;
      } else {
        return false;
      }
    }
  });

  if (ignore.filter(function (x) {
    return x === true;
  }).length > 0) {
    return true;
  } else {
    return false;
  }
}
"use strict";

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function vueBind(payload) {
  var username = getCookie("username");

  if (payload.team.teamEven !== username && payload.team.teamOdd !== username) {
    console.log(payload.team);
    return;
  } // console.log(payload);


  var ally = payload.team.teamEven === username ? "teamEven" : "teamOdd";
  var enemy = payload.team.teamEven === username ? "teamOdd" : "teamEven";
  var turn = ally === "teamEven" ? 0 : 1;
  var myTurn = payload.turn % 2 === turn ? true : false;

  if (myTurn === true) {
    app.$refs.soundStartTurn.play();
  } // if (payload.winner.state === true && payload.winner.name === username) {
  // } else if (
  //   payload.winner.state === true &&
  //   payload.winner.name !== username
  // ) {
  //   app.$refs.soundLose.play();
  // }


  var store = {
    energy: {
      ally: payload.energy[ally],
      enemy: payload.energy[enemy]
    },
    ally: payload[ally].map(function (x) {
      return _objectSpread({}, x, {
        indicator: statusView(x.name, x.status)
      });
    }),
    enemy: payload[enemy].map(function (x) {
      return _objectSpread({}, x, {
        indicator: statusView(x.name, x.status)
      });
    }),
    turn: payload.turn,
    myTurn: myTurn,
    room: payload.room
  };
  store.energy.ally.r = store.energy.ally.a + store.energy.ally.i + store.energy.ally.s + store.energy.ally.w;
  console.log(store);
  var button = {
    ally: store.ally.map(function (x) {
      // let disabled = x.status.onState.findIndex(x => x.type === 'stun') > -1 || x.hp <= 0 ? true : false
      var disabled = x.hp <= 0 ? true : false; // let stun = x.status.onState.some(x => x.type === "stun") ? true : false;

      return {
        name: x.name,
        button: true,
        onSkill: false,
        disabled: disabled,
        skill: x.skill.map(function (s) {
          // console.log(s.type);
          var energy = energyManagement({
            energy: store.energy.ally,
            skillBind: s.energy
          }, "check");
          var stun = stunManagement(x.status.onState, s); // let disableDrVr =
          //   s.type === "invulnerable" &&
          //   x.status.onState.some(x => x.type === "disableDrIv")
          //     ? true
          //     : false;

          var disabled = stun || s.required || s.state === "cooldown" || myTurn === false || x.hp <= 0 ? true : false;
          return {
            name: s.name,
            disabled: disabled,
            button: disabled || energy ? true : false
          };
        })
      };
    }),
    enemy: store.enemy.map(function (x, i) {
      // let disabled =
      //   x.status.onState.some(x => x.type === "invulnerable") || x.hp <= 0
      //     ? true
      //     : false;
      var disabled = x.hp <= 0 ? true : false;
      return {
        name: x.name,
        index: i,
        disabled: disabled,
        button: true
      };
    })
  };
  app.source = store;
  app.state.button = button;
  app.state.timer.turn = 100;
  app.state.winner = payload.winner;
}

function statusView(name, payload) {
  // console.log(name, payload);
  var status = _.concat(payload.onAttack, payload.onReceive, payload.onState, payload.onSelf);

  var groupByNameId = _.groupBy(status, "nameId");

  var valuesByNameId = _.values(groupByNameId);

  var groupBySkillIndex = valuesByNameId.map(function (x) {
    return _.groupBy(x, "skillIndex");
  });

  var valuesBySkillIndex = _.values(groupBySkillIndex);

  var concatValues = [];
  valuesBySkillIndex.forEach(function (x) {
    concatValues = concatValues.concat(_.values(x));
  });
  var final = concatValues.map(function (x) {
    var info = x[0];
    return {
      name: info.name,
      nameId: info.nameId,
      skillIndex: info.skillIndex,
      active: info.active,
      val: x
    };
  });
  return final;
}
"use strict";

function initiate() {
  var url = window.location.href.split("/");
  var room = url[url.length - 1];

  if (room !== "") {
    socket.emit("initiate", {
      room: room
    });
  } else {// window.location.replace('/');
  }
}

initiate();
setInterval(function () {
  if (app.source.turn == undefined || app.state.winner.state !== false) {
    return;
  }

  if (app.state.timer.turn > 0) {
    app.state.timer.turn -= 3.3;
  } else if (app.state.timer.turn <= 0 && app.source.myTurn === true) {// app.packet = app.packet.filter(x => x.skill !== null && x.offense !== '' && x.target !== '' && x.aim !== '' && x.heroIndex !== null)
    // socket.emit('sequence', {
    //     packet: app.packet,
    //     room: app.source.room
    // })
    // app.packet = []
  }
}, 1000);

window.onfocus = function () {
  document.title = "Anime Rumble";
};
"use strict";

socket.on("apply", function (payload) {
  document.title = "(!) Anime Rumble";
  vueBind(payload);
});
socket.on("noMatch", function (payload) {
  console.log("none");
  window.location.replace("/");
});
"use strict";

function getParameterName(name, url) {
  if (!url) url = window.location.href;
  name = name.replace(/[\[\]]/g, "\\$&");
  var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
      results = regex.exec(url);
  if (!results) return null;
  if (!results[2]) return "";
  return decodeURIComponent(results[2].replace(/\+/g, " "));
}

var setCookie = function setCookie(name, value) {
  var days = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 7;
  var path = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : "/";
  var expires = new Date(Date.now() + days * 864e5).toGMTString();
  document.cookie = name + "=" + encodeURIComponent(value) + "; expires=" + expires + "; path=" + path;
};

var getCookie = function getCookie(name) {
  return document.cookie.split("; ").reduce(function (r, v) {
    var parts = v.split("=");
    return parts[0] === name ? decodeURIComponent(parts[1]) : r;
  }, "");
};

var deleteCookie = function deleteCookie(name, path) {
  setCookie(name, "", -1, path);
};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNldHVwLmpzIiwidnVlLmpzIiwibWFuYWdlbWVudC5qcyIsInJlbmRlcmVyLmpzIiwiZ2VuZXJhbC5qcyIsInNvY2tldC5qcyIsImhlbHBlci5qcyJdLCJuYW1lcyI6WyJzb2NrZXQiLCJpbyIsIlZ1ZSIsInVzZSIsIlZUb29sdGlwIiwiYXBwIiwiZWwiLCJkYXRhIiwibWVzc2FnZSIsInNvdXJjZSIsImVuZXJneSIsImFsbHkiLCJwYWNrZXQiLCJzdGF0ZSIsInNraWxsIiwib2ZmZW5zZSIsInRhcmdldCIsImFpbSIsInRpbWVyIiwidHVybiIsIm9uU2tpbGwiLCJidXR0b24iLCJkZXNjcmlwdGlvbiIsIndpbm5lciIsIm5hbWUiLCJtb2RhbCIsInJhbmRvbSIsImV4Y2hhbmdlIiwidXNlZCIsInZhbCIsInNob3dNb2RhbCIsIm1ldGhvZHMiLCJvbkV4Y2hhbmdlIiwiZSIsIiRyZWZzIiwic291bmRDbGljayIsInBsYXkiLCJyIiwiY29zdCIsImZvckVhY2giLCJ4IiwieGkiLCJjb25zb2xlIiwibG9nIiwicyIsInNpIiwiZW5lcmd5TWFuYWdlbWVudCIsImhlcm9JbmRleCIsImRpc2FibGVkIiwiYnV0dG9uTWFuYWdlbWVudCIsInNraWxsSWQiLCJvbkRvbmUiLCJzb3VuZEVuZFR1cm4iLCJmaWx0ZXIiLCJ1bnNoaWZ0IiwibXNnIiwiZW1pdCIsInJvb20iLCJwYXlsb2FkIiwibWFya2luZyIsInNraWxsSW5kZXgiLCJ0ZW1wb3JhcnkiLCJpc09uU2tpbGwiLCJzZXRUaW1lb3V0Iiwib25UYXJnZXQiLCJlbmVteSIsIm1hcCIsImNvbmNhdCIsInB1c2giLCJvbkF0dGFjayIsIm9uRGVzY3JpcHRpb24iLCJvblN0YXR1cyIsInN0YXR1cyIsIl8iLCJvblJlY2VpdmUiLCJvblN0YXRlIiwib25TZWxmIiwiZ3JvdXAiLCJncm91cEJ5Iiwic3ViZ3JvdXAiLCJ0b0FycmF5IiwicHJlcCIsImZpbmFsIiwiaW5mbyIsIm5hbWVJZCIsIm9uR2V0SW1hZ2UiLCJvcHRpb24iLCJpbmRleCIsImZpbmRJbmRleCIsInNsaWNlIiwidGFyZ2V0aW5nQ3VlIiwicmVzdWx0Iiwic2tpbGxCaW5kIiwidG90YWwiLCJhIiwiaSIsInciLCJhY3RpdmUiLCJjb3VudCIsImxlbmd0aCIsImVuZW15U3RhdHVzIiwiaW52dWxuZXJhYmxlIiwiaW52dWxuZXJhYmxlTWFuYWdlbWVudCIsImlnbm9yZSIsImlnbm9yZU1hbmFnZW1lbnQiLCJzb21lIiwidHlwZSIsInNraWxsTmFtZSIsImxvY2siLCJzdHVuTWFuYWdlbWVudCIsInN0dW4iLCJpbnRlcnNlY3QiLCJpbnRlcnNlY3Rpb24iLCJjbGFzc2VzIiwiZXZhbHVhdGUiLCJ2dWVCaW5kIiwidXNlcm5hbWUiLCJnZXRDb29raWUiLCJ0ZWFtIiwidGVhbUV2ZW4iLCJ0ZWFtT2RkIiwibXlUdXJuIiwic291bmRTdGFydFR1cm4iLCJzdG9yZSIsImluZGljYXRvciIsInN0YXR1c1ZpZXciLCJocCIsInJlcXVpcmVkIiwiZ3JvdXBCeU5hbWVJZCIsInZhbHVlc0J5TmFtZUlkIiwidmFsdWVzIiwiZ3JvdXBCeVNraWxsSW5kZXgiLCJ2YWx1ZXNCeVNraWxsSW5kZXgiLCJjb25jYXRWYWx1ZXMiLCJpbml0aWF0ZSIsInVybCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsInNwbGl0Iiwic2V0SW50ZXJ2YWwiLCJ1bmRlZmluZWQiLCJvbmZvY3VzIiwiZG9jdW1lbnQiLCJ0aXRsZSIsIm9uIiwicmVwbGFjZSIsImdldFBhcmFtZXRlck5hbWUiLCJyZWdleCIsIlJlZ0V4cCIsInJlc3VsdHMiLCJleGVjIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwic2V0Q29va2llIiwidmFsdWUiLCJkYXlzIiwicGF0aCIsImV4cGlyZXMiLCJEYXRlIiwibm93IiwidG9HTVRTdHJpbmciLCJjb29raWUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJyZWR1Y2UiLCJ2IiwicGFydHMiLCJkZWxldGVDb29raWUiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsU0FB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R0EsWUFIQSxHQUlBRyxPQUpBLEdBS0EsU0FMQSxHQU1BRCxJQVBGO0FBUUQsQ0FWRDs7QUFZQSxJQUFNdkMsWUFBWSxTQUFaQSxTQUFZLE9BQVE7QUFDeEIsU0FBTzBCLFNBQVNrQixNQUFULENBQWdCdEIsS0FBaEIsQ0FBc0IsSUFBdEIsRUFBNEJ3QixNQUE1QixDQUFtQyxVQUFDOUgsQ0FBRCxFQUFJK0gsQ0FBSixFQUFVO0FBQ2xELFFBQU1DLFFBQVFELEVBQUV6QixLQUFGLENBQVEsR0FBUixDQUFkO0FBQ0EsV0FBTzBCLE1BQU0sQ0FBTixNQUFhN0ksSUFBYixHQUFvQmdJLG1CQUFtQmEsTUFBTSxDQUFOLENBQW5CLENBQXBCLEdBQW1EaEksQ0FBMUQ7QUFDRCxHQUhNLEVBR0osRUFISSxDQUFQO0FBSUQsQ0FMRDs7QUFPQSxJQUFNaUksZUFBZSxTQUFmQSxZQUFlLENBQUM5SSxJQUFELEVBQU9vSSxJQUFQLEVBQWdCO0FBQ25DSCxZQUFVakksSUFBVixFQUFnQixFQUFoQixFQUFvQixDQUFDLENBQXJCLEVBQXdCb0ksSUFBeEI7QUFDRCxDQUZEIiwiZmlsZSI6ImdhbWUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IHNvY2tldCA9IGlvKCcvZ2FtZScpOyIsIlZ1ZS51c2UoVlRvb2x0aXApO1xubGV0IGFwcCA9IG5ldyBWdWUoe1xuICBlbDogXCIjYXBwXCIsXG4gIGRhdGE6IHtcbiAgICBtZXNzYWdlOiBcIkhlbGxvIFZ1ZWUuanMhXCIsXG4gICAgc291cmNlOiB7XG4gICAgICBlbmVyZ3k6IHtcbiAgICAgICAgYWxseToge31cbiAgICAgIH1cbiAgICB9LFxuICAgIHBhY2tldDogW10sXG4gICAgc3RhdGU6IHtcbiAgICAgIHNraWxsOiB7XG4gICAgICAgIG9mZmVuc2U6IG51bGwsXG4gICAgICAgIHNraWxsOiBudWxsLFxuICAgICAgICB0YXJnZXQ6IG51bGwsXG4gICAgICAgIGFpbTogbnVsbFxuICAgICAgfSxcbiAgICAgIHRpbWVyOiB7XG4gICAgICAgIHR1cm46IDEwMFxuICAgICAgfSxcbiAgICAgIG9uU2tpbGw6IGZhbHNlLFxuICAgICAgYnV0dG9uOiB7fSxcbiAgICAgIGRlc2NyaXB0aW9uOiBudWxsLFxuICAgICAgd2lubmVyOiB7XG4gICAgICAgIHN0YXRlOiBmYWxzZSxcbiAgICAgICAgbmFtZTogXCJcIlxuICAgICAgfSxcbiAgICAgIGVuZXJneToge1xuICAgICAgICBtb2RhbDogZmFsc2UsXG4gICAgICAgIHJhbmRvbTogMFxuICAgICAgfSxcbiAgICAgIGV4Y2hhbmdlOiB7XG4gICAgICAgIG1vZGFsOiBmYWxzZSxcbiAgICAgICAgdXNlZDogZmFsc2UsXG4gICAgICAgIGVuZXJneToge30sXG4gICAgICAgIHZhbDogXCJcIlxuICAgICAgfVxuICAgIH0sXG4gICAgc2hvd01vZGFsOiB0cnVlXG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBvbkV4Y2hhbmdlOiBmdW5jdGlvbihlKSB7XG4gICAgICAvL1NvdW5kXG4gICAgICB0aGlzLiRyZWZzLnNvdW5kQ2xpY2sucGxheSgpO1xuICAgICAgXG4gICAgICBsZXQgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgdGhpcy5zb3VyY2UuZW5lcmd5LmFsbHkgPSBlLmVuZXJneTtcbiAgICAgIHRoaXMuc291cmNlLmVuZXJneS5hbGx5LnIgPVxuICAgICAgICB0aGlzLnNvdXJjZS5lbmVyZ3kuYWxseS5yIC0gdGhpcy5zdGF0ZS5lbmVyZ3kucmFuZG9tO1xuICAgICAgc3RhdGUuZXhjaGFuZ2UuZW5lcmd5ID0gZS5jb3N0O1xuICAgICAgc3RhdGUuZXhjaGFuZ2UubW9kYWwgPSBmYWxzZTtcbiAgICAgIHN0YXRlLmV4Y2hhbmdlLnVzZWQgPSB0cnVlO1xuICAgICAgc3RhdGUuZXhjaGFuZ2UudmFsID0gZS5leGNoYW5nZTtcblxuICAgICAgc3RhdGUuYnV0dG9uLmFsbHkuZm9yRWFjaCgoeCwgeGkpID0+IHtcbiAgICAgICAgaWYgKHgub25Ta2lsbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyh4Lm5hbWUpO1xuICAgICAgICAgIHguc2tpbGwuZm9yRWFjaCgocywgc2kpID0+IHtcbiAgICAgICAgICAgIGxldCBlbmVyZ3kgPSBlbmVyZ3lNYW5hZ2VtZW50KFxuICAgICAgICAgICAgICB7IGhlcm9JbmRleDogeGksIHNraWxsOiBzaSB9LFxuICAgICAgICAgICAgICBcImNoZWNrXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBzLmJ1dHRvbiA9IHMuZGlzYWJsZWQgfHwgZW5lcmd5ID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZW5lcmd5LCBzLmRpc2FibGVkLCBzLmJ1dHRvbik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvL0NsZWFuIFNraWxsIEJ1ZmZlclxuICAgICAgaWYgKHN0YXRlLnNraWxsLm9mZmVuc2UgIT09IG51bGwgJiYgc3RhdGUuc2tpbGwudGFyZ2V0ID09PSBudWxsKSB7XG4gICAgICAgIC8vU3dpdGNoIENob2ljZVxuICAgICAgICAvL0J1dHRvbiBNYW5hZ2VtZW50XG4gICAgICAgIGJ1dHRvbk1hbmFnZW1lbnQoc3RhdGUuc2tpbGwsIFwib25DYW5jZWxcIik7XG4gICAgICAgIC8vQ2xlYW4gQnVmZmVyXG4gICAgICAgIHN0YXRlLnNraWxsID0ge1xuICAgICAgICAgIG9mZmVuc2U6IG51bGwsXG4gICAgICAgICAgc2tpbGw6IG51bGwsXG4gICAgICAgICAgc2tpbGxJZDogbnVsbCxcbiAgICAgICAgICB0YXJnZXQ6IG51bGwsXG4gICAgICAgICAgYWltOiBudWxsLFxuICAgICAgICAgIGhlcm9JbmRleDogbnVsbFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0sXG4gICAgb25Eb25lOiBmdW5jdGlvbihlKSB7XG4gICAgICAvL1NvdW5kXG4gICAgICB0aGlzLiRyZWZzLnNvdW5kRW5kVHVybi5wbGF5KCk7XG5cbiAgICAgIC8vRGVmaW5lXG4gICAgICBsZXQgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgbGV0IHBhY2tldCA9IGUucGFja2V0O1xuXG4gICAgICAvL09yZ2FuaXplXG4gICAgICBzdGF0ZS5lbmVyZ3kubW9kYWwgPSBmYWxzZTtcbiAgICAgIHBhY2tldCA9IHBhY2tldC5maWx0ZXIoXG4gICAgICAgIHggPT5cbiAgICAgICAgICB4LnNraWxsICE9PSBudWxsICYmXG4gICAgICAgICAgeC5vZmZlbnNlICE9PSBudWxsICYmXG4gICAgICAgICAgeC50YXJnZXQgIT09IG51bGwgJiZcbiAgICAgICAgICB4LmFpbSAhPT0gbnVsbCAmJlxuICAgICAgICAgIHguaGVyb0luZGV4ICE9PSBudWxsXG4gICAgICApO1xuICAgICAgcGFja2V0LnVuc2hpZnQoZS5lbmVyZ3kpO1xuICAgICAgaWYgKHN0YXRlLmV4Y2hhbmdlLnVzZWQgPT09IHRydWUpIHtcbiAgICAgICAgcGFja2V0LnVuc2hpZnQoXG4gICAgICAgICAgeyBtc2c6IFwiZXhjaGFuZ2VcIiwgdmFsOiBzdGF0ZS5leGNoYW5nZS52YWwgfSxcbiAgICAgICAgICBzdGF0ZS5leGNoYW5nZS5lbmVyZ3lcbiAgICAgICAgKTtcbiAgICAgICAgc3RhdGUuZXhjaGFuZ2UudXNlZCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvL1NlbmRcbiAgICAgIHNvY2tldC5lbWl0KFwic2VxdWVuY2VcIiwge1xuICAgICAgICBwYWNrZXQ6IHBhY2tldCxcbiAgICAgICAgcm9vbTogdGhpcy5zb3VyY2Uucm9vbVxuICAgICAgfSk7XG5cbiAgICAgIC8vUmVzZXRcbiAgICAgIHN0YXRlLmVuZXJneS5yYW5kb20gPSAwO1xuICAgICAgdGhpcy5wYWNrZXQgPSBbXTtcbiAgICAgIHN0YXRlLnNraWxsID0ge1xuICAgICAgICBvZmZlbnNlOiBudWxsLFxuICAgICAgICBza2lsbDogbnVsbCxcbiAgICAgICAgc2tpbGxJZDogbnVsbCxcbiAgICAgICAgdGFyZ2V0OiBudWxsLFxuICAgICAgICBhaW06IG51bGwsXG4gICAgICAgIGhlcm9JbmRleDogbnVsbFxuICAgICAgfTtcbiAgICB9LFxuICAgIG9uU2tpbGw6IGZ1bmN0aW9uKHBheWxvYWQpIHsgICAgICBcbiAgICAgIC8vRGVmaW5lIGFuZCBTd2l0Y2ggU3RhdGVcbiAgICAgIGxldCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICBsZXQgbWFya2luZyA9IHRoaXMuc291cmNlLmFsbHlbcGF5bG9hZC5oZXJvSW5kZXhdLnNraWxsW1xuICAgICAgICBwYXlsb2FkLnNraWxsSW5kZXhcbiAgICAgIF0ubWFya2luZztcbiAgICAgIGxldCB0ZW1wb3JhcnkgPSB7XG4gICAgICAgIG9mZmVuc2U6IHBheWxvYWQubmFtZSxcbiAgICAgICAgc2tpbGw6IHBheWxvYWQuc2tpbGxJbmRleCxcbiAgICAgICAgc2tpbGxJZDogcGF5bG9hZC5za2lsbElkLFxuICAgICAgICB0YXJnZXQ6IG51bGwsXG4gICAgICAgIGFpbTogcGF5bG9hZC50YXJnZXQsXG4gICAgICAgIGhlcm9JbmRleDogcGF5bG9hZC5oZXJvSW5kZXgsXG4gICAgICAgIG1hcmtpbmc6IG1hcmtpbmdcbiAgICAgIH07XG5cbiAgICAgIC8vSXMgU2tpbGwgQ2hvc2VuP1xuICAgICAgbGV0IGlzT25Ta2lsbCA9IHN0YXRlLmJ1dHRvbi5hbGx5W3RlbXBvcmFyeS5oZXJvSW5kZXhdLm9uU2tpbGw7XG5cbiAgICAgIGlmIChcbiAgICAgICAgaXNPblNraWxsID09PSBmYWxzZSAmJlxuICAgICAgICBzdGF0ZS5za2lsbC5vZmZlbnNlID09PSBudWxsICYmXG4gICAgICAgIHN0YXRlLnNraWxsLnRhcmdldCA9PT0gbnVsbFxuICAgICAgKSB7XG4gICAgICAgIC8vRmlyc3QgQ2hvaWNlXG4gICAgICAgIC8vQnVmZmVyIFNraWxsXG4gICAgICAgIHN0YXRlLnNraWxsID0gdGVtcG9yYXJ5O1xuICAgICAgICAvL0J1dHRvbiBNYW5hZ2VtZW50XG4gICAgICAgIGJ1dHRvbk1hbmFnZW1lbnQodGVtcG9yYXJ5LCBcIm9uU2tpbGxcIik7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBpc09uU2tpbGwgPT09IGZhbHNlICYmXG4gICAgICAgIHN0YXRlLnNraWxsLm9mZmVuc2UgIT09IG51bGwgJiZcbiAgICAgICAgc3RhdGUuc2tpbGwudGFyZ2V0ID09PSBudWxsXG4gICAgICApIHtcbiAgICAgICAgLy9Td2l0Y2ggQ2hvaWNlXG4gICAgICAgIC8vQnV0dG9uIE1hbmFnZW1lbnRcbiAgICAgICAgYnV0dG9uTWFuYWdlbWVudChzdGF0ZS5za2lsbCwgXCJvbkNhbmNlbFwiKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgYnV0dG9uTWFuYWdlbWVudCh0ZW1wb3JhcnksIFwib25Ta2lsbFwiKTtcbiAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgLy9CdWZmZXIgU2tpbGxcbiAgICAgICAgc3RhdGUuc2tpbGwgPSB0ZW1wb3Jhcnk7XG4gICAgICB9IGVsc2UgaWYgKGlzT25Ta2lsbCA9PT0gdHJ1ZSkge1xuICAgICAgICAvL0NhbmNlbCBDaG9pY2VcbiAgICAgICAgZW5lcmd5TWFuYWdlbWVudCh0ZW1wb3JhcnksIFwiYWRkXCIpO1xuICAgICAgICAvL0J1dHRvbiBNYW5hZ2VtZW50XG4gICAgICAgIGJ1dHRvbk1hbmFnZW1lbnQoc3RhdGUuc2tpbGwsIFwib25DYW5jZWxcIik7XG4gICAgICAgIGJ1dHRvbk1hbmFnZW1lbnQodGVtcG9yYXJ5LCBcIm9uU2VsZlwiKTtcbiAgICAgICAgdGhpcy5wYWNrZXQgPSB0aGlzLnBhY2tldC5maWx0ZXIoeCA9PiB4Lm9mZmVuc2UgIT09IHRlbXBvcmFyeS5vZmZlbnNlKTtcbiAgICAgICAgLy9DbGVhbiBTa2lsbCBCdWZmZXJcbiAgICAgICAgc3RhdGUuc2tpbGwgPSB7XG4gICAgICAgICAgb2ZmZW5zZTogbnVsbCxcbiAgICAgICAgICBza2lsbDogbnVsbCxcbiAgICAgICAgICBza2lsbElkOiBudWxsLFxuICAgICAgICAgIHRhcmdldDogbnVsbCxcbiAgICAgICAgICBhaW06IG51bGwsXG4gICAgICAgICAgaGVyb0luZGV4OiBudWxsXG4gICAgICAgIH07XG4gICAgICAgIC8vU3RhdGUgTWFuYWdlbWVudFxuICAgICAgICBzdGF0ZS5idXR0b24uYWxseVt0ZW1wb3JhcnkuaGVyb0luZGV4XS5vblNraWxsID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcbiAgICBvblRhcmdldDogZnVuY3Rpb24ocGF5bG9hZCkge1xuICAgICAgLy9Tb3VuZFxuICAgICAgdGhpcy4kcmVmcy5zb3VuZENsaWNrLnBsYXkoKTtcblxuICAgICAgLy9EZWZpbmUgU3RhdGVcbiAgICAgIGxldCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgIC8vQnVmZmVyIFNraWxsXG4gICAgICBpZiAoc3RhdGUuc2tpbGwuYWltID09PSBcImFsbGVuZW15XCIgfHwgc3RhdGUuc2tpbGwuYWltID09PSBcInJhbmRvbWVuZW15XCIpIHtcbiAgICAgICAgc3RhdGUuc2tpbGwudGFyZ2V0ID0gc3RhdGUuYnV0dG9uLmVuZW15XG4gICAgICAgICAgLmZpbHRlcih4ID0+IHguZGlzYWJsZWQgIT09IHRydWUgJiYgeC5uYW1lICE9PSBwYXlsb2FkLm5hbWUpXG4gICAgICAgICAgLm1hcCh4ID0+IHgubmFtZSk7XG4gICAgICAgIHN0YXRlLnNraWxsLnRhcmdldC51bnNoaWZ0KHBheWxvYWQubmFtZSk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLnNraWxsLmFpbSA9PT0gXCJhbGxhbGx5XCIpIHtcbiAgICAgICAgc3RhdGUuc2tpbGwudGFyZ2V0ID0gc3RhdGUuYnV0dG9uLmFsbHkubWFwKHggPT4geC5uYW1lKTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUuc2tpbGwuYWltID09PSBcImFsbGVuZW15YWxsYWxseVwiKSB7XG4gICAgICAgIHN0YXRlLnNraWxsLnRhcmdldCA9IHN0YXRlLmJ1dHRvbi5lbmVteVxuICAgICAgICAgIC5maWx0ZXIoeCA9PiB4LmRpc2FibGVkICE9PSB0cnVlICYmIHgubmFtZSAhPT0gcGF5bG9hZC5uYW1lKVxuICAgICAgICAgIC5tYXAoeCA9PiB4Lm5hbWUpO1xuICAgICAgICBzdGF0ZS5za2lsbC50YXJnZXQudW5zaGlmdChwYXlsb2FkLm5hbWUpO1xuICAgICAgICBsZXQgYWxseSA9IHN0YXRlLmJ1dHRvbi5hbGx5Lm1hcCh4ID0+IHgubmFtZSk7XG4gICAgICAgIHN0YXRlLnNraWxsLnRhcmdldCA9IHN0YXRlLnNraWxsLnRhcmdldC5jb25jYXQoYWxseSk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLnNraWxsLmFpbSA9PT0gXCJvdGhlcmFsbHlcIikge1xuICAgICAgICBzdGF0ZS5za2lsbC50YXJnZXQgPSBzdGF0ZS5idXR0b24uYWxseVxuICAgICAgICAgIC5maWx0ZXIoeCA9PiB4Lm5hbWUgIT09IHN0YXRlLnNraWxsLm9mZmVuc2UpXG4gICAgICAgICAgLm1hcCh4ID0+IHgubmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS5za2lsbC50YXJnZXQgPSBbcGF5bG9hZC5uYW1lXTtcbiAgICAgIH1cbiAgICAgIC8vUmVnaXN0ZXIgU2tpbGxcbiAgICAgIHRoaXMucGFja2V0LnB1c2godGhpcy5zdGF0ZS5za2lsbCk7XG5cbiAgICAgIC8vRW5lcmd5IE1hbmFnZW1lbnRcbiAgICAgIGVuZXJneU1hbmFnZW1lbnQoc3RhdGUuc2tpbGwsIFwic3Vic3RyYWN0XCIpO1xuICAgICAgLy9CdXR0b24gTWFuYWdlbWVudFxuICAgICAgLy8gYnV0dG9uTWFuYWdlbWVudChzdGF0ZS5za2lsbCwgXCJvblNraWxsXCIpO1xuICAgICAgYnV0dG9uTWFuYWdlbWVudChzdGF0ZS5za2lsbCwgXCJvblRhcmdldFwiKTtcbiAgICAgIC8vU3RhdGUgTWFuYWdlbWVudFxuICAgICAgc3RhdGUuYnV0dG9uLmFsbHlbc3RhdGUuc2tpbGwuaGVyb0luZGV4XS5vblNraWxsID0gdHJ1ZTtcblxuICAgICAgLy9DbGVhbiBTa2lsbCBCdWZmZXJcbiAgICAgIHN0YXRlLnNraWxsID0ge1xuICAgICAgICBvZmZlbnNlOiBudWxsLFxuICAgICAgICBza2lsbDogbnVsbCxcbiAgICAgICAgc2tpbGxJZDogbnVsbCxcbiAgICAgICAgdGFyZ2V0OiBudWxsLFxuICAgICAgICBhaW06IG51bGwsXG4gICAgICAgIGhlcm9JbmRleDogbnVsbFxuICAgICAgfTtcbiAgICB9LFxuICAgIG9uQXR0YWNrOiBmdW5jdGlvbihwYXlsb2FkKSB7XG4gICAgICAvL1NvdW5kXG4gICAgICB0aGlzLiRyZWZzLnNvdW5kQ2xpY2sucGxheSgpO1xuXG4gICAgICB0aGlzLnN0YXRlLmVuZXJneS5tb2RhbCA9IHRydWU7XG4gICAgfSxcbiAgICBvbkRlc2NyaXB0aW9uOiBmdW5jdGlvbihwYXlsb2FkKSB7XG4gICAgICAvL1NvdW5kXG4gICAgICB0aGlzLiRyZWZzLnNvdW5kQ2xpY2sucGxheSgpO1xuXG4gICAgICBsZXQgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgbGV0IHRlbXBvcmFyeSA9IHtcbiAgICAgICAgb2ZmZW5zZTogcGF5bG9hZC5uYW1lLFxuICAgICAgICBza2lsbDogcGF5bG9hZC5za2lsbEluZGV4LFxuICAgICAgICB0YXJnZXQ6IFwiXCIsXG4gICAgICAgIGFpbTogcGF5bG9hZC50YXJnZXQsXG4gICAgICAgIGhlcm9JbmRleDogcGF5bG9hZC5oZXJvSW5kZXhcbiAgICAgIH07XG5cbiAgICAgIC8vQnVmZmVyIFNraWxsXG4gICAgICBzdGF0ZS5kZXNjcmlwdGlvbiA9IHtcbiAgICAgICAgc2tpbGw6IHRlbXBvcmFyeS5za2lsbCxcbiAgICAgICAgaGVyb0luZGV4OiB0ZW1wb3JhcnkuaGVyb0luZGV4XG4gICAgICB9O1xuICAgIH0sXG4gICAgb25TdGF0dXM6IGZ1bmN0aW9uKHBheWxvYWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKHBheWxvYWQpO1xuICAgICAgbGV0IHN0YXR1cyA9IF8uY29uY2F0KFxuICAgICAgICBwYXlsb2FkLm9uQXR0YWNrLFxuICAgICAgICBwYXlsb2FkLm9uUmVjZWl2ZSxcbiAgICAgICAgcGF5bG9hZC5vblN0YXRlLFxuICAgICAgICBwYXlsb2FkLm9uU2VsZlxuICAgICAgKTtcbiAgICAgIGNvbnNvbGUubG9nKHN0YXR1cyk7XG4gICAgICBsZXQgZ3JvdXAgPSBfLmdyb3VwQnkoc3RhdHVzLCBcIm5hbWVJZFwiKTtcbiAgICAgIGNvbnNvbGUubG9nKGdyb3VwKTtcbiAgICAgIGxldCBzdWJncm91cCA9IF8udG9BcnJheShncm91cCkubWFwKHggPT5cbiAgICAgICAgXy50b0FycmF5KF8uZ3JvdXBCeSh4LCBcInNraWxsSW5kZXhcIikpXG4gICAgICApO1xuICAgICAgbGV0IHByZXAgPSBzdWJncm91cC5tYXAoeCA9PiB4WzBdKTtcbiAgICAgIGxldCBmaW5hbCA9IHByZXAubWFwKHggPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyh4WzBdKTtcbiAgICAgICAgbGV0IGluZm8gPSB4WzBdO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5hbWVJZDogaW5mby5uYW1lSWQsXG4gICAgICAgICAgc3RhdHVzOiBpbmZvLnNraWxsSW5kZXgsXG4gICAgICAgICAgdmFsOiB4XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKHByZXApO1xuICAgICAgY29uc29sZS5sb2coZmluYWwpO1xuICAgICAgcmV0dXJuIGZpbmFsO1xuICAgICAgLy8gbGV0IHN1Ymdyb3VwID0gZ3JvdXAubWFwKHggPT4gXy5ncm91cEJ5KHgsIFwic2tpbGxJbmRleFwiKSk7XG4gICAgfSxcbiAgICBvbkdldEltYWdlOiBmdW5jdGlvbihwYXlsb2FkLCBvcHRpb24pIHtcbiAgICAgIGlmIChvcHRpb24gPT09IFwicGFja2V0XCIpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5zb3VyY2UuYWxseS5maW5kSW5kZXgoeCA9PiB4Lm5hbWUgPT09IHBheWxvYWQub2ZmZW5zZSk7XG4gICAgICAgIGxldCBuYW1lSWQgPSB0aGlzLnNvdXJjZS5hbGx5W2luZGV4XS5uYW1lSWQ7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBcIi9hc3NldHMvY2hhcmFjdGVyL1wiICtcbiAgICAgICAgICBuYW1lSWQuc2xpY2UoMCwgLTEpICtcbiAgICAgICAgICBcIi9za2lsbFwiICtcbiAgICAgICAgICAocGF5bG9hZC5za2lsbCArIDEpICtcbiAgICAgICAgICBcIi9hdmF0YXIuanBnXCJcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9uID09PSBcImNoYXJcIikge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIFwiL2Fzc2V0cy9jaGFyYWN0ZXIvXCIgKyBwYXlsb2FkLm5hbWVJZC5zbGljZSgwLCAtMSkgKyBcIi9hdmF0YXIuanBnXCJcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9uID09PSBcInNraWxsXCIpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBcIi9hc3NldHMvY2hhcmFjdGVyL1wiICtcbiAgICAgICAgICBwYXlsb2FkLm5hbWVJZC5zbGljZSgwLCAtMSkgK1xuICAgICAgICAgIFwiL3NraWxsXCIgK1xuICAgICAgICAgIChwYXlsb2FkLnNraWxsICsgMSkgK1xuICAgICAgICAgIFwiL2F2YXRhci5qcGdcIlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChvcHRpb24gPT09IFwic3RhdHVzXCIpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBcIi9hc3NldHMvY2hhcmFjdGVyL1wiICtcbiAgICAgICAgICBwYXlsb2FkLm5hbWVJZC5zbGljZSgwLCAtMSkgK1xuICAgICAgICAgIFwiL3NraWxsXCIgK1xuICAgICAgICAgIHBheWxvYWQuc2tpbGwgK1xuICAgICAgICAgIFwiL2F2YXRhci5qcGdcIlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChvcHRpb24gPT09IFwidGFyZ2V0aW5nXCIpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5wYWNrZXQuZmluZEluZGV4KHggPT4geC5vZmZlbnNlID09PSBwYXlsb2FkLm5hbWUpO1xuICAgICAgICBsZXQgc2tpbGxJZCA9IHRoaXMucGFja2V0W2luZGV4XS5za2lsbElkO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIFwiL2Fzc2V0cy9jaGFyYWN0ZXIvXCIgK1xuICAgICAgICAgIHBheWxvYWQubmFtZUlkLnNsaWNlKDAsIC0xKSArXG4gICAgICAgICAgXCIvc2tpbGxcIiArXG4gICAgICAgICAgKHNraWxsSWQgKyAxKSArXG4gICAgICAgICAgXCIvYXZhdGFyLmpwZ1wiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSxcbiAgICB0YXJnZXRpbmdDdWU6IGZ1bmN0aW9uKHBheWxvYWQpIHtcbiAgICAgIGxldCBuYW1lID0gcGF5bG9hZDtcbiAgICAgIGxldCBpbmRleCA9IHRoaXMucGFja2V0LmZpbmRJbmRleCh4ID0+IHgub2ZmZW5zZSA9PT0gcGF5bG9hZCk7XG4gICAgICBsZXQgcGFja2V0ID0gdGhpcy5wYWNrZXRbaW5kZXhdO1xuXG4gICAgICBsZXQgcmVzdWx0ID0ge1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBza2lsbEluZGV4OiBwYWNrZXQuc2tpbGwsXG4gICAgICAgIHNraWxsSWQ6IHBhY2tldC5za2lsbElkLFxuICAgICAgICBoZXJvSW5kZXg6IHBhY2tldC5oZXJvSW5kZXgsXG4gICAgICAgIHRhcmdldDogcGFja2V0LnRhcmdldFxuICAgICAgfTtcbiAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG59KTtcbiIsImZ1bmN0aW9uIGVuZXJneU1hbmFnZW1lbnQodGVtcG9yYXJ5LCBvcHRpb24pIHtcbiAgbGV0IGVuZXJneSA9IHRlbXBvcmFyeS5lbmVyZ3kgPyB0ZW1wb3JhcnkuZW5lcmd5IDogYXBwLnNvdXJjZS5lbmVyZ3kuYWxseTtcbiAgbGV0IHNraWxsID0gdGVtcG9yYXJ5LnNraWxsQmluZFxuICAgID8gdGVtcG9yYXJ5LnNraWxsQmluZFxuICAgIDogYXBwLnNvdXJjZS5hbGx5W3RlbXBvcmFyeS5oZXJvSW5kZXhdLnNraWxsW3RlbXBvcmFyeS5za2lsbF0uZW5lcmd5O1xuICBsZXQgdG90YWwgPSB7XG4gICAgZW5lcmd5OiBlbmVyZ3kuYSArIGVuZXJneS5pICsgZW5lcmd5LnMgKyBlbmVyZ3kudyxcbiAgICBza2lsbDogc2tpbGwuYSArIHNraWxsLmkgKyBza2lsbC5zICsgc2tpbGwud1xuICB9O1xuXG4gIGlmIChvcHRpb24gPT09IFwic3Vic3RyYWN0XCIpIHtcbiAgICBpZiAoc2tpbGwuYSA+IDApIHtcbiAgICAgIGVuZXJneS5hIC09IHNraWxsLmE7XG4gICAgICBlbmVyZ3kuciAtPSBza2lsbC5hO1xuICAgIH1cbiAgICBpZiAoc2tpbGwuaSA+IDApIHtcbiAgICAgIGVuZXJneS5pIC09IHNraWxsLmk7XG4gICAgICBlbmVyZ3kuciAtPSBza2lsbC5pO1xuICAgIH1cbiAgICBpZiAoc2tpbGwucyA+IDApIHtcbiAgICAgIGVuZXJneS5zIC09IHNraWxsLnM7XG4gICAgICBlbmVyZ3kuciAtPSBza2lsbC5zO1xuICAgIH1cbiAgICBpZiAoc2tpbGwudyA+IDApIHtcbiAgICAgIGVuZXJneS53IC09IHNraWxsLnc7XG4gICAgICBlbmVyZ3kuciAtPSBza2lsbC53O1xuICAgIH1cbiAgICBpZiAoc2tpbGwuciA+IDApIHtcbiAgICAgIGVuZXJneS5yIC09IHNraWxsLnI7XG4gICAgICBhcHAuc3RhdGUuZW5lcmd5LnJhbmRvbSArPSBza2lsbC5yO1xuICAgIH1cbiAgfSBlbHNlIGlmIChvcHRpb24gPT09IFwiYWRkXCIpIHtcbiAgICBpZiAoc2tpbGwuYSA+IDApIHtcbiAgICAgIGVuZXJneS5hICs9IHNraWxsLmE7XG4gICAgICBlbmVyZ3kuciArPSBza2lsbC5hO1xuICAgIH1cbiAgICBpZiAoc2tpbGwuaSA+IDApIHtcbiAgICAgIGVuZXJneS5pICs9IHNraWxsLmk7XG4gICAgICBlbmVyZ3kuciArPSBza2lsbC5pO1xuICAgIH1cbiAgICBpZiAoc2tpbGwucyA+IDApIHtcbiAgICAgIGVuZXJneS5zICs9IHNraWxsLnM7XG4gICAgICBlbmVyZ3kuciArPSBza2lsbC5zO1xuICAgIH1cbiAgICBpZiAoc2tpbGwudyA+IDApIHtcbiAgICAgIGVuZXJneS53ICs9IHNraWxsLnc7XG4gICAgICBlbmVyZ3kuciArPSBza2lsbC53O1xuICAgIH1cbiAgICBpZiAoc2tpbGwuciA+IDApIHtcbiAgICAgIGVuZXJneS5yICs9IHNraWxsLnI7XG4gICAgICBhcHAuc3RhdGUuZW5lcmd5LnJhbmRvbSAtPSBza2lsbC5yO1xuICAgIH1cbiAgfSBlbHNlIGlmIChvcHRpb24gPT09IFwiY2hlY2tcIikge1xuICAgIGxldCBhY3RpdmUgPSB0cnVlO1xuICAgIGlmICh0b3RhbC5lbmVyZ3kgPj0gdG90YWwuc2tpbGwpIHtcbiAgICAgIGxldCBjb3VudCA9IFt0cnVlLCB0cnVlLCB0cnVlLCB0cnVlLCB0cnVlXTtcbiAgICAgIGlmIChza2lsbC5hID49IDApIHtcbiAgICAgICAgY291bnRbMF0gPSBlbmVyZ3kuYSA+PSBza2lsbC5hID8gZmFsc2UgOiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHNraWxsLmkgPj0gMCkge1xuICAgICAgICBjb3VudFsxXSA9IGVuZXJneS5pID49IHNraWxsLmkgPyBmYWxzZSA6IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoc2tpbGwucyA+PSAwKSB7XG4gICAgICAgIGNvdW50WzJdID0gZW5lcmd5LnMgPj0gc2tpbGwucyA/IGZhbHNlIDogdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChza2lsbC53ID49IDApIHtcbiAgICAgICAgY291bnRbM10gPSBlbmVyZ3kudyA+PSBza2lsbC53ID8gZmFsc2UgOiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHNraWxsLnIgPj0gMCkge1xuICAgICAgICBjb3VudFs0XSA9IGVuZXJneS5yID49IHRvdGFsLnNraWxsICsgc2tpbGwuciA/IGZhbHNlIDogdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNvdW50LmZpbHRlcih4ID0+IHggPT09IGZhbHNlKS5sZW5ndGggPT09IDUpIHtcbiAgICAgICAgYWN0aXZlID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY3RpdmUgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYWN0aXZlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGJ1dHRvbk1hbmFnZW1lbnQocGF5bG9hZCwgb3B0aW9uKSB7XG4gIC8vVGFyZ2V0IEJ1dHRvblxuICBpZiAob3B0aW9uICE9PSBcIm9uU2VsZlwiKSB7XG4gICAgaWYgKHBheWxvYWQuYWltID09PSBcImVuZW15XCIpIHtcbiAgICAgIGFwcC5zdGF0ZS5idXR0b24uZW5lbXkuZm9yRWFjaCh4ID0+IHtcbiAgICAgICAgLy9EZWZpbmVcbiAgICAgICAgbGV0IHNraWxsID0gYXBwLnNvdXJjZS5hbGx5W3BheWxvYWQuaGVyb0luZGV4XS5za2lsbFtwYXlsb2FkLnNraWxsXTtcbiAgICAgICAgbGV0IGVuZW15U3RhdHVzID0gYXBwLnNvdXJjZS5lbmVteVt4LmluZGV4XS5zdGF0dXM7XG5cbiAgICAgICAgLy9JbnZ1bG5lcmFiaWxpdHlcbiAgICAgICAgbGV0IHN0YXRlID0gZW5lbXlTdGF0dXMub25TdGF0ZTtcbiAgICAgICAgbGV0IGludnVsbmVyYWJsZSA9IGludnVsbmVyYWJsZU1hbmFnZW1lbnQoc3RhdGUsIHNraWxsKTtcblxuICAgICAgICAvL0Rpc2FibGVcbiAgICAgICAgeC5idXR0b24gPSB4LmRpc2FibGVkIHx8IGludnVsbmVyYWJsZSA/IHRydWUgOiAheC5idXR0b247XG5cbiAgICAgICAgLy9JZ25vcmVcbiAgICAgICAgbGV0IGlnbm9yZSA9IGlnbm9yZU1hbmFnZW1lbnQoc3RhdGUsIHNraWxsKTtcbiAgICAgICAgY29uc29sZS5sb2coaWdub3JlKTtcblxuICAgICAgICAvL1ByZXZlbnQgSW52dWxuZXJhYmlsaXR5XG4gICAgICAgIGlmIChcbiAgICAgICAgICBvcHRpb24gPT09IFwib25Ta2lsbFwiICYmXG4gICAgICAgICAgZW5lbXlTdGF0dXMub25TdGF0ZS5zb21lKHggPT4geC50eXBlID09PSBcImRpc2FibGVEckl2XCIpICYmXG4gICAgICAgICAgaWdub3JlID09PSBmYWxzZVxuICAgICAgICApIHtcbiAgICAgICAgICB4LmJ1dHRvbiA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9NYXJraW5nXG4gICAgICAgIGlmIChwYXlsb2FkLm1hcmtpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICBsZXQgc2tpbGxOYW1lID0gc2tpbGwubmFtZTtcbiAgICAgICAgICBsZXQgbWFya2luZyA9XG4gICAgICAgICAgICBlbmVteVN0YXR1cy5vblJlY2VpdmUuc29tZSh4ID0+IHgubmFtZSA9PT0gc2tpbGxOYW1lKSB8fFxuICAgICAgICAgICAgZW5lbXlTdGF0dXMub25TdGF0ZS5zb21lKHggPT4geC5uYW1lID09PSBza2lsbE5hbWUpO1xuICAgICAgICAgIGlmIChtYXJraW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICB4LmJ1dHRvbiA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHBheWxvYWQuYWltID09PSBcImVuZW15bG9ja1wiKSB7XG4gICAgICBhcHAuc3RhdGUuYnV0dG9uLmVuZW15LmZvckVhY2goeCA9PiB7XG4gICAgICAgIC8vRGVmaW5lXG4gICAgICAgIGxldCBza2lsbCA9IGFwcC5zb3VyY2UuYWxseVtwYXlsb2FkLmhlcm9JbmRleF0uc2tpbGxbcGF5bG9hZC5za2lsbF07XG4gICAgICAgIGxldCBlbmVteVN0YXR1cyA9IGFwcC5zb3VyY2UuZW5lbXlbeC5pbmRleF0uc3RhdHVzO1xuICAgICAgICBsZXQgbG9jayA9IGVuZW15U3RhdHVzLm9uU3RhdGUuc29tZShcbiAgICAgICAgICB4ID0+IHgudHlwZSA9PT0gXCJzdGF0ZVwiICYmIHguaW5mbyA9PT0gc2tpbGwubmFtZVxuICAgICAgICApOyAgICAgICAgXG5cbiAgICAgICAgaWYgKGxvY2sgPT09IHRydWUpIHtcbiAgICAgICAgICAvL0ludnVsbmVyYWJpbGl0eVxuICAgICAgICAgIGxldCBzdGF0ZSA9IGVuZW15U3RhdHVzLm9uU3RhdGU7XG4gICAgICAgICAgbGV0IGludnVsbmVyYWJsZSA9IGludnVsbmVyYWJsZU1hbmFnZW1lbnQoc3RhdGUsIHNraWxsKTtcblxuICAgICAgICAgIC8vRGlzYWJsZVxuICAgICAgICAgIHguYnV0dG9uID0geC5kaXNhYmxlZCB8fCBpbnZ1bG5lcmFibGUgPyB0cnVlIDogIXguYnV0dG9uO1xuXG4gICAgICAgICAgLy9JZ25vcmVcbiAgICAgICAgICBsZXQgaWdub3JlID0gaWdub3JlTWFuYWdlbWVudChzdGF0ZSwgc2tpbGwpOyAgICAgICAgICBcbiAgICAgICAgICBjb25zb2xlLmxvZyhpbnZ1bG5lcmFibGUpXG5cbiAgICAgICAgICAvL1ByZXZlbnQgSW52dWxuZXJhYmlsaXR5XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgb3B0aW9uID09PSBcIm9uU2tpbGxcIiAmJlxuICAgICAgICAgICAgZW5lbXlTdGF0dXMub25TdGF0ZS5zb21lKHggPT4geC50eXBlID09PSBcImRpc2FibGVEckl2XCIpICYmXG4gICAgICAgICAgICBpZ25vcmUgPT09IGZhbHNlXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB4LmJ1dHRvbiA9IGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vTWFya2luZ1xuICAgICAgICAgIGlmIChwYXlsb2FkLm1hcmtpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGxldCBza2lsbE5hbWUgPSBza2lsbC5uYW1lO1xuICAgICAgICAgICAgbGV0IG1hcmtpbmcgPVxuICAgICAgICAgICAgICBlbmVteVN0YXR1cy5vblJlY2VpdmUuc29tZSh4ID0+IHgubmFtZSA9PT0gc2tpbGxOYW1lKSB8fFxuICAgICAgICAgICAgICBlbmVteVN0YXR1cy5vblN0YXRlLnNvbWUoeCA9PiB4Lm5hbWUgPT09IHNraWxsTmFtZSk7XG4gICAgICAgICAgICBpZiAobWFya2luZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICB4LmJ1dHRvbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgcGF5bG9hZC5haW0gPT09IFwiYWxsZW5lbXlcIiB8fFxuICAgICAgcGF5bG9hZC5haW0gPT09IFwicmFuZG9tZW5lbXlcIiB8fFxuICAgICAgcGF5bG9hZC5haW0gPT09IFwiYWxsZW5lbXlhbGxhbGx5XCJcbiAgICApIHtcbiAgICAgIGFwcC5zdGF0ZS5idXR0b24uZW5lbXkuZm9yRWFjaCh4ID0+IHtcbiAgICAgICAgLy9EZWZpbmVcbiAgICAgICAgbGV0IHNraWxsID0gYXBwLnNvdXJjZS5hbGx5W3BheWxvYWQuaGVyb0luZGV4XS5za2lsbFtwYXlsb2FkLnNraWxsXTtcbiAgICAgICAgbGV0IGVuZW15U3RhdHVzID0gYXBwLnNvdXJjZS5lbmVteVt4LmluZGV4XS5zdGF0dXM7XG5cbiAgICAgICAgLy9JbnZ1bG5lcmFiaWxpdHlcbiAgICAgICAgbGV0IHN0YXRlID0gZW5lbXlTdGF0dXMub25TdGF0ZTtcbiAgICAgICAgbGV0IGludnVsbmVyYWJsZSA9IGludnVsbmVyYWJsZU1hbmFnZW1lbnQoc3RhdGUsIHNraWxsKTtcblxuICAgICAgICAvL0Rpc2FibGVcbiAgICAgICAgeC5idXR0b24gPSB4LmRpc2FibGVkIHx8IGludnVsbmVyYWJsZSA/IHRydWUgOiAheC5idXR0b247XG5cbiAgICAgICAgLy9QcmV2ZW50IEludnVsbmVyYWJpbGl0eVxuICAgICAgICBpZiAoXG4gICAgICAgICAgb3B0aW9uID09PSBcIm9uU2tpbGxcIiAmJlxuICAgICAgICAgIGVuZW15U3RhdHVzLm9uU3RhdGUuc29tZSh4ID0+IHgudHlwZSA9PT0gXCJkaXNhYmxlRHJJdlwiKVxuICAgICAgICApIHtcbiAgICAgICAgICB4LmJ1dHRvbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHBheWxvYWQuYWltID09PSBcImFsbHlcIiB8fCBwYXlsb2FkLmFpbSA9PT0gXCJhbGxhbGx5XCIpIHtcbiAgICAgIGFwcC5zdGF0ZS5idXR0b24uYWxseS5mb3JFYWNoKFxuICAgICAgICB4ID0+ICh4LmJ1dHRvbiA9IHguZGlzYWJsZWQgPyB0cnVlIDogIXguYnV0dG9uKVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHBheWxvYWQuYWltID09PSBcIm90aGVyYWxseVwiKSB7XG4gICAgICBhcHAuc3RhdGUuYnV0dG9uLmFsbHkuZm9yRWFjaCh4ID0+IHtcbiAgICAgICAgbGV0IG5hbWUgPSBhcHAuc3RhdGUuYnV0dG9uLmFsbHlbcGF5bG9hZC5oZXJvSW5kZXhdLm5hbWU7XG4gICAgICAgIGlmICh4Lm5hbWUgIT09IG5hbWUpIHtcbiAgICAgICAgICB4LmJ1dHRvbiA9IHguZGlzYWJsZWQgPyB0cnVlIDogIXguYnV0dG9uO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHBheWxvYWQuYWltID09PSBcInNlbGZcIikge1xuICAgICAgbGV0IGFsbHkgPSBhcHAuc3RhdGUuYnV0dG9uLmFsbHlbcGF5bG9hZC5oZXJvSW5kZXhdO1xuICAgICAgYWxseS5idXR0b24gPSBhbGx5LmRpc2FibGVkID8gdHJ1ZSA6ICFhbGx5LmJ1dHRvbjtcbiAgICB9XG4gIH1cblxuICAvL1NraWxsIEJ1dHRvblxuICBpZiAob3B0aW9uID09PSBcIm9uVGFyZ2V0XCIpIHtcbiAgICBjb25zb2xlLmxvZyhcIm9uU2tpbGxcIik7XG4gICAgYXBwLnN0YXRlLmJ1dHRvbi5hbGx5LmZvckVhY2goeCA9PiB7XG4gICAgICBpZiAoeC5vblNraWxsID09PSBmYWxzZSkge1xuICAgICAgICB4LnNraWxsLmZvckVhY2gocyA9PiB7XG4gICAgICAgICAgcy5idXR0b24gPSB0cnVlO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHgubmFtZSA9PT0gcGF5bG9hZC5vZmZlbnNlICYmXG4gICAgICAgICAgICBzLm5hbWUgPT09XG4gICAgICAgICAgICAgIGFwcC5zb3VyY2UuYWxseVtwYXlsb2FkLmhlcm9JbmRleF0uc2tpbGxbcGF5bG9hZC5za2lsbF0ubmFtZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcy5idXR0b24gPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGlmIChvcHRpb24gPT09IFwib25DYW5jZWxcIikge1xuICAgIGNvbnNvbGUubG9nKFwib25DYW5jZWxcIik7XG4gICAgYXBwLnN0YXRlLmJ1dHRvbi5hbGx5LmZvckVhY2goeCA9PiB7XG4gICAgICBpZiAoeC5vblNraWxsID09PSBmYWxzZSB8fCB4Lm5hbWUgPT09IHBheWxvYWQub2ZmZW5zZSkge1xuICAgICAgICB4LnNraWxsLmZvckVhY2gocyA9PiB7XG4gICAgICAgICAgcy5idXR0b24gPSBzLmRpc2FibGVkID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHgubmFtZSA9PT0gcGF5bG9hZC5vZmZlbnNlICYmXG4gICAgICAgICAgICBzLm5hbWUgPT09XG4gICAgICAgICAgICAgIGFwcC5zb3VyY2UuYWxseVtwYXlsb2FkLmhlcm9JbmRleF0uc2tpbGxbcGF5bG9hZC5za2lsbF0ubmFtZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcy5idXR0b24gPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2UgaWYgKG9wdGlvbiA9PT0gXCJvblRhcmdldFwiKSB7XG4gICAgY29uc29sZS5sb2coXCJvblRhcmdldFwiKTtcbiAgICBhcHAuc3RhdGUuYnV0dG9uLmFsbHkuZm9yRWFjaCh4ID0+IHtcbiAgICAgIGxldCBpbmRleCA9IGFwcC5wYWNrZXQuZmluZEluZGV4KHMgPT4gcy5vZmZlbnNlID09PSB4Lm5hbWUpO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICB4LnNraWxsLmZvckVhY2gocyA9PiB7XG4gICAgICAgICAgcy5idXR0b24gPSBzLmRpc2FibGVkID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIGlmIChvcHRpb24gPT09IFwib25TZWxmXCIpIHtcbiAgICBjb25zb2xlLmxvZyhcIm9uU2VsZlwiKTtcbiAgICBhcHAuc3RhdGUuYnV0dG9uLmFsbHlbcGF5bG9hZC5oZXJvSW5kZXhdLnNraWxsLmZvckVhY2gocyA9PiB7XG4gICAgICBzLmJ1dHRvbiA9IHMuZGlzYWJsZWQgPyB0cnVlIDogZmFsc2U7XG4gICAgfSk7XG4gIH1cblxuICAvL0VuZXJneSBNYW5hZ2VtZW50XG4gIGlmIChvcHRpb24gIT09IFwib25Ta2lsbFwiKSB7XG4gICAgYXBwLnN0YXRlLmJ1dHRvbi5hbGx5LmZvckVhY2goKHgsIHhpKSA9PiB7XG4gICAgICBpZiAoeC5vblNraWxsID09PSBmYWxzZSAmJiB4Lm5hbWUgIT09IHBheWxvYWQub2ZmZW5zZSkge1xuICAgICAgICBjb25zb2xlLmxvZyh4Lm5hbWUpO1xuICAgICAgICBjb25zb2xlLmxvZyhvcHRpb24pO1xuICAgICAgICB4LnNraWxsLmZvckVhY2goKHMsIHNpKSA9PiB7XG4gICAgICAgICAgbGV0IGVuZXJneSA9IGVuZXJneU1hbmFnZW1lbnQoeyBoZXJvSW5kZXg6IHhpLCBza2lsbDogc2kgfSwgXCJjaGVja1wiKTtcbiAgICAgICAgICBzLmJ1dHRvbiA9IHMuZGlzYWJsZWQgfHwgZW5lcmd5ID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHgubmFtZSA9PT0gcGF5bG9hZC5vZmZlbnNlICYmXG4gICAgICAgICAgICBzLm5hbWUgPT09XG4gICAgICAgICAgICAgIGFwcC5zb3VyY2UuYWxseVtwYXlsb2FkLmhlcm9JbmRleF0uc2tpbGxbcGF5bG9hZC5za2lsbF0ubmFtZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcy5idXR0b24gPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoXG4gICAgICAgIChvcHRpb24gPT09IFwib25TZWxmXCIgfHwgb3B0aW9uID09PSBcIm9uQ2FuY2VsXCIpICYmXG4gICAgICAgIHgubmFtZSA9PT0gcGF5bG9hZC5vZmZlbnNlXG4gICAgICApIHtcbiAgICAgICAgeC5za2lsbC5mb3JFYWNoKChzLCBzaSkgPT4ge1xuICAgICAgICAgIGxldCBlbmVyZ3kgPSBlbmVyZ3lNYW5hZ2VtZW50KHsgaGVyb0luZGV4OiB4aSwgc2tpbGw6IHNpIH0sIFwiY2hlY2tcIik7XG4gICAgICAgICAgcy5idXR0b24gPSBzLmRpc2FibGVkIHx8IGVuZXJneSA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3R1bk1hbmFnZW1lbnQob25TdGF0ZSwgc2tpbGwpIHtcbiAgbGV0IHN0dW4gPSBvblN0YXRlLm1hcCh4ID0+IHtcbiAgICBpZiAoeC50eXBlID09PSBcInN0dW5cIikge1xuICAgICAgbGV0IGlnbm9yZSA9IGlnbm9yZU1hbmFnZW1lbnQob25TdGF0ZSwgeCkgICAgICBcbiAgICAgIGxldCBpbnRlcnNlY3QgPSBfLmludGVyc2VjdGlvbih4LmNsYXNzZXMsIHNraWxsLmNsYXNzZXMpO1xuICAgICAgXG4gICAgICBsZXQgZXZhbHVhdGU7XG5cbiAgICAgIGlmICh4LmluZm8gPT09IFwiaW5jbHVzaXZlXCIpIHtcbiAgICAgICAgZXZhbHVhdGUgPSBpbnRlcnNlY3QubGVuZ3RoID4gMCA/IHRydWUgOiBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAoeC5pbmZvID09PSBcImRlY2x1c2l2ZVwiKSB7XG4gICAgICAgIGV2YWx1YXRlID0gaW50ZXJzZWN0Lmxlbmd0aCA9PT0gMCA/IHRydWUgOiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2YWx1YXRlICYmICFpZ25vcmUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBpZiAoc3R1bi5maWx0ZXIoeCA9PiB4ID09PSB0cnVlKS5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGludnVsbmVyYWJsZU1hbmFnZW1lbnQob25TdGF0ZSwgc2tpbGwpIHtcbiAgbGV0IGludnVsbmVyYWJsZSA9IG9uU3RhdGUubWFwKHggPT4ge1xuICAgIGlmICh4LnR5cGUgPT09IFwiaW52dWxuZXJhYmxlXCIpIHsgICAgICBcbiAgICAgIGxldCBpbnRlcnNlY3QgPSBfLmludGVyc2VjdGlvbih4LmNsYXNzZXMsIHNraWxsLmNsYXNzZXMpO1xuICAgICAgXG4gICAgICBsZXQgZXZhbHVhdGU7XG5cbiAgICAgIGlmICh4LmluZm8gPT09IFwiaW5jbHVzaXZlXCIpIHtcbiAgICAgICAgZXZhbHVhdGUgPSBpbnRlcnNlY3QubGVuZ3RoID4gMCA/IHRydWUgOiBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAoeC5pbmZvID09PSBcImRlY2x1c2l2ZVwiKSB7XG4gICAgICAgIGV2YWx1YXRlID0gaW50ZXJzZWN0Lmxlbmd0aCA9PT0gMCA/IHRydWUgOiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2YWx1YXRlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgaWYgKGludnVsbmVyYWJsZS5maWx0ZXIoeCA9PiB4ID09PSB0cnVlKS5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlnbm9yZU1hbmFnZW1lbnQob25TdGF0ZSwgc2tpbGwpIHtcbiAgbGV0IGlnbm9yZSA9IG9uU3RhdGUubWFwKHggPT4ge1xuICAgIGlmICh4LnR5cGUgPT09IFwiaWdub3JlXCIpIHtcbiAgICAgIGxldCBpbnRlcnNlY3QgPSBfLmludGVyc2VjdGlvbih4LmNsYXNzZXMsIHNraWxsLmNsYXNzZXMpO1xuXG4gICAgICBsZXQgZXZhbHVhdGU7XG5cbiAgICAgIGlmICh4LmluZm8gPT09IFwiaW5jbHVzaXZlXCIpIHtcbiAgICAgICAgZXZhbHVhdGUgPSBpbnRlcnNlY3QubGVuZ3RoID4gMCA/IHRydWUgOiBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAoeC5pbmZvID09PSBcImRlY2x1c2l2ZVwiKSB7XG4gICAgICAgIGV2YWx1YXRlID0gaW50ZXJzZWN0Lmxlbmd0aCA9PT0gMCA/IHRydWUgOiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2YWx1YXRlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgaWYgKGlnbm9yZS5maWx0ZXIoeCA9PiB4ID09PSB0cnVlKS5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4iLCJmdW5jdGlvbiB2dWVCaW5kKHBheWxvYWQpIHtcbiAgbGV0IHVzZXJuYW1lID0gZ2V0Q29va2llKFwidXNlcm5hbWVcIik7XG4gIGlmIChwYXlsb2FkLnRlYW0udGVhbUV2ZW4gIT09IHVzZXJuYW1lICYmIHBheWxvYWQudGVhbS50ZWFtT2RkICE9PSB1c2VybmFtZSkge1xuICAgIGNvbnNvbGUubG9nKHBheWxvYWQudGVhbSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGNvbnNvbGUubG9nKHBheWxvYWQpO1xuICBsZXQgYWxseSA9IHBheWxvYWQudGVhbS50ZWFtRXZlbiA9PT0gdXNlcm5hbWUgPyBcInRlYW1FdmVuXCIgOiBcInRlYW1PZGRcIjtcbiAgbGV0IGVuZW15ID0gcGF5bG9hZC50ZWFtLnRlYW1FdmVuID09PSB1c2VybmFtZSA/IFwidGVhbU9kZFwiIDogXCJ0ZWFtRXZlblwiO1xuICBsZXQgdHVybiA9IGFsbHkgPT09IFwidGVhbUV2ZW5cIiA/IDAgOiAxO1xuICBsZXQgbXlUdXJuID0gcGF5bG9hZC50dXJuICUgMiA9PT0gdHVybiA/IHRydWUgOiBmYWxzZTtcblxuICBpZiAobXlUdXJuID09PSB0cnVlKSB7XG4gICAgYXBwLiRyZWZzLnNvdW5kU3RhcnRUdXJuLnBsYXkoKTtcbiAgfVxuXG4gIC8vIGlmIChwYXlsb2FkLndpbm5lci5zdGF0ZSA9PT0gdHJ1ZSAmJiBwYXlsb2FkLndpbm5lci5uYW1lID09PSB1c2VybmFtZSkge1xuICAvLyB9IGVsc2UgaWYgKFxuICAvLyAgIHBheWxvYWQud2lubmVyLnN0YXRlID09PSB0cnVlICYmXG4gIC8vICAgcGF5bG9hZC53aW5uZXIubmFtZSAhPT0gdXNlcm5hbWVcbiAgLy8gKSB7XG4gIC8vICAgYXBwLiRyZWZzLnNvdW5kTG9zZS5wbGF5KCk7XG4gIC8vIH1cblxuICBsZXQgc3RvcmUgPSB7XG4gICAgZW5lcmd5OiB7XG4gICAgICBhbGx5OiBwYXlsb2FkLmVuZXJneVthbGx5XSxcbiAgICAgIGVuZW15OiBwYXlsb2FkLmVuZXJneVtlbmVteV1cbiAgICB9LFxuICAgIGFsbHk6IHBheWxvYWRbYWxseV0ubWFwKHggPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ueCxcbiAgICAgICAgaW5kaWNhdG9yOiBzdGF0dXNWaWV3KHgubmFtZSwgeC5zdGF0dXMpXG4gICAgICB9O1xuICAgIH0pLFxuICAgIGVuZW15OiBwYXlsb2FkW2VuZW15XS5tYXAoeCA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi54LFxuICAgICAgICBpbmRpY2F0b3I6IHN0YXR1c1ZpZXcoeC5uYW1lLCB4LnN0YXR1cylcbiAgICAgIH07XG4gICAgfSksXG4gICAgdHVybjogcGF5bG9hZC50dXJuLFxuICAgIG15VHVybjogbXlUdXJuLFxuICAgIHJvb206IHBheWxvYWQucm9vbVxuICB9O1xuICBzdG9yZS5lbmVyZ3kuYWxseS5yID1cbiAgICBzdG9yZS5lbmVyZ3kuYWxseS5hICtcbiAgICBzdG9yZS5lbmVyZ3kuYWxseS5pICtcbiAgICBzdG9yZS5lbmVyZ3kuYWxseS5zICtcbiAgICBzdG9yZS5lbmVyZ3kuYWxseS53O1xuICBjb25zb2xlLmxvZyhzdG9yZSk7XG4gIGxldCBidXR0b24gPSB7XG4gICAgYWxseTogc3RvcmUuYWxseS5tYXAoeCA9PiB7XG4gICAgICAvLyBsZXQgZGlzYWJsZWQgPSB4LnN0YXR1cy5vblN0YXRlLmZpbmRJbmRleCh4ID0+IHgudHlwZSA9PT0gJ3N0dW4nKSA+IC0xIHx8IHguaHAgPD0gMCA/IHRydWUgOiBmYWxzZVxuICAgICAgbGV0IGRpc2FibGVkID0geC5ocCA8PSAwID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgLy8gbGV0IHN0dW4gPSB4LnN0YXR1cy5vblN0YXRlLnNvbWUoeCA9PiB4LnR5cGUgPT09IFwic3R1blwiKSA/IHRydWUgOiBmYWxzZTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IHgubmFtZSxcbiAgICAgICAgYnV0dG9uOiB0cnVlLFxuICAgICAgICBvblNraWxsOiBmYWxzZSxcbiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICBza2lsbDogeC5za2lsbC5tYXAocyA9PiB7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2cocy50eXBlKTtcbiAgICAgICAgICBsZXQgZW5lcmd5ID0gZW5lcmd5TWFuYWdlbWVudChcbiAgICAgICAgICAgIHsgZW5lcmd5OiBzdG9yZS5lbmVyZ3kuYWxseSwgc2tpbGxCaW5kOiBzLmVuZXJneSB9LFxuICAgICAgICAgICAgXCJjaGVja1wiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgc3R1biA9IHN0dW5NYW5hZ2VtZW50KHguc3RhdHVzLm9uU3RhdGUsIHMpO1xuICAgICAgICAgIC8vIGxldCBkaXNhYmxlRHJWciA9XG4gICAgICAgICAgLy8gICBzLnR5cGUgPT09IFwiaW52dWxuZXJhYmxlXCIgJiZcbiAgICAgICAgICAvLyAgIHguc3RhdHVzLm9uU3RhdGUuc29tZSh4ID0+IHgudHlwZSA9PT0gXCJkaXNhYmxlRHJJdlwiKVxuICAgICAgICAgIC8vICAgICA/IHRydWVcbiAgICAgICAgICAvLyAgICAgOiBmYWxzZTtcbiAgICAgICAgICBsZXQgZGlzYWJsZWQgPVxuICAgICAgICAgICAgc3R1biB8fFxuICAgICAgICAgICAgcy5yZXF1aXJlZCB8fFxuICAgICAgICAgICAgcy5zdGF0ZSA9PT0gXCJjb29sZG93blwiIHx8XG4gICAgICAgICAgICBteVR1cm4gPT09IGZhbHNlIHx8XG4gICAgICAgICAgICB4LmhwIDw9IDBcbiAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgIDogZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IHMubmFtZSxcbiAgICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgICAgIGJ1dHRvbjogZGlzYWJsZWQgfHwgZW5lcmd5ID8gdHJ1ZSA6IGZhbHNlXG4gICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICAgIH07XG4gICAgfSksXG4gICAgZW5lbXk6IHN0b3JlLmVuZW15Lm1hcCgoeCwgaSkgPT4ge1xuICAgICAgLy8gbGV0IGRpc2FibGVkID1cbiAgICAgIC8vICAgeC5zdGF0dXMub25TdGF0ZS5zb21lKHggPT4geC50eXBlID09PSBcImludnVsbmVyYWJsZVwiKSB8fCB4LmhwIDw9IDBcbiAgICAgIC8vICAgICA/IHRydWVcbiAgICAgIC8vICAgICA6IGZhbHNlO1xuICAgICAgbGV0IGRpc2FibGVkID0geC5ocCA8PSAwID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogeC5uYW1lLFxuICAgICAgICBpbmRleDogaSxcbiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICBidXR0b246IHRydWVcbiAgICAgIH07XG4gICAgfSlcbiAgfTtcbiAgYXBwLnNvdXJjZSA9IHN0b3JlO1xuICBhcHAuc3RhdGUuYnV0dG9uID0gYnV0dG9uO1xuICBhcHAuc3RhdGUudGltZXIudHVybiA9IDEwMDtcbiAgYXBwLnN0YXRlLndpbm5lciA9IHBheWxvYWQud2lubmVyO1xufVxuXG5mdW5jdGlvbiBzdGF0dXNWaWV3KG5hbWUsIHBheWxvYWQpIHtcbiAgLy8gY29uc29sZS5sb2cobmFtZSwgcGF5bG9hZCk7XG4gIGxldCBzdGF0dXMgPSBfLmNvbmNhdChcbiAgICBwYXlsb2FkLm9uQXR0YWNrLFxuICAgIHBheWxvYWQub25SZWNlaXZlLFxuICAgIHBheWxvYWQub25TdGF0ZSxcbiAgICBwYXlsb2FkLm9uU2VsZlxuICApO1xuICBsZXQgZ3JvdXBCeU5hbWVJZCA9IF8uZ3JvdXBCeShzdGF0dXMsIFwibmFtZUlkXCIpO1xuICBsZXQgdmFsdWVzQnlOYW1lSWQgPSBfLnZhbHVlcyhncm91cEJ5TmFtZUlkKTtcbiAgbGV0IGdyb3VwQnlTa2lsbEluZGV4ID0gdmFsdWVzQnlOYW1lSWQubWFwKHggPT4gXy5ncm91cEJ5KHgsIFwic2tpbGxJbmRleFwiKSk7XG4gIGxldCB2YWx1ZXNCeVNraWxsSW5kZXggPSBfLnZhbHVlcyhncm91cEJ5U2tpbGxJbmRleCk7XG4gIGxldCBjb25jYXRWYWx1ZXMgPSBbXTtcbiAgdmFsdWVzQnlTa2lsbEluZGV4LmZvckVhY2goeCA9PiB7XG4gICAgY29uY2F0VmFsdWVzID0gY29uY2F0VmFsdWVzLmNvbmNhdChfLnZhbHVlcyh4KSk7XG4gIH0pO1xuICBsZXQgZmluYWwgPSBjb25jYXRWYWx1ZXMubWFwKHggPT4ge1xuICAgIGxldCBpbmZvID0geFswXTtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogaW5mby5uYW1lLFxuICAgICAgbmFtZUlkOiBpbmZvLm5hbWVJZCxcbiAgICAgIHNraWxsSW5kZXg6IGluZm8uc2tpbGxJbmRleCxcbiAgICAgIGFjdGl2ZTogaW5mby5hY3RpdmUsXG4gICAgICB2YWw6IHhcbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIGZpbmFsO1xufVxuIiwiZnVuY3Rpb24gaW5pdGlhdGUoKSB7XG4gIGxldCB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdChcIi9cIik7XG4gIGxldCByb29tID0gdXJsW3VybC5sZW5ndGggLSAxXTtcbiAgaWYgKHJvb20gIT09IFwiXCIpIHtcbiAgICBzb2NrZXQuZW1pdChcImluaXRpYXRlXCIsIHtcbiAgICAgIHJvb206IHJvb21cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICAvLyB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSgnLycpO1xuICB9XG59XG5cbmluaXRpYXRlKCk7XG5cbnNldEludGVydmFsKCgpID0+IHtcbiAgaWYgKGFwcC5zb3VyY2UudHVybiA9PSB1bmRlZmluZWQgfHwgYXBwLnN0YXRlLndpbm5lci5zdGF0ZSAhPT0gZmFsc2UpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGFwcC5zdGF0ZS50aW1lci50dXJuID4gMCkge1xuICAgIGFwcC5zdGF0ZS50aW1lci50dXJuIC09IDMuMztcbiAgfSBlbHNlIGlmIChhcHAuc3RhdGUudGltZXIudHVybiA8PSAwICYmIGFwcC5zb3VyY2UubXlUdXJuID09PSB0cnVlKSB7XG4gICAgLy8gYXBwLnBhY2tldCA9IGFwcC5wYWNrZXQuZmlsdGVyKHggPT4geC5za2lsbCAhPT0gbnVsbCAmJiB4Lm9mZmVuc2UgIT09ICcnICYmIHgudGFyZ2V0ICE9PSAnJyAmJiB4LmFpbSAhPT0gJycgJiYgeC5oZXJvSW5kZXggIT09IG51bGwpXG4gICAgLy8gc29ja2V0LmVtaXQoJ3NlcXVlbmNlJywge1xuICAgIC8vICAgICBwYWNrZXQ6IGFwcC5wYWNrZXQsXG4gICAgLy8gICAgIHJvb206IGFwcC5zb3VyY2Uucm9vbVxuICAgIC8vIH0pXG4gICAgLy8gYXBwLnBhY2tldCA9IFtdXG4gIH1cbn0sIDEwMDApO1xuXG53aW5kb3cub25mb2N1cyA9IGZ1bmN0aW9uKCkge1xuICBkb2N1bWVudC50aXRsZSA9IFwiQW5pbWUgUnVtYmxlXCI7XG59O1xuIiwic29ja2V0Lm9uKFwiYXBwbHlcIiwgcGF5bG9hZCA9PiB7XG4gIGRvY3VtZW50LnRpdGxlID0gXCIoISkgQW5pbWUgUnVtYmxlXCI7XG4gIHZ1ZUJpbmQocGF5bG9hZCk7XG59KTtcblxuc29ja2V0Lm9uKFwibm9NYXRjaFwiLCBwYXlsb2FkID0+IHtcbiAgY29uc29sZS5sb2coXCJub25lXCIpO1xuICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShcIi9cIik7XG59KTtcbiIsImZ1bmN0aW9uIGdldFBhcmFtZXRlck5hbWUobmFtZSwgdXJsKSB7XG4gIGlmICghdXJsKSB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgbmFtZSA9IG5hbWUucmVwbGFjZSgvW1xcW1xcXV0vZywgXCJcXFxcJCZcIik7XG4gIHZhciByZWdleCA9IG5ldyBSZWdFeHAoXCJbPyZdXCIgKyBuYW1lICsgXCIoPShbXiYjXSopfCZ8I3wkKVwiKSxcbiAgICByZXN1bHRzID0gcmVnZXguZXhlYyh1cmwpO1xuICBpZiAoIXJlc3VsdHMpIHJldHVybiBudWxsO1xuICBpZiAoIXJlc3VsdHNbMl0pIHJldHVybiBcIlwiO1xuICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdHNbMl0ucmVwbGFjZSgvXFwrL2csIFwiIFwiKSk7XG59XG5cbmNvbnN0IHNldENvb2tpZSA9IChuYW1lLCB2YWx1ZSwgZGF5cyA9IDcsIHBhdGggPSBcIi9cIikgPT4ge1xuICBjb25zdCBleHBpcmVzID0gbmV3IERhdGUoRGF0ZS5ub3coKSArIGRheXMgKiA4NjRlNSkudG9HTVRTdHJpbmcoKTtcbiAgZG9jdW1lbnQuY29va2llID1cbiAgICBuYW1lICtcbiAgICBcIj1cIiArXG4gICAgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSArXG4gICAgXCI7IGV4cGlyZXM9XCIgK1xuICAgIGV4cGlyZXMgK1xuICAgIFwiOyBwYXRoPVwiICtcbiAgICBwYXRoO1xufTtcblxuY29uc3QgZ2V0Q29va2llID0gbmFtZSA9PiB7XG4gIHJldHVybiBkb2N1bWVudC5jb29raWUuc3BsaXQoXCI7IFwiKS5yZWR1Y2UoKHIsIHYpID0+IHtcbiAgICBjb25zdCBwYXJ0cyA9IHYuc3BsaXQoXCI9XCIpO1xuICAgIHJldHVybiBwYXJ0c1swXSA9PT0gbmFtZSA/IGRlY29kZVVSSUNvbXBvbmVudChwYXJ0c1sxXSkgOiByO1xuICB9LCBcIlwiKTtcbn07XG5cbmNvbnN0IGRlbGV0ZUNvb2tpZSA9IChuYW1lLCBwYXRoKSA9PiB7XG4gIHNldENvb2tpZShuYW1lLCBcIlwiLCAtMSwgcGF0aCk7XG59O1xuIl19
