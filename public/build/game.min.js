"use strict";

var socket = io("/game");
var chat = io("/chat");
"use strict";

Vue.use(VTooltip);
var app = new Vue({
  el: "#app",
  data: {
    mode: "game",
    chat: [],
    lobbychat: [],
    chatSend: "",
    chatChannel: "ingame",
    chatNotif: {
      lobby: false,
      ingame: false
    },
    source: {
      energy: {
        ally: {}
      },
      meta: {}
    },
    packet: [],
    state: {
      skill: {
        offense: null,
        skill: null,
        target: null,
        aim: null
      },
      timer: {
        turn: 100
      },
      onSkill: false,
      button: {},
      description: null,
      winner: {
        state: false,
        name: ""
      },
      energy: {
        modal: false,
        random: 0
      },
      exchange: {
        modal: false,
        used: false,
        energy: {},
        val: ""
      }
    },
    showModal: true
  },
  methods: {
    onSurrender: function onSurrender() {
      console.log("surrender");
      socket.emit("surrender", {
        room: this.source.room
      });
    },
    scrollChat: function (_scrollChat) {
      function scrollChat() {
        return _scrollChat.apply(this, arguments);
      }

      scrollChat.toString = function () {
        return _scrollChat.toString();
      };

      return scrollChat;
    }(function () {
      setTimeout(function () {
        scrollChat();
      }, 100);
    }),
    onChat: function onChat() {
      var channel = this.chatChannel === "ingame" ? "ingame" : "lobby";
      var packet = {
        channel: channel,
        room: this.source.room,
        message: this.chatSend
      };
      chat.emit("chat", packet);
      this.chatSend = "";
    },
    onExchange: function onExchange(e) {
      //Sound
      this.$refs.soundClick.play();
      var state = this.state;
      this.source.energy.ally = e.energy;
      this.source.energy.ally.r = this.source.energy.ally.r - this.state.energy.random;
      state.exchange.energy = e.cost;
      state.exchange.modal = false;
      state.exchange.used = true;
      state.exchange.val = e.exchange;
      state.button.ally.forEach(function (x, xi) {
        if (x.onSkill === false) {
          console.log(x.name);
          x.skill.forEach(function (s, si) {
            var energy = energyManagement({
              heroIndex: xi,
              skill: si
            }, "check");
            s.button = s.disabled || energy ? true : false;
            console.log(energy, s.disabled, s.button);
          });
        }
      }); //Clean Skill Buffer

      if (state.skill.offense !== null && state.skill.target === null) {
        //Switch Choice
        //Button Management
        buttonManagement(state.skill, "onCancel"); //Clean Buffer

        state.skill = {
          offense: null,
          skill: null,
          skillId: null,
          target: null,
          aim: null,
          heroIndex: null
        };
      }
    },
    onDone: function onDone(e) {
      console.log(e); //Sound

      this.$refs.soundEndTurn.play(); //Define

      var state = this.state;
      var packet = e.packet; //Organize

      state.energy.modal = false;
      packet = packet.filter(function (x) {
        return x.skill !== null && x.offense !== null && x.target !== null && x.aim !== null && x.heroIndex !== null;
      });
      packet.unshift(e.energy);

      if (state.exchange.used === true) {
        packet.unshift({
          msg: "exchange",
          val: state.exchange.val
        }, state.exchange.energy);
        state.exchange.used = false;
      } //Send


      socket.emit("sequence", {
        packet: packet,
        room: this.source.room
      }); //Reset

      state.energy.random = 0;
      this.packet = [];
      state.skill = {
        offense: null,
        skill: null,
        skillId: null,
        target: null,
        aim: null,
        heroIndex: null
      };
    },
    onSkill: function onSkill(payload) {
      //Define and Switch State
      var state = this.state;
      var marking = this.source.ally[payload.heroIndex].skill[payload.skillIndex].marking;
      var temporary = {
        offense: payload.name,
        skill: payload.skillIndex,
        skillId: payload.skillId,
        target: null,
        aim: payload.target,
        heroIndex: payload.heroIndex,
        marking: marking
      }; //Is Skill Chosen?

      var isOnSkill = state.button.ally[temporary.heroIndex].onSkill;

      if (isOnSkill === false && state.skill.offense === null && state.skill.target === null) {
        //First Choice
        //Buffer Skill
        state.skill = temporary; //Button Management

        buttonManagement(temporary, "onSkill");
      } else if (isOnSkill === false && state.skill.offense !== null && state.skill.target === null) {
        //Switch Choice
        //Button Management
        buttonManagement(state.skill, "onCancel");
        setTimeout(function () {
          buttonManagement(temporary, "onSkill");
        }, 100); //Buffer Skill

        state.skill = temporary;
      } else if (isOnSkill === true) {
        //Cancel Choice
        energyManagement(temporary, "add"); //Button Management

        buttonManagement(state.skill, "onCancel");
        buttonManagement(temporary, "onSelf");
        this.packet = this.packet.filter(function (x) {
          return x.offense !== temporary.offense;
        }); //Clean Skill Buffer

        state.skill = {
          offense: null,
          skill: null,
          skillId: null,
          target: null,
          aim: null,
          heroIndex: null
        }; //State Management

        state.button.ally[temporary.heroIndex].onSkill = false;
      }
    },
    onTarget: function onTarget(payload) {
      //Sound
      this.$refs.soundClick.play(); //Define State

      var state = this.state; //Buffer Skill

      if (state.skill.aim === "allenemy" || state.skill.aim === "randomenemy") {
        console.log(state.button.enemy);
        state.skill.target = state.button.enemy.filter(function (x) {
          return x.button !== true && x.name !== payload.name;
        }).map(function (x) {
          return x.name;
        });
        state.skill.target.unshift(payload.name);
      } else if (state.skill.aim === "allally") {
        state.skill.target = state.button.ally.map(function (x) {
          return x.name;
        });
      } else if (state.skill.aim === "allenemyallally") {
        state.skill.target = state.button.enemy.filter(function (x) {
          return x.button !== true && x.name !== payload.name;
        }).map(function (x) {
          return x.name;
        });
        state.skill.target.unshift(payload.name);
        var ally = state.button.ally.map(function (x) {
          return x.name;
        });
        state.skill.target = state.skill.target.concat(ally);
      } else if (state.skill.aim === "otherally") {
        state.skill.target = state.button.ally.filter(function (x) {
          return x.name !== state.skill.offense;
        }).map(function (x) {
          return x.name;
        });
      } else {
        state.skill.target = [payload.name];
      } //Register Skill


      this.packet.push(this.state.skill); //Energy Management

      energyManagement(state.skill, "substract"); //Button Management
      // buttonManagement(state.skill, "onSkill");

      buttonManagement(state.skill, "onTarget"); //State Management

      state.button.ally[state.skill.heroIndex].onSkill = true; //Clean Skill Buffer

      state.skill = {
        offense: null,
        skill: null,
        skillId: null,
        target: null,
        aim: null,
        heroIndex: null
      };
    },
    onAttack: function onAttack(payload) {
      //Sound
      this.$refs.soundClick.play();
      this.state.energy.modal = true;
    },
    onDescription: function onDescription(payload) {
      var option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;

      if (option === undefined) {
        option = "ally";
      } //Sound


      this.$refs.soundClick.play(); //Define

      var config = {
        nameId: payload.nameId,
        skill: payload.skillIndex,
        heroIndex: payload.heroIndex,
        option: option
      };
      var skill = this.source[config.option][config.heroIndex].skill[config.skill]; //Map Description

      var map = {
        name: skill.name,
        energy: {
          a: skill.energy.a,
          i: skill.energy.i,
          s: skill.energy.s,
          w: skill.energy.w,
          r: skill.energy.r,
          total: skill.energy.a + skill.energy.i + skill.energy.s + skill.energy.w + skill.energy.r
        },
        description: skill.description,
        classes: skill.classes,
        cooldown: skill.cooldown
      }; //Buffer Description

      var state = this.state;
      state.description = {
        nameId: config.nameId,
        skill: config.skill,
        heroIndex: config.heroIndex,
        map: map
      };
    },
    onStatus: function onStatus(payload) {
      console.log(payload);

      var status = _.concat(payload.onAttack, payload.onReceive, payload.onState, payload.onSelf);

      console.log(status);

      var group = _.groupBy(status, "nameId");

      console.log(group);

      var subgroup = _.toArray(group).map(function (x) {
        return _.toArray(_.groupBy(x, "skillIndex"));
      });

      var prep = subgroup.map(function (x) {
        return x[0];
      });
      var final = prep.map(function (x) {
        console.log(x[0]);
        var info = x[0];
        return {
          nameId: info.nameId,
          status: info.skillIndex,
          val: x
        };
      });
      console.log(prep);
      console.log(final);
      return final; // let subgroup = group.map(x => _.groupBy(x, "skillIndex"));
    },
    onGetImage: function onGetImage(payload, option) {
      if (option === "packet") {
        var index = this.source.ally.findIndex(function (x) {
          return x.name === payload.offense;
        });
        var nameId = this.source.ally[index].nameId;
        return "/assets/character/" + nameId.slice(0, -1) + "/skill" + (payload.skill + 1) + "/avatar.jpg";
      } else if (option === "char") {
        return "/assets/character/" + payload.nameId.slice(0, -1) + "/avatar.jpg";
      } else if (option === "skill") {
        return "/assets/character/" + payload.nameId.slice(0, -1) + "/skill" + (payload.skill + 1) + "/avatar.jpg";
      } else if (option === "status") {
        return "/assets/character/" + payload.nameId.slice(0, -1) + "/skill" + payload.skill + "/avatar.jpg";
      } else if (option === "targeting") {
        var _index = this.packet.findIndex(function (x) {
          return x.offense === payload.name;
        });

        var skillId = this.packet[_index].skillId;
        return "/assets/character/" + payload.nameId.slice(0, -1) + "/skill" + (skillId + 1) + "/avatar.jpg";
      }
    },
    targetingCue: function targetingCue(payload, nameId) {
      var name = payload;
      var index = this.packet.findIndex(function (x) {
        return x.offense === payload;
      });
      var packet = this.packet[index];
      var result = {
        name: name,
        skillIndex: packet.skill,
        skillId: packet.skillId,
        heroIndex: packet.heroIndex,
        target: packet.target
      };

      if (nameId) {
        result.nameId = nameId;
      }

      console.log(result);
      return result;
    }
  }
});
"use strict";

function energyManagement(temporary, option) {
  var energy = temporary.energy ? temporary.energy : app.source.energy.ally;
  var skill = temporary.skillBind ? temporary.skillBind : app.source.ally[temporary.heroIndex].skill[temporary.skill].energy;
  var total = {
    energy: energy.a + energy.i + energy.s + energy.w,
    skill: skill.a + skill.i + skill.s + skill.w
  };

  if (option === "substract") {
    if (skill.a > 0) {
      energy.a -= skill.a;
      energy.r -= skill.a;
    }

    if (skill.i > 0) {
      energy.i -= skill.i;
      energy.r -= skill.i;
    }

    if (skill.s > 0) {
      energy.s -= skill.s;
      energy.r -= skill.s;
    }

    if (skill.w > 0) {
      energy.w -= skill.w;
      energy.r -= skill.w;
    }

    if (skill.r > 0) {
      energy.r -= skill.r;
      app.state.energy.random += skill.r;
    }
  } else if (option === "add") {
    if (skill.a > 0) {
      energy.a += skill.a;
      energy.r += skill.a;
    }

    if (skill.i > 0) {
      energy.i += skill.i;
      energy.r += skill.i;
    }

    if (skill.s > 0) {
      energy.s += skill.s;
      energy.r += skill.s;
    }

    if (skill.w > 0) {
      energy.w += skill.w;
      energy.r += skill.w;
    }

    if (skill.r > 0) {
      energy.r += skill.r;
      app.state.energy.random -= skill.r;
    }
  } else if (option === "check") {
    var active = true;

    if (total.energy >= total.skill) {
      var count = [true, true, true, true, true];

      if (skill.a >= 0) {
        count[0] = energy.a >= skill.a ? false : true;
      }

      if (skill.i >= 0) {
        count[1] = energy.i >= skill.i ? false : true;
      }

      if (skill.s >= 0) {
        count[2] = energy.s >= skill.s ? false : true;
      }

      if (skill.w >= 0) {
        count[3] = energy.w >= skill.w ? false : true;
      }

      if (skill.r >= 0) {
        count[4] = energy.r >= total.skill + skill.r ? false : true;
      }

      if (count.filter(function (x) {
        return x === false;
      }).length === 5) {
        active = false;
      } else {
        active = true;
      }
    }

    return active;
  }
}

function buttonManagement(payload, option) {
  //Target Button
  if (option !== "onSelf") {
    if (payload.aim === "enemy") {
      app.state.button.enemy.forEach(function (x) {
        //Define
        var skill = app.source.ally[payload.heroIndex].skill[payload.skill];
        var enemyStatus = app.source.enemy[x.index].status; //Invulnerability

        var state = enemyStatus.onState;
        var invulnerable = invulnerableManagement(state, skill); //Disable

        x.button = x.disabled || invulnerable ? true : !x.button; //Ignore

        var ignore = ignoreManagement(state, skill);
        console.log(ignore); //Prevent Invulnerability

        if (option === "onSkill" && enemyStatus.onState.some(function (x) {
          return x.type === "disableDrIv";
        }) && ignore === false) {
          x.button = false;
        } //Marking


        if (payload.marking === true) {
          var skillName = skill.name;
          var marking = enemyStatus.onReceive.some(function (x) {
            return x.name === skillName;
          }) || enemyStatus.onState.some(function (x) {
            return x.name === skillName;
          });

          if (marking === true) {
            x.button = true;
          }
        }
      });
    } else if (payload.aim === "enemylock") {
      app.state.button.enemy.forEach(function (x) {
        //Define
        var skill = app.source.ally[payload.heroIndex].skill[payload.skill];
        var enemyStatus = app.source.enemy[x.index].status;
        var lock = enemyStatus.onState.some(function (x) {
          return x.type === "state" && x.info === skill.name;
        });

        if (lock === true) {
          //Invulnerability
          var state = enemyStatus.onState;
          var invulnerable = invulnerableManagement(state, skill); //Disable

          x.button = x.disabled || invulnerable ? true : !x.button; //Ignore

          var ignore = ignoreManagement(state, skill);
          console.log(invulnerable); //Prevent Invulnerability

          if (option === "onSkill" && enemyStatus.onState.some(function (x) {
            return x.type === "disableDrIv";
          }) && ignore === false) {
            x.button = false;
          } //Marking


          if (payload.marking === true) {
            var skillName = skill.name;
            var marking = enemyStatus.onReceive.some(function (x) {
              return x.name === skillName;
            }) || enemyStatus.onState.some(function (x) {
              return x.name === skillName;
            });

            if (marking === true) {
              x.button = true;
            }
          }
        }
      });
    } else if (payload.aim === "allenemy" || payload.aim === "randomenemy" || payload.aim === "allenemyallally") {
      app.state.button.enemy.forEach(function (x) {
        //Define
        var skill = app.source.ally[payload.heroIndex].skill[payload.skill];
        var enemyStatus = app.source.enemy[x.index].status; //Invulnerability

        var state = enemyStatus.onState;
        var invulnerable = invulnerableManagement(state, skill); //Disable

        x.button = x.disabled || invulnerable ? true : !x.button; //Prevent Invulnerability

        if (option === "onSkill" && enemyStatus.onState.some(function (x) {
          return x.type === "disableDrIv";
        })) {
          x.button = false;
        }
      });
    } else if (payload.aim === "ally" || payload.aim === "allally") {
      app.state.button.ally.forEach(function (x) {
        return x.button = x.disabled ? true : !x.button;
      });
    } else if (payload.aim === "otherally") {
      app.state.button.ally.forEach(function (x) {
        var name = app.state.button.ally[payload.heroIndex].name;

        if (x.name !== name) {
          x.button = x.disabled ? true : !x.button;
        }
      });
    } else if (payload.aim === "self") {
      var ally = app.state.button.ally[payload.heroIndex];
      ally.button = ally.disabled ? true : !ally.button;
    }
  } //Skill Button


  if (option === "onTarget") {
    console.log("onSkill");
    app.state.button.ally.forEach(function (x) {
      if (x.onSkill === false) {
        x.skill.forEach(function (s) {
          s.button = true;

          if (x.name === payload.offense && s.name === app.source.ally[payload.heroIndex].skill[payload.skill].name) {
            s.button = false;
          }
        });
      }
    });
  }

  if (option === "onCancel") {
    console.log("onCancel");
    app.state.button.ally.forEach(function (x) {
      if (x.onSkill === false || x.name === payload.offense) {
        x.skill.forEach(function (s) {
          s.button = s.disabled ? true : false;

          if (x.name === payload.offense && s.name === app.source.ally[payload.heroIndex].skill[payload.skill].name) {
            s.button = false;
          }
        });
      }
    });
  } else if (option === "onTarget") {
    console.log("onTarget");
    app.state.button.ally.forEach(function (x) {
      var index = app.packet.findIndex(function (s) {
        return s.offense === x.name;
      });

      if (index < 0) {
        x.skill.forEach(function (s) {
          s.button = s.disabled ? true : false;
        });
      }
    });
  } else if (option === "onSelf") {
    console.log("onSelf");
    app.state.button.ally[payload.heroIndex].skill.forEach(function (s) {
      s.button = s.disabled ? true : false;
    });
  } //Energy Management


  if (option !== "onSkill") {
    app.state.button.ally.forEach(function (x, xi) {
      if (x.onSkill === false && x.name !== payload.offense) {
        console.log(x.name);
        console.log(option);
        x.skill.forEach(function (s, si) {
          var energy = energyManagement({
            heroIndex: xi,
            skill: si
          }, "check");
          s.button = s.disabled || energy ? true : false;

          if (x.name === payload.offense && s.name === app.source.ally[payload.heroIndex].skill[payload.skill].name) {
            s.button = false;
          }
        });
      }

      if ((option === "onSelf" || option === "onCancel") && x.name === payload.offense) {
        x.skill.forEach(function (s, si) {
          var energy = energyManagement({
            heroIndex: xi,
            skill: si
          }, "check");
          s.button = s.disabled || energy ? true : false;
        });
      }
    });
  }
}

function stunManagement(onState, skill) {
  var stun = onState.map(function (x) {
    if (x.type === "stun") {
      var ignore = ignoreManagement(onState, x);

      var intersect = _.intersection(x.classes, skill.classes);

      var evaluate;

      if (x.info === "inclusive") {
        evaluate = intersect.length > 0 ? true : false;
      } else if (x.info === "declusive") {
        evaluate = intersect.length === 0 ? true : false;
      }

      if (evaluate && !ignore) {
        return true;
      } else {
        return false;
      }
    }
  });

  if (stun.filter(function (x) {
    return x === true;
  }).length > 0) {
    return true;
  } else {
    return false;
  }
}

function invulnerableManagement(onState, skill) {
  var invulnerable = onState.map(function (x) {
    if (x.type === "invulnerable") {
      var ignoreInvul = skill.ignoreInvul;

      var intersect = _.intersection(x.classes, skill.classes);

      var evaluate;

      if (x.info === "inclusive") {
        evaluate = intersect.length > 0 ? true : false;
      } else if (x.info === "declusive") {
        evaluate = intersect.length === 0 ? true : false;
      }

      if (evaluate && !ignoreInvul) {
        return true;
      } else {
        return false;
      }
    }
  });

  if (invulnerable.filter(function (x) {
    return x === true;
  }).length > 0) {
    return true;
  } else {
    return false;
  }
}

function ignoreManagement(onState, skill) {
  var ignore = onState.map(function (x) {
    if (x.type === "ignore") {
      var intersect = _.intersection(x.classes, skill.classes);

      var evaluate;

      if (x.info === "inclusive") {
        evaluate = intersect.length > 0 ? true : false;
      } else if (x.info === "declusive") {
        evaluate = intersect.length === 0 ? true : false;
      }

      if (evaluate) {
        return true;
      } else {
        return false;
      }
    }
  });

  if (ignore.filter(function (x) {
    return x === true;
  }).length > 0) {
    return true;
  } else {
    return false;
  }
}
"use strict";

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function vueBind(payload) {
  var username = getCookie("username");
  console.log(payload);
  var ally = payload.team.teamEven === username ? "teamEven" : "teamOdd";
  var enemy = payload.team.teamEven === username ? "teamOdd" : "teamEven";
  var turn = ally === "teamEven" ? 0 : 1;
  var myTurn = payload.turn % 2 === turn ? true : false;

  if (payload.team.teamEven !== username && payload.team.teamOdd !== username) {
    console.log("spectate");
    app.mode = "spectate";
    myTurn = false; // return;
  }

  if (myTurn === true) {
    app.$refs.soundStartTurn.play();
  } // if (payload.winner.state === true && payload.winner.name === username) {
  // } else if (
  //   payload.winner.state === true &&
  //   payload.winner.name !== username
  // ) {
  //   app.$refs.soundLose.play();
  // }


  var store = {
    energy: {
      ally: payload.energy[ally],
      enemy: payload.energy[enemy]
    },
    ally: payload[ally].map(function (x) {
      return _objectSpread({}, x, {
        indicator: statusView(x.name, x.status)
      });
    }),
    enemy: payload[enemy].map(function (x) {
      return _objectSpread({}, x, {
        indicator: statusView(x.name, x.status)
      });
    }),
    turn: payload.turn,
    myTurn: myTurn,
    room: payload.room,
    meta: {
      myName: payload.team[ally],
      theirName: payload.team[enemy]
    },
    timestamp: payload.timestamp
  };
  store.energy.ally.r = store.energy.ally.a + store.energy.ally.i + store.energy.ally.s + store.energy.ally.w;
  console.log(store);
  var button = {
    ally: store.ally.map(function (x) {
      // let disabled = x.status.onState.findIndex(x => x.type === 'stun') > -1 || x.hp <= 0 ? true : false
      var disabled = x.hp <= 0 ? true : false; // let stun = x.status.onState.some(x => x.type === "stun") ? true : false;

      return {
        name: x.name,
        button: true,
        onSkill: false,
        disabled: disabled,
        skill: x.skill.map(function (s) {
          // console.log(s.type);
          var energy = energyManagement({
            energy: store.energy.ally,
            skillBind: s.energy
          }, "check");
          var stun = stunManagement(x.status.onState, s); // let disableDrVr =
          //   s.type === "invulnerable" &&
          //   x.status.onState.some(x => x.type === "disableDrIv")
          //     ? true
          //     : false;

          var disabled = stun || s.required || s.state === "cooldown" || myTurn === false || x.hp <= 0 ? true : false;
          return {
            name: s.name,
            disabled: disabled,
            button: disabled || energy ? true : false
          };
        })
      };
    }),
    enemy: store.enemy.map(function (x, i) {
      // let disabled =
      //   x.status.onState.some(x => x.type === "invulnerable") || x.hp <= 0
      //     ? true
      //     : false;
      var disabled = x.hp <= 0 ? true : false;
      return {
        name: x.name,
        index: i,
        disabled: disabled,
        button: true
      };
    })
  };
  app.source = store;
  app.state.button = button;
  app.state.winner = payload.winner; //Time

  var timeDiff = (Date.now() - payload.timestamp) / 1000;
  var timeCalc = 45 - timeDiff;
  var remaining = 100 * (timeCalc / 45);
  console.log(payload.timestamp, timeDiff, timeCalc, remaining);

  if (remaining < 0) {
    remaining = 0;
  }

  app.state.timer.turn = remaining;
}

function statusView(name, payload) {
  // console.log(name, payload);
  var status = _.concat(payload.onAttack, payload.onReceive, payload.onState, payload.onSelf);

  status = status.filter(function (x) {
    return x.isInvisible === false;
  });

  var groupByNameId = _.groupBy(status, "nameId");

  var valuesByNameId = _.values(groupByNameId);

  var groupBySkillIndex = valuesByNameId.map(function (x) {
    return _.groupBy(x, "skillIndex");
  });

  var valuesBySkillIndex = _.values(groupBySkillIndex);

  var concatValues = [];
  valuesBySkillIndex.forEach(function (x) {
    concatValues = concatValues.concat(_.values(x));
  });
  var final = concatValues.map(function (x) {
    var info = x[0];
    return {
      name: info.name,
      nameId: info.nameId,
      skillIndex: info.skillIndex,
      active: info.active,
      val: x
    };
  });
  return final;
}
"use strict";

function initiate() {
  var url = window.location.href.split("/");
  var room = url[url.length - 1];

  if (room !== "") {
    socket.emit("initiate", {
      room: room
    });
    chat.emit("gameInitiate", {
      room: room
    });
  } else {// window.location.replace('/');
  }
}

initiate();
setInterval(function () {
  if (app.source.turn == undefined || app.state.winner.state !== false) {
    return;
  }

  if (app.state.timer.turn > 0) {
    app.state.timer.turn -= 2.2;
  } else if (app.state.timer.turn <= 0 && app.source.myTurn === true) {
    var timeDiff = (Date.now() - app.source.timestamp) / 1000;
    var timeCalc = 45 - timeDiff;
    var remaining = 100 * (timeCalc / 45);
    console.log(app.source.timestamp, timeDiff, timeCalc, remaining);

    if (remaining <= 0) {
      var payload = {
        energy: {
          a: 0,
          i: 0,
          s: 0,
          w: 0
        },
        packet: []
      };
      app.onDone(payload);
    } // app.packet = app.packet.filter(x => x.skill !== null && x.offense !== '' && x.target !== '' && x.aim !== '' && x.heroIndex !== null)
    // socket.emit('sequence', {
    //     packet: app.packet,
    //     room: app.source.room
    // })
    // app.packet = []

  }
}, 1000);

window.onfocus = function () {
  document.title = "Anime Rumble";
};

function scrollChat() {
  var container = app.$el.querySelector("#chat");
  container.scrollTop = container.scrollHeight;
}
"use strict";

socket.on("apply", function (payload) {
  document.title = "(!) Anime Rumble";
  vueBind(payload);
});
socket.on("noMatch", function (payload) {
  console.log("none");
  window.location.replace("/");
});
chat.on("chat", function (payload) {
  if (payload.channel === "ingame") {
    app.chat.push(payload.message);

    if (app.chatChannel !== "ingame") {
      app.chatNotif.ingame = true;
    } else {
      scrollChat();
    }
  } else if (payload.channel === "lobby") {
    app.lobbychat.push(payload.message);

    if (app.chatChannel !== "lobby") {
      app.chatNotif.lobby = true;
    } else {
      scrollChat();
    }
  }
});
"use strict";

function getParameterName(name, url) {
  if (!url) url = window.location.href;
  name = name.replace(/[\[\]]/g, "\\$&");
  var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
      results = regex.exec(url);
  if (!results) return null;
  if (!results[2]) return "";
  return decodeURIComponent(results[2].replace(/\+/g, " "));
}

var setCookie = function setCookie(name, value) {
  var days = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 7;
  var path = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : "/";
  var expires = new Date(Date.now() + days * 864e5).toGMTString();
  document.cookie = name + "=" + encodeURIComponent(value) + "; expires=" + expires + "; path=" + path;
};

var getCookie = function getCookie(name) {
  return document.cookie.split("; ").reduce(function (r, v) {
    var parts = v.split("=");
    return parts[0] === name ? decodeURIComponent(parts[1]) : r;
  }, "");
};

var deleteCookie = function deleteCookie(name, path) {
  setCookie(name, "", -1, path);
};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNldHVwLmpzIiwidnVlLmpzIiwibWFuYWdlbWVudC5qcyIsInJlbmRlcmVyLmpzIiwiZ2VuZXJhbC5qcyIsInNvY2tldC5qcyIsImhlbHBlci5qcyJdLCJuYW1lcyI6WyJzb2NrZXQiLCJpbyIsImNoYXQiLCJWdWUiLCJ1c2UiLCJWVG9vbHRpcCIsImFwcCIsImVsIiwiZGF0YSIsIm1vZGUiLCJsb2JieWNoYXQiLCJjaGF0U2VuZCIsImNoYXRDaGFubmVsIiwiY2hhdE5vdGlmIiwibG9iYnkiLCJpbmdhbWUiLCJzb3VyY2UiLCJlbmVyZ3kiLCJhbGx5IiwibWV0YSIsInBhY2tldCIsInN0YXRlIiwic2tpbGwiLCJvZmZlbnNlIiwidGFyZ2V0IiwiYWltIiwidGltZXIiLCJ0dXJuIiwib25Ta2lsbCIsImJ1dHRvbiIsImRlc2NyaXB0aW9uIiwid2lubmVyIiwibmFtZSIsIm1vZGFsIiwicmFuZG9tIiwiZXhjaGFuZ2UiLCJ1c2VkIiwidmFsIiwic2hvd01vZGFsIiwibWV0aG9kcyIsIm9uU3VycmVuZGVyIiwiY29uc29sZSIsImxvZyIsImVtaXQiLCJyb29tIiwic2Nyb2xsQ2hhdCIsInNldFRpbWVvdXQiLCJvbkNoYXQiLCJjaGFubmVsIiwibWVzc2FnZSIsIm9uRXhjaGFuZ2UiLCJlIiwiJHJlZnMiLCJzb3VuZENsaWNrIiwicGxheSIsInIiLCJjb3N0IiwiZm9yRWFjaCIsIngiLCJ4aSIsInMiLCJzaSIsImVuZXJneU1hbmFnZW1lbnQiLCJoZXJvSW5kZXgiLCJkaXNhYmxlZCIsImJ1dHRvbk1hbmFnZW1lbnQiLCJza2lsbElkIiwib25Eb25lIiwic291bmRFbmRUdXJuIiwiZmlsdGVyIiwidW5zaGlmdCIsIm1zZyIsInBheWxvYWQiLCJtYXJraW5nIiwic2tpbGxJbmRleCIsInRlbXBvcmFyeSIsImlzT25Ta2lsbCIsIm9uVGFyZ2V0IiwiZW5lbXkiLCJtYXAiLCJjb25jYXQiLCJwdXNoIiwib25BdHRhY2siLCJvbkRlc2NyaXB0aW9uIiwib3B0aW9uIiwidW5kZWZpbmVkIiwiY29uZmlnIiwibmFtZUlkIiwiYSIsImkiLCJ3IiwidG90YWwiLCJjbGFzc2VzIiwiY29vbGRvd24iLCJvblN0YXR1cyIsInN0YXR1cyIsIl8iLCJvblJlY2VpdmUiLCJvblN0YXRlIiwib25TZWxmIiwiZ3JvdXAiLCJncm91cEJ5Iiwic3ViZ3JvdXAiLCJ0b0FycmF5IiwicHJlcCIsImZpbmFsIiwiaW5mbyIsIm9uR2V0SW1hZ2UiLCJpbmRleCIsImZpbmRJbmRleCIsInNsaWNlIiwidGFyZ2V0aW5nQ3VlIiwicmVzdWx0Iiwic2tpbGxCaW5kIiwiYWN0aXZlIiwiY291bnQiLCJsZW5ndGgiLCJlbmVteVN0YXR1cyIsImludnVsbmVyYWJsZSIsImludnVsbmVyYWJsZU1hbmFnZW1lbnQiLCJpZ25vcmUiLCJpZ25vcmVNYW5hZ2VtZW50Iiwic29tZSIsInR5cGUiLCJza2lsbE5hbWUiLCJsb2NrIiwic3R1bk1hbmFnZW1lbnQiLCJzdHVuIiwiaW50ZXJzZWN0IiwiaW50ZXJzZWN0aW9uIiwiZXZhbHVhdGUiLCJpZ25vcmVJbnZ1bCIsInZ1ZUJpbmQiLCJ1c2VybmFtZSIsImdldENvb2tpZSIsInRlYW0iLCJ0ZWFtRXZlbiIsIm15VHVybiIsInRlYW1PZGQiLCJzb3VuZFN0YXJ0VHVybiIsInN0b3JlIiwiaW5kaWNhdG9yIiwic3RhdHVzVmlldyIsIm15TmFtZSIsInRoZWlyTmFtZSIsInRpbWVzdGFtcCIsImhwIiwicmVxdWlyZWQiLCJ0aW1lRGlmZiIsIkRhdGUiLCJub3ciLCJ0aW1lQ2FsYyIsInJlbWFpbmluZyIsImlzSW52aXNpYmxlIiwiZ3JvdXBCeU5hbWVJZCIsInZhbHVlc0J5TmFtZUlkIiwidmFsdWVzIiwiZ3JvdXBCeVNraWxsSW5kZXgiLCJ2YWx1ZXNCeVNraWxsSW5kZXgiLCJjb25jYXRWYWx1ZXMiLCJpbml0aWF0ZSIsInVybCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsInNwbGl0Iiwic2V0SW50ZXJ2YWwiLCJvbmZvY3VzIiwiZG9jdW1lbnQiLCJ0aXRsZSIsImNvbnRhaW5lciIsIiRlbCIsInF1ZXJ5U2VsZWN0b3IiLCJzY3JvbGxUb3AiLCJzY3JvbGxIZWlnaHQiLCJvbiIsInJlcGxhY2UiLCJnZXRQYXJhbWV0ZXJOYW1lIiwicmVnZXgiLCJSZWdFeHAiLCJyZXN1bHRzIiwiZXhlYyIsImRlY29kZVVSSUNvbXBvbmVudCIsInNldENvb2tpZSIsInZhbHVlIiwiZGF5cyIsInBhdGgiLCJleHBpcmVzIiwidG9HTVRTdHJpbmciLCJjb29raWUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJyZWR1Y2UiLCJ2IiwicGFydHMiLCJkZWxldGVDb29raWUiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsU0FBU0MsR0FBRyxPQUFILENBQWI7QUFDQSxJQUFJQyxPQUFPRCxHQUFHLE9BQUgsQ0FBWDs7O0FDREFFLElBQUlDLEdBQUosQ0FBUUMsUUFBUjtBQUNBLElBQUlDLE1BQU0sSUFBSUgsR0FBSixDQUFRO0FBQ2hCSSxNQUFJLE1BRFk7QUFFaEJDLFFBQU07QUFDSkMsVUFBTSxNQURGO0FBRUpQLFVBQU0sRUFGRjtBQUdKUSxlQUFXLEVBSFA7QUFJSkMsY0FBVSxFQUpOO0FBS0pDLGlCQUFhLFFBTFQ7QUFNSkMsZUFBVztBQUNUQyxhQUFPLEtBREU7QUFFVEMsY0FBUTtBQUZDLEtBTlA7QUFVSkMsWUFBUTtBQUNOQyxjQUFRO0FBQ05DLGNBQU07QUFEQSxPQURGO0FBSU5DLFlBQU07QUFKQSxLQVZKO0FBZ0JKQyxZQUFRLEVBaEJKO0FBaUJKQyxXQUFPO0FBQ0xDLGFBQU87QUFDTEMsaUJBQVMsSUFESjtBQUVMRCxlQUFPLElBRkY7QUFHTEUsZ0JBQVEsSUFISDtBQUlMQyxhQUFLO0FBSkEsT0FERjtBQU9MQyxhQUFPO0FBQ0xDLGNBQU07QUFERCxPQVBGO0FBVUxDLGVBQVMsS0FWSjtBQVdMQyxjQUFRLEVBWEg7QUFZTEMsbUJBQWEsSUFaUjtBQWFMQyxjQUFRO0FBQ05WLGVBQU8sS0FERDtBQUVOVyxjQUFNO0FBRkEsT0FiSDtBQWlCTGYsY0FBUTtBQUNO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OEosbUJBQW1CTixLQUFuQixDQUZBLEdBR0EsWUFIQSxHQUlBRyxPQUpBLEdBS0EsU0FMQSxHQU1BRCxJQVBGO0FBUUQsQ0FWRDs7QUFZQSxJQUFNcEQsWUFBWSxTQUFaQSxTQUFZLE9BQVE7QUFDeEIsU0FBT2tDLFNBQVNxQixNQUFULENBQWdCeEIsS0FBaEIsQ0FBc0IsSUFBdEIsRUFBNEIwQixNQUE1QixDQUFtQyxVQUFDeEksQ0FBRCxFQUFJeUksQ0FBSixFQUFVO0FBQ2xELFFBQU1DLFFBQVFELEVBQUUzQixLQUFGLENBQVEsR0FBUixDQUFkO0FBQ0EsV0FBTzRCLE1BQU0sQ0FBTixNQUFhakssSUFBYixHQUFvQnNKLG1CQUFtQlcsTUFBTSxDQUFOLENBQW5CLENBQXBCLEdBQW1EMUksQ0FBMUQ7QUFDRCxHQUhNLEVBR0osRUFISSxDQUFQO0FBSUQsQ0FMRDs7QUFPQSxJQUFNMkksZUFBZSxTQUFmQSxZQUFlLENBQUNsSyxJQUFELEVBQU8wSixJQUFQLEVBQWdCO0FBQ25DSCxZQUFVdkosSUFBVixFQUFnQixFQUFoQixFQUFvQixDQUFDLENBQXJCLEVBQXdCMEosSUFBeEI7QUFDRCxDQUZEIiwiZmlsZSI6ImdhbWUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IHNvY2tldCA9IGlvKFwiL2dhbWVcIik7XG5sZXQgY2hhdCA9IGlvKFwiL2NoYXRcIik7XG4iLCJWdWUudXNlKFZUb29sdGlwKTtcbmxldCBhcHAgPSBuZXcgVnVlKHtcbiAgZWw6IFwiI2FwcFwiLFxuICBkYXRhOiB7XG4gICAgbW9kZTogXCJnYW1lXCIsXG4gICAgY2hhdDogW10sXG4gICAgbG9iYnljaGF0OiBbXSxcbiAgICBjaGF0U2VuZDogXCJcIixcbiAgICBjaGF0Q2hhbm5lbDogXCJpbmdhbWVcIixcbiAgICBjaGF0Tm90aWY6IHtcbiAgICAgIGxvYmJ5OiBmYWxzZSxcbiAgICAgIGluZ2FtZTogZmFsc2VcbiAgICB9LFxuICAgIHNvdXJjZToge1xuICAgICAgZW5lcmd5OiB7XG4gICAgICAgIGFsbHk6IHt9XG4gICAgICB9LFxuICAgICAgbWV0YToge31cbiAgICB9LFxuICAgIHBhY2tldDogW10sXG4gICAgc3RhdGU6IHtcbiAgICAgIHNraWxsOiB7XG4gICAgICAgIG9mZmVuc2U6IG51bGwsXG4gICAgICAgIHNraWxsOiBudWxsLFxuICAgICAgICB0YXJnZXQ6IG51bGwsXG4gICAgICAgIGFpbTogbnVsbFxuICAgICAgfSxcbiAgICAgIHRpbWVyOiB7XG4gICAgICAgIHR1cm46IDEwMFxuICAgICAgfSxcbiAgICAgIG9uU2tpbGw6IGZhbHNlLFxuICAgICAgYnV0dG9uOiB7fSxcbiAgICAgIGRlc2NyaXB0aW9uOiBudWxsLFxuICAgICAgd2lubmVyOiB7XG4gICAgICAgIHN0YXRlOiBmYWxzZSxcbiAgICAgICAgbmFtZTogXCJcIlxuICAgICAgfSxcbiAgICAgIGVuZXJneToge1xuICAgICAgICBtb2RhbDogZmFsc2UsXG4gICAgICAgIHJhbmRvbTogMFxuICAgICAgfSxcbiAgICAgIGV4Y2hhbmdlOiB7XG4gICAgICAgIG1vZGFsOiBmYWxzZSxcbiAgICAgICAgdXNlZDogZmFsc2UsXG4gICAgICAgIGVuZXJneToge30sXG4gICAgICAgIHZhbDogXCJcIlxuICAgICAgfVxuICAgIH0sXG4gICAgc2hvd01vZGFsOiB0cnVlXG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBvblN1cnJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZyhcInN1cnJlbmRlclwiKTtcbiAgICAgIHNvY2tldC5lbWl0KFwic3VycmVuZGVyXCIsIHsgcm9vbTogdGhpcy5zb3VyY2Uucm9vbSB9KTtcbiAgICB9LFxuICAgIHNjcm9sbENoYXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHNjcm9sbENoYXQoKTtcbiAgICAgIH0sIDEwMCk7XG4gICAgfSxcbiAgICBvbkNoYXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgbGV0IGNoYW5uZWwgPSB0aGlzLmNoYXRDaGFubmVsID09PSBcImluZ2FtZVwiID8gXCJpbmdhbWVcIiA6IFwibG9iYnlcIjtcblxuICAgICAgbGV0IHBhY2tldCA9IHtcbiAgICAgICAgY2hhbm5lbDogY2hhbm5lbCxcbiAgICAgICAgcm9vbTogdGhpcy5zb3VyY2Uucm9vbSxcbiAgICAgICAgbWVzc2FnZTogdGhpcy5jaGF0U2VuZFxuICAgICAgfTtcbiAgICAgIGNoYXQuZW1pdChcImNoYXRcIiwgcGFja2V0KTtcbiAgICAgIHRoaXMuY2hhdFNlbmQgPSBcIlwiO1xuICAgIH0sXG4gICAgb25FeGNoYW5nZTogZnVuY3Rpb24oZSkge1xuICAgICAgLy9Tb3VuZFxuICAgICAgdGhpcy4kcmVmcy5zb3VuZENsaWNrLnBsYXkoKTtcblxuICAgICAgbGV0IHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgIHRoaXMuc291cmNlLmVuZXJneS5hbGx5ID0gZS5lbmVyZ3k7XG4gICAgICB0aGlzLnNvdXJjZS5lbmVyZ3kuYWxseS5yID1cbiAgICAgICAgdGhpcy5zb3VyY2UuZW5lcmd5LmFsbHkuciAtIHRoaXMuc3RhdGUuZW5lcmd5LnJhbmRvbTtcbiAgICAgIHN0YXRlLmV4Y2hhbmdlLmVuZXJneSA9IGUuY29zdDtcbiAgICAgIHN0YXRlLmV4Y2hhbmdlLm1vZGFsID0gZmFsc2U7XG4gICAgICBzdGF0ZS5leGNoYW5nZS51c2VkID0gdHJ1ZTtcbiAgICAgIHN0YXRlLmV4Y2hhbmdlLnZhbCA9IGUuZXhjaGFuZ2U7XG5cbiAgICAgIHN0YXRlLmJ1dHRvbi5hbGx5LmZvckVhY2goKHgsIHhpKSA9PiB7XG4gICAgICAgIGlmICh4Lm9uU2tpbGwgPT09IGZhbHNlKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coeC5uYW1lKTtcbiAgICAgICAgICB4LnNraWxsLmZvckVhY2goKHMsIHNpKSA9PiB7XG4gICAgICAgICAgICBsZXQgZW5lcmd5ID0gZW5lcmd5TWFuYWdlbWVudChcbiAgICAgICAgICAgICAgeyBoZXJvSW5kZXg6IHhpLCBza2lsbDogc2kgfSxcbiAgICAgICAgICAgICAgXCJjaGVja1wiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcy5idXR0b24gPSBzLmRpc2FibGVkIHx8IGVuZXJneSA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVuZXJneSwgcy5kaXNhYmxlZCwgcy5idXR0b24pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy9DbGVhbiBTa2lsbCBCdWZmZXJcbiAgICAgIGlmIChzdGF0ZS5za2lsbC5vZmZlbnNlICE9PSBudWxsICYmIHN0YXRlLnNraWxsLnRhcmdldCA9PT0gbnVsbCkge1xuICAgICAgICAvL1N3aXRjaCBDaG9pY2VcbiAgICAgICAgLy9CdXR0b24gTWFuYWdlbWVudFxuICAgICAgICBidXR0b25NYW5hZ2VtZW50KHN0YXRlLnNraWxsLCBcIm9uQ2FuY2VsXCIpO1xuICAgICAgICAvL0NsZWFuIEJ1ZmZlclxuICAgICAgICBzdGF0ZS5za2lsbCA9IHtcbiAgICAgICAgICBvZmZlbnNlOiBudWxsLFxuICAgICAgICAgIHNraWxsOiBudWxsLFxuICAgICAgICAgIHNraWxsSWQ6IG51bGwsXG4gICAgICAgICAgdGFyZ2V0OiBudWxsLFxuICAgICAgICAgIGFpbTogbnVsbCxcbiAgICAgICAgICBoZXJvSW5kZXg6IG51bGxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9uRG9uZTogZnVuY3Rpb24oZSkge1xuICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAvL1NvdW5kXG4gICAgICB0aGlzLiRyZWZzLnNvdW5kRW5kVHVybi5wbGF5KCk7XG5cbiAgICAgIC8vRGVmaW5lXG4gICAgICBsZXQgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgbGV0IHBhY2tldCA9IGUucGFja2V0O1xuXG4gICAgICAvL09yZ2FuaXplXG4gICAgICBzdGF0ZS5lbmVyZ3kubW9kYWwgPSBmYWxzZTtcbiAgICAgIHBhY2tldCA9IHBhY2tldC5maWx0ZXIoXG4gICAgICAgIHggPT5cbiAgICAgICAgICB4LnNraWxsICE9PSBudWxsICYmXG4gICAgICAgICAgeC5vZmZlbnNlICE9PSBudWxsICYmXG4gICAgICAgICAgeC50YXJnZXQgIT09IG51bGwgJiZcbiAgICAgICAgICB4LmFpbSAhPT0gbnVsbCAmJlxuICAgICAgICAgIHguaGVyb0luZGV4ICE9PSBudWxsXG4gICAgICApO1xuICAgICAgcGFja2V0LnVuc2hpZnQoZS5lbmVyZ3kpO1xuICAgICAgaWYgKHN0YXRlLmV4Y2hhbmdlLnVzZWQgPT09IHRydWUpIHtcbiAgICAgICAgcGFja2V0LnVuc2hpZnQoXG4gICAgICAgICAgeyBtc2c6IFwiZXhjaGFuZ2VcIiwgdmFsOiBzdGF0ZS5leGNoYW5nZS52YWwgfSxcbiAgICAgICAgICBzdGF0ZS5leGNoYW5nZS5lbmVyZ3lcbiAgICAgICAgKTtcbiAgICAgICAgc3RhdGUuZXhjaGFuZ2UudXNlZCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvL1NlbmRcbiAgICAgIHNvY2tldC5lbWl0KFwic2VxdWVuY2VcIiwge1xuICAgICAgICBwYWNrZXQ6IHBhY2tldCxcbiAgICAgICAgcm9vbTogdGhpcy5zb3VyY2Uucm9vbVxuICAgICAgfSk7XG5cbiAgICAgIC8vUmVzZXRcbiAgICAgIHN0YXRlLmVuZXJneS5yYW5kb20gPSAwO1xuICAgICAgdGhpcy5wYWNrZXQgPSBbXTtcbiAgICAgIHN0YXRlLnNraWxsID0ge1xuICAgICAgICBvZmZlbnNlOiBudWxsLFxuICAgICAgICBza2lsbDogbnVsbCxcbiAgICAgICAgc2tpbGxJZDogbnVsbCxcbiAgICAgICAgdGFyZ2V0OiBudWxsLFxuICAgICAgICBhaW06IG51bGwsXG4gICAgICAgIGhlcm9JbmRleDogbnVsbFxuICAgICAgfTtcbiAgICB9LFxuICAgIG9uU2tpbGw6IGZ1bmN0aW9uKHBheWxvYWQpIHtcbiAgICAgIC8vRGVmaW5lIGFuZCBTd2l0Y2ggU3RhdGVcbiAgICAgIGxldCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICBsZXQgbWFya2luZyA9IHRoaXMuc291cmNlLmFsbHlbcGF5bG9hZC5oZXJvSW5kZXhdLnNraWxsW1xuICAgICAgICBwYXlsb2FkLnNraWxsSW5kZXhcbiAgICAgIF0ubWFya2luZztcbiAgICAgIGxldCB0ZW1wb3JhcnkgPSB7XG4gICAgICAgIG9mZmVuc2U6IHBheWxvYWQubmFtZSxcbiAgICAgICAgc2tpbGw6IHBheWxvYWQuc2tpbGxJbmRleCxcbiAgICAgICAgc2tpbGxJZDogcGF5bG9hZC5za2lsbElkLFxuICAgICAgICB0YXJnZXQ6IG51bGwsXG4gICAgICAgIGFpbTogcGF5bG9hZC50YXJnZXQsXG4gICAgICAgIGhlcm9JbmRleDogcGF5bG9hZC5oZXJvSW5kZXgsXG4gICAgICAgIG1hcmtpbmc6IG1hcmtpbmdcbiAgICAgIH07XG5cbiAgICAgIC8vSXMgU2tpbGwgQ2hvc2VuP1xuICAgICAgbGV0IGlzT25Ta2lsbCA9IHN0YXRlLmJ1dHRvbi5hbGx5W3RlbXBvcmFyeS5oZXJvSW5kZXhdLm9uU2tpbGw7XG5cbiAgICAgIGlmIChcbiAgICAgICAgaXNPblNraWxsID09PSBmYWxzZSAmJlxuICAgICAgICBzdGF0ZS5za2lsbC5vZmZlbnNlID09PSBudWxsICYmXG4gICAgICAgIHN0YXRlLnNraWxsLnRhcmdldCA9PT0gbnVsbFxuICAgICAgKSB7XG4gICAgICAgIC8vRmlyc3QgQ2hvaWNlXG4gICAgICAgIC8vQnVmZmVyIFNraWxsXG4gICAgICAgIHN0YXRlLnNraWxsID0gdGVtcG9yYXJ5O1xuICAgICAgICAvL0J1dHRvbiBNYW5hZ2VtZW50XG4gICAgICAgIGJ1dHRvbk1hbmFnZW1lbnQodGVtcG9yYXJ5LCBcIm9uU2tpbGxcIik7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBpc09uU2tpbGwgPT09IGZhbHNlICYmXG4gICAgICAgIHN0YXRlLnNraWxsLm9mZmVuc2UgIT09IG51bGwgJiZcbiAgICAgICAgc3RhdGUuc2tpbGwudGFyZ2V0ID09PSBudWxsXG4gICAgICApIHtcbiAgICAgICAgLy9Td2l0Y2ggQ2hvaWNlXG4gICAgICAgIC8vQnV0dG9uIE1hbmFnZW1lbnRcbiAgICAgICAgYnV0dG9uTWFuYWdlbWVudChzdGF0ZS5za2lsbCwgXCJvbkNhbmNlbFwiKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgYnV0dG9uTWFuYWdlbWVudCh0ZW1wb3JhcnksIFwib25Ta2lsbFwiKTtcbiAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgLy9CdWZmZXIgU2tpbGxcbiAgICAgICAgc3RhdGUuc2tpbGwgPSB0ZW1wb3Jhcnk7XG4gICAgICB9IGVsc2UgaWYgKGlzT25Ta2lsbCA9PT0gdHJ1ZSkge1xuICAgICAgICAvL0NhbmNlbCBDaG9pY2VcbiAgICAgICAgZW5lcmd5TWFuYWdlbWVudCh0ZW1wb3JhcnksIFwiYWRkXCIpO1xuICAgICAgICAvL0J1dHRvbiBNYW5hZ2VtZW50XG4gICAgICAgIGJ1dHRvbk1hbmFnZW1lbnQoc3RhdGUuc2tpbGwsIFwib25DYW5jZWxcIik7XG4gICAgICAgIGJ1dHRvbk1hbmFnZW1lbnQodGVtcG9yYXJ5LCBcIm9uU2VsZlwiKTtcbiAgICAgICAgdGhpcy5wYWNrZXQgPSB0aGlzLnBhY2tldC5maWx0ZXIoeCA9PiB4Lm9mZmVuc2UgIT09IHRlbXBvcmFyeS5vZmZlbnNlKTtcbiAgICAgICAgLy9DbGVhbiBTa2lsbCBCdWZmZXJcbiAgICAgICAgc3RhdGUuc2tpbGwgPSB7XG4gICAgICAgICAgb2ZmZW5zZTogbnVsbCxcbiAgICAgICAgICBza2lsbDogbnVsbCxcbiAgICAgICAgICBza2lsbElkOiBudWxsLFxuICAgICAgICAgIHRhcmdldDogbnVsbCxcbiAgICAgICAgICBhaW06IG51bGwsXG4gICAgICAgICAgaGVyb0luZGV4OiBudWxsXG4gICAgICAgIH07XG4gICAgICAgIC8vU3RhdGUgTWFuYWdlbWVudFxuICAgICAgICBzdGF0ZS5idXR0b24uYWxseVt0ZW1wb3JhcnkuaGVyb0luZGV4XS5vblNraWxsID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcbiAgICBvblRhcmdldDogZnVuY3Rpb24ocGF5bG9hZCkge1xuICAgICAgLy9Tb3VuZFxuICAgICAgdGhpcy4kcmVmcy5zb3VuZENsaWNrLnBsYXkoKTtcblxuICAgICAgLy9EZWZpbmUgU3RhdGVcbiAgICAgIGxldCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgIC8vQnVmZmVyIFNraWxsXG4gICAgICBpZiAoc3RhdGUuc2tpbGwuYWltID09PSBcImFsbGVuZW15XCIgfHwgc3RhdGUuc2tpbGwuYWltID09PSBcInJhbmRvbWVuZW15XCIpIHtcbiAgICAgICAgY29uc29sZS5sb2coc3RhdGUuYnV0dG9uLmVuZW15KTtcbiAgICAgICAgc3RhdGUuc2tpbGwudGFyZ2V0ID0gc3RhdGUuYnV0dG9uLmVuZW15XG4gICAgICAgICAgLmZpbHRlcih4ID0+IHguYnV0dG9uICE9PSB0cnVlICYmIHgubmFtZSAhPT0gcGF5bG9hZC5uYW1lKVxuICAgICAgICAgIC5tYXAoeCA9PiB4Lm5hbWUpO1xuICAgICAgICBzdGF0ZS5za2lsbC50YXJnZXQudW5zaGlmdChwYXlsb2FkLm5hbWUpO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZS5za2lsbC5haW0gPT09IFwiYWxsYWxseVwiKSB7XG4gICAgICAgIHN0YXRlLnNraWxsLnRhcmdldCA9IHN0YXRlLmJ1dHRvbi5hbGx5Lm1hcCh4ID0+IHgubmFtZSk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLnNraWxsLmFpbSA9PT0gXCJhbGxlbmVteWFsbGFsbHlcIikge1xuICAgICAgICBzdGF0ZS5za2lsbC50YXJnZXQgPSBzdGF0ZS5idXR0b24uZW5lbXlcbiAgICAgICAgICAuZmlsdGVyKHggPT4geC5idXR0b24gIT09IHRydWUgJiYgeC5uYW1lICE9PSBwYXlsb2FkLm5hbWUpXG4gICAgICAgICAgLm1hcCh4ID0+IHgubmFtZSk7XG4gICAgICAgIHN0YXRlLnNraWxsLnRhcmdldC51bnNoaWZ0KHBheWxvYWQubmFtZSk7XG4gICAgICAgIGxldCBhbGx5ID0gc3RhdGUuYnV0dG9uLmFsbHkubWFwKHggPT4geC5uYW1lKTtcbiAgICAgICAgc3RhdGUuc2tpbGwudGFyZ2V0ID0gc3RhdGUuc2tpbGwudGFyZ2V0LmNvbmNhdChhbGx5KTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUuc2tpbGwuYWltID09PSBcIm90aGVyYWxseVwiKSB7XG4gICAgICAgIHN0YXRlLnNraWxsLnRhcmdldCA9IHN0YXRlLmJ1dHRvbi5hbGx5XG4gICAgICAgICAgLmZpbHRlcih4ID0+IHgubmFtZSAhPT0gc3RhdGUuc2tpbGwub2ZmZW5zZSlcbiAgICAgICAgICAubWFwKHggPT4geC5uYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRlLnNraWxsLnRhcmdldCA9IFtwYXlsb2FkLm5hbWVdO1xuICAgICAgfVxuICAgICAgLy9SZWdpc3RlciBTa2lsbFxuICAgICAgdGhpcy5wYWNrZXQucHVzaCh0aGlzLnN0YXRlLnNraWxsKTtcblxuICAgICAgLy9FbmVyZ3kgTWFuYWdlbWVudFxuICAgICAgZW5lcmd5TWFuYWdlbWVudChzdGF0ZS5za2lsbCwgXCJzdWJzdHJhY3RcIik7XG4gICAgICAvL0J1dHRvbiBNYW5hZ2VtZW50XG4gICAgICAvLyBidXR0b25NYW5hZ2VtZW50KHN0YXRlLnNraWxsLCBcIm9uU2tpbGxcIik7XG4gICAgICBidXR0b25NYW5hZ2VtZW50KHN0YXRlLnNraWxsLCBcIm9uVGFyZ2V0XCIpO1xuICAgICAgLy9TdGF0ZSBNYW5hZ2VtZW50XG4gICAgICBzdGF0ZS5idXR0b24uYWxseVtzdGF0ZS5za2lsbC5oZXJvSW5kZXhdLm9uU2tpbGwgPSB0cnVlO1xuXG4gICAgICAvL0NsZWFuIFNraWxsIEJ1ZmZlclxuICAgICAgc3RhdGUuc2tpbGwgPSB7XG4gICAgICAgIG9mZmVuc2U6IG51bGwsXG4gICAgICAgIHNraWxsOiBudWxsLFxuICAgICAgICBza2lsbElkOiBudWxsLFxuICAgICAgICB0YXJnZXQ6IG51bGwsXG4gICAgICAgIGFpbTogbnVsbCxcbiAgICAgICAgaGVyb0luZGV4OiBudWxsXG4gICAgICB9O1xuICAgIH0sXG4gICAgb25BdHRhY2s6IGZ1bmN0aW9uKHBheWxvYWQpIHtcbiAgICAgIC8vU291bmRcbiAgICAgIHRoaXMuJHJlZnMuc291bmRDbGljay5wbGF5KCk7XG5cbiAgICAgIHRoaXMuc3RhdGUuZW5lcmd5Lm1vZGFsID0gdHJ1ZTtcbiAgICB9LFxuICAgIG9uRGVzY3JpcHRpb246IGZ1bmN0aW9uKHBheWxvYWQsIG9wdGlvbiA9IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKG9wdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG9wdGlvbiA9IFwiYWxseVwiO1xuICAgICAgfVxuICAgICAgLy9Tb3VuZFxuICAgICAgdGhpcy4kcmVmcy5zb3VuZENsaWNrLnBsYXkoKTtcbiAgICAgIC8vRGVmaW5lXG4gICAgICBsZXQgY29uZmlnID0ge1xuICAgICAgICBuYW1lSWQ6IHBheWxvYWQubmFtZUlkLFxuICAgICAgICBza2lsbDogcGF5bG9hZC5za2lsbEluZGV4LFxuICAgICAgICBoZXJvSW5kZXg6IHBheWxvYWQuaGVyb0luZGV4LFxuICAgICAgICBvcHRpb246IG9wdGlvblxuICAgICAgfTtcbiAgICAgIGxldCBza2lsbCA9IHRoaXMuc291cmNlW2NvbmZpZy5vcHRpb25dW2NvbmZpZy5oZXJvSW5kZXhdLnNraWxsW1xuICAgICAgICBjb25maWcuc2tpbGxcbiAgICAgIF07XG4gICAgICAvL01hcCBEZXNjcmlwdGlvblxuICAgICAgbGV0IG1hcCA9IHtcbiAgICAgICAgbmFtZTogc2tpbGwubmFtZSxcbiAgICAgICAgZW5lcmd5OiB7XG4gICAgICAgICAgYTogc2tpbGwuZW5lcmd5LmEsXG4gICAgICAgICAgaTogc2tpbGwuZW5lcmd5LmksXG4gICAgICAgICAgczogc2tpbGwuZW5lcmd5LnMsXG4gICAgICAgICAgdzogc2tpbGwuZW5lcmd5LncsXG4gICAgICAgICAgcjogc2tpbGwuZW5lcmd5LnIsXG4gICAgICAgICAgdG90YWw6XG4gICAgICAgICAgICBza2lsbC5lbmVyZ3kuYSArXG4gICAgICAgICAgICBza2lsbC5lbmVyZ3kuaSArXG4gICAgICAgICAgICBza2lsbC5lbmVyZ3kucyArXG4gICAgICAgICAgICBza2lsbC5lbmVyZ3kudyArXG4gICAgICAgICAgICBza2lsbC5lbmVyZ3kuclxuICAgICAgICB9LFxuICAgICAgICBkZXNjcmlwdGlvbjogc2tpbGwuZGVzY3JpcHRpb24sXG4gICAgICAgIGNsYXNzZXM6IHNraWxsLmNsYXNzZXMsXG4gICAgICAgIGNvb2xkb3duOiBza2lsbC5jb29sZG93blxuICAgICAgfTtcblxuICAgICAgLy9CdWZmZXIgRGVzY3JpcHRpb25cbiAgICAgIGxldCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICBzdGF0ZS5kZXNjcmlwdGlvbiA9IHtcbiAgICAgICAgbmFtZUlkOiBjb25maWcubmFtZUlkLFxuICAgICAgICBza2lsbDogY29uZmlnLnNraWxsLFxuICAgICAgICBoZXJvSW5kZXg6IGNvbmZpZy5oZXJvSW5kZXgsXG4gICAgICAgIG1hcDogbWFwXG4gICAgICB9O1xuICAgIH0sXG4gICAgb25TdGF0dXM6IGZ1bmN0aW9uKHBheWxvYWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKHBheWxvYWQpO1xuICAgICAgbGV0IHN0YXR1cyA9IF8uY29uY2F0KFxuICAgICAgICBwYXlsb2FkLm9uQXR0YWNrLFxuICAgICAgICBwYXlsb2FkLm9uUmVjZWl2ZSxcbiAgICAgICAgcGF5bG9hZC5vblN0YXRlLFxuICAgICAgICBwYXlsb2FkLm9uU2VsZlxuICAgICAgKTtcbiAgICAgIGNvbnNvbGUubG9nKHN0YXR1cyk7XG4gICAgICBsZXQgZ3JvdXAgPSBfLmdyb3VwQnkoc3RhdHVzLCBcIm5hbWVJZFwiKTtcbiAgICAgIGNvbnNvbGUubG9nKGdyb3VwKTtcbiAgICAgIGxldCBzdWJncm91cCA9IF8udG9BcnJheShncm91cCkubWFwKHggPT5cbiAgICAgICAgXy50b0FycmF5KF8uZ3JvdXBCeSh4LCBcInNraWxsSW5kZXhcIikpXG4gICAgICApO1xuICAgICAgbGV0IHByZXAgPSBzdWJncm91cC5tYXAoeCA9PiB4WzBdKTtcbiAgICAgIGxldCBmaW5hbCA9IHByZXAubWFwKHggPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyh4WzBdKTtcbiAgICAgICAgbGV0IGluZm8gPSB4WzBdO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5hbWVJZDogaW5mby5uYW1lSWQsXG4gICAgICAgICAgc3RhdHVzOiBpbmZvLnNraWxsSW5kZXgsXG4gICAgICAgICAgdmFsOiB4XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKHByZXApO1xuICAgICAgY29uc29sZS5sb2coZmluYWwpO1xuICAgICAgcmV0dXJuIGZpbmFsO1xuICAgICAgLy8gbGV0IHN1Ymdyb3VwID0gZ3JvdXAubWFwKHggPT4gXy5ncm91cEJ5KHgsIFwic2tpbGxJbmRleFwiKSk7XG4gICAgfSxcbiAgICBvbkdldEltYWdlOiBmdW5jdGlvbihwYXlsb2FkLCBvcHRpb24pIHtcbiAgICAgIGlmIChvcHRpb24gPT09IFwicGFja2V0XCIpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5zb3VyY2UuYWxseS5maW5kSW5kZXgoeCA9PiB4Lm5hbWUgPT09IHBheWxvYWQub2ZmZW5zZSk7XG4gICAgICAgIGxldCBuYW1lSWQgPSB0aGlzLnNvdXJjZS5hbGx5W2luZGV4XS5uYW1lSWQ7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBcIi9hc3NldHMvY2hhcmFjdGVyL1wiICtcbiAgICAgICAgICBuYW1lSWQuc2xpY2UoMCwgLTEpICtcbiAgICAgICAgICBcIi9za2lsbFwiICtcbiAgICAgICAgICAocGF5bG9hZC5za2lsbCArIDEpICtcbiAgICAgICAgICBcIi9hdmF0YXIuanBnXCJcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9uID09PSBcImNoYXJcIikge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIFwiL2Fzc2V0cy9jaGFyYWN0ZXIvXCIgKyBwYXlsb2FkLm5hbWVJZC5zbGljZSgwLCAtMSkgKyBcIi9hdmF0YXIuanBnXCJcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9uID09PSBcInNraWxsXCIpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBcIi9hc3NldHMvY2hhcmFjdGVyL1wiICtcbiAgICAgICAgICBwYXlsb2FkLm5hbWVJZC5zbGljZSgwLCAtMSkgK1xuICAgICAgICAgIFwiL3NraWxsXCIgK1xuICAgICAgICAgIChwYXlsb2FkLnNraWxsICsgMSkgK1xuICAgICAgICAgIFwiL2F2YXRhci5qcGdcIlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChvcHRpb24gPT09IFwic3RhdHVzXCIpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBcIi9hc3NldHMvY2hhcmFjdGVyL1wiICtcbiAgICAgICAgICBwYXlsb2FkLm5hbWVJZC5zbGljZSgwLCAtMSkgK1xuICAgICAgICAgIFwiL3NraWxsXCIgK1xuICAgICAgICAgIHBheWxvYWQuc2tpbGwgK1xuICAgICAgICAgIFwiL2F2YXRhci5qcGdcIlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChvcHRpb24gPT09IFwidGFyZ2V0aW5nXCIpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5wYWNrZXQuZmluZEluZGV4KHggPT4geC5vZmZlbnNlID09PSBwYXlsb2FkLm5hbWUpO1xuICAgICAgICBsZXQgc2tpbGxJZCA9IHRoaXMucGFja2V0W2luZGV4XS5za2lsbElkO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIFwiL2Fzc2V0cy9jaGFyYWN0ZXIvXCIgK1xuICAgICAgICAgIHBheWxvYWQubmFtZUlkLnNsaWNlKDAsIC0xKSArXG4gICAgICAgICAgXCIvc2tpbGxcIiArXG4gICAgICAgICAgKHNraWxsSWQgKyAxKSArXG4gICAgICAgICAgXCIvYXZhdGFyLmpwZ1wiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSxcbiAgICB0YXJnZXRpbmdDdWU6IGZ1bmN0aW9uKHBheWxvYWQsIG5hbWVJZCkge1xuICAgICAgbGV0IG5hbWUgPSBwYXlsb2FkO1xuICAgICAgbGV0IGluZGV4ID0gdGhpcy5wYWNrZXQuZmluZEluZGV4KHggPT4geC5vZmZlbnNlID09PSBwYXlsb2FkKTtcbiAgICAgIGxldCBwYWNrZXQgPSB0aGlzLnBhY2tldFtpbmRleF07XG5cbiAgICAgIGxldCByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIHNraWxsSW5kZXg6IHBhY2tldC5za2lsbCxcbiAgICAgICAgc2tpbGxJZDogcGFja2V0LnNraWxsSWQsXG4gICAgICAgIGhlcm9JbmRleDogcGFja2V0Lmhlcm9JbmRleCxcbiAgICAgICAgdGFyZ2V0OiBwYWNrZXQudGFyZ2V0XG4gICAgICB9O1xuXG4gICAgICBpZiAobmFtZUlkKSB7XG4gICAgICAgIHJlc3VsdC5uYW1lSWQgPSBuYW1lSWQ7XG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfVxufSk7XG4iLCJmdW5jdGlvbiBlbmVyZ3lNYW5hZ2VtZW50KHRlbXBvcmFyeSwgb3B0aW9uKSB7XG4gIGxldCBlbmVyZ3kgPSB0ZW1wb3JhcnkuZW5lcmd5ID8gdGVtcG9yYXJ5LmVuZXJneSA6IGFwcC5zb3VyY2UuZW5lcmd5LmFsbHk7XG4gIGxldCBza2lsbCA9IHRlbXBvcmFyeS5za2lsbEJpbmRcbiAgICA/IHRlbXBvcmFyeS5za2lsbEJpbmRcbiAgICA6IGFwcC5zb3VyY2UuYWxseVt0ZW1wb3JhcnkuaGVyb0luZGV4XS5za2lsbFt0ZW1wb3Jhcnkuc2tpbGxdLmVuZXJneTtcbiAgbGV0IHRvdGFsID0ge1xuICAgIGVuZXJneTogZW5lcmd5LmEgKyBlbmVyZ3kuaSArIGVuZXJneS5zICsgZW5lcmd5LncsXG4gICAgc2tpbGw6IHNraWxsLmEgKyBza2lsbC5pICsgc2tpbGwucyArIHNraWxsLndcbiAgfTtcblxuICBpZiAob3B0aW9uID09PSBcInN1YnN0cmFjdFwiKSB7XG4gICAgaWYgKHNraWxsLmEgPiAwKSB7XG4gICAgICBlbmVyZ3kuYSAtPSBza2lsbC5hO1xuICAgICAgZW5lcmd5LnIgLT0gc2tpbGwuYTtcbiAgICB9XG4gICAgaWYgKHNraWxsLmkgPiAwKSB7XG4gICAgICBlbmVyZ3kuaSAtPSBza2lsbC5pO1xuICAgICAgZW5lcmd5LnIgLT0gc2tpbGwuaTtcbiAgICB9XG4gICAgaWYgKHNraWxsLnMgPiAwKSB7XG4gICAgICBlbmVyZ3kucyAtPSBza2lsbC5zO1xuICAgICAgZW5lcmd5LnIgLT0gc2tpbGwucztcbiAgICB9XG4gICAgaWYgKHNraWxsLncgPiAwKSB7XG4gICAgICBlbmVyZ3kudyAtPSBza2lsbC53O1xuICAgICAgZW5lcmd5LnIgLT0gc2tpbGwudztcbiAgICB9XG4gICAgaWYgKHNraWxsLnIgPiAwKSB7XG4gICAgICBlbmVyZ3kuciAtPSBza2lsbC5yO1xuICAgICAgYXBwLnN0YXRlLmVuZXJneS5yYW5kb20gKz0gc2tpbGwucjtcbiAgICB9XG4gIH0gZWxzZSBpZiAob3B0aW9uID09PSBcImFkZFwiKSB7XG4gICAgaWYgKHNraWxsLmEgPiAwKSB7XG4gICAgICBlbmVyZ3kuYSArPSBza2lsbC5hO1xuICAgICAgZW5lcmd5LnIgKz0gc2tpbGwuYTtcbiAgICB9XG4gICAgaWYgKHNraWxsLmkgPiAwKSB7XG4gICAgICBlbmVyZ3kuaSArPSBza2lsbC5pO1xuICAgICAgZW5lcmd5LnIgKz0gc2tpbGwuaTtcbiAgICB9XG4gICAgaWYgKHNraWxsLnMgPiAwKSB7XG4gICAgICBlbmVyZ3kucyArPSBza2lsbC5zO1xuICAgICAgZW5lcmd5LnIgKz0gc2tpbGwucztcbiAgICB9XG4gICAgaWYgKHNraWxsLncgPiAwKSB7XG4gICAgICBlbmVyZ3kudyArPSBza2lsbC53O1xuICAgICAgZW5lcmd5LnIgKz0gc2tpbGwudztcbiAgICB9XG4gICAgaWYgKHNraWxsLnIgPiAwKSB7XG4gICAgICBlbmVyZ3kuciArPSBza2lsbC5yO1xuICAgICAgYXBwLnN0YXRlLmVuZXJneS5yYW5kb20gLT0gc2tpbGwucjtcbiAgICB9XG4gIH0gZWxzZSBpZiAob3B0aW9uID09PSBcImNoZWNrXCIpIHtcbiAgICBsZXQgYWN0aXZlID0gdHJ1ZTtcbiAgICBpZiAodG90YWwuZW5lcmd5ID49IHRvdGFsLnNraWxsKSB7XG4gICAgICBsZXQgY291bnQgPSBbdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZV07XG4gICAgICBpZiAoc2tpbGwuYSA+PSAwKSB7XG4gICAgICAgIGNvdW50WzBdID0gZW5lcmd5LmEgPj0gc2tpbGwuYSA/IGZhbHNlIDogdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChza2lsbC5pID49IDApIHtcbiAgICAgICAgY291bnRbMV0gPSBlbmVyZ3kuaSA+PSBza2lsbC5pID8gZmFsc2UgOiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHNraWxsLnMgPj0gMCkge1xuICAgICAgICBjb3VudFsyXSA9IGVuZXJneS5zID49IHNraWxsLnMgPyBmYWxzZSA6IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoc2tpbGwudyA+PSAwKSB7XG4gICAgICAgIGNvdW50WzNdID0gZW5lcmd5LncgPj0gc2tpbGwudyA/IGZhbHNlIDogdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChza2lsbC5yID49IDApIHtcbiAgICAgICAgY291bnRbNF0gPSBlbmVyZ3kuciA+PSB0b3RhbC5za2lsbCArIHNraWxsLnIgPyBmYWxzZSA6IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChjb3VudC5maWx0ZXIoeCA9PiB4ID09PSBmYWxzZSkubGVuZ3RoID09PSA1KSB7XG4gICAgICAgIGFjdGl2ZSA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWN0aXZlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFjdGl2ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBidXR0b25NYW5hZ2VtZW50KHBheWxvYWQsIG9wdGlvbikge1xuICAvL1RhcmdldCBCdXR0b25cbiAgaWYgKG9wdGlvbiAhPT0gXCJvblNlbGZcIikge1xuICAgIGlmIChwYXlsb2FkLmFpbSA9PT0gXCJlbmVteVwiKSB7XG4gICAgICBhcHAuc3RhdGUuYnV0dG9uLmVuZW15LmZvckVhY2goeCA9PiB7XG4gICAgICAgIC8vRGVmaW5lXG4gICAgICAgIGxldCBza2lsbCA9IGFwcC5zb3VyY2UuYWxseVtwYXlsb2FkLmhlcm9JbmRleF0uc2tpbGxbcGF5bG9hZC5za2lsbF07XG4gICAgICAgIGxldCBlbmVteVN0YXR1cyA9IGFwcC5zb3VyY2UuZW5lbXlbeC5pbmRleF0uc3RhdHVzO1xuXG4gICAgICAgIC8vSW52dWxuZXJhYmlsaXR5XG4gICAgICAgIGxldCBzdGF0ZSA9IGVuZW15U3RhdHVzLm9uU3RhdGU7XG4gICAgICAgIGxldCBpbnZ1bG5lcmFibGUgPSBpbnZ1bG5lcmFibGVNYW5hZ2VtZW50KHN0YXRlLCBza2lsbCk7XG5cbiAgICAgICAgLy9EaXNhYmxlXG4gICAgICAgIHguYnV0dG9uID0geC5kaXNhYmxlZCB8fCBpbnZ1bG5lcmFibGUgPyB0cnVlIDogIXguYnV0dG9uO1xuXG4gICAgICAgIC8vSWdub3JlXG4gICAgICAgIGxldCBpZ25vcmUgPSBpZ25vcmVNYW5hZ2VtZW50KHN0YXRlLCBza2lsbCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGlnbm9yZSk7XG5cbiAgICAgICAgLy9QcmV2ZW50IEludnVsbmVyYWJpbGl0eVxuICAgICAgICBpZiAoXG4gICAgICAgICAgb3B0aW9uID09PSBcIm9uU2tpbGxcIiAmJlxuICAgICAgICAgIGVuZW15U3RhdHVzLm9uU3RhdGUuc29tZSh4ID0+IHgudHlwZSA9PT0gXCJkaXNhYmxlRHJJdlwiKSAmJlxuICAgICAgICAgIGlnbm9yZSA9PT0gZmFsc2VcbiAgICAgICAgKSB7XG4gICAgICAgICAgeC5idXR0b24gPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vTWFya2luZ1xuICAgICAgICBpZiAocGF5bG9hZC5tYXJraW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgbGV0IHNraWxsTmFtZSA9IHNraWxsLm5hbWU7XG4gICAgICAgICAgbGV0IG1hcmtpbmcgPVxuICAgICAgICAgICAgZW5lbXlTdGF0dXMub25SZWNlaXZlLnNvbWUoeCA9PiB4Lm5hbWUgPT09IHNraWxsTmFtZSkgfHxcbiAgICAgICAgICAgIGVuZW15U3RhdHVzLm9uU3RhdGUuc29tZSh4ID0+IHgubmFtZSA9PT0gc2tpbGxOYW1lKTtcbiAgICAgICAgICBpZiAobWFya2luZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgeC5idXR0b24gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChwYXlsb2FkLmFpbSA9PT0gXCJlbmVteWxvY2tcIikge1xuICAgICAgYXBwLnN0YXRlLmJ1dHRvbi5lbmVteS5mb3JFYWNoKHggPT4ge1xuICAgICAgICAvL0RlZmluZVxuICAgICAgICBsZXQgc2tpbGwgPSBhcHAuc291cmNlLmFsbHlbcGF5bG9hZC5oZXJvSW5kZXhdLnNraWxsW3BheWxvYWQuc2tpbGxdO1xuICAgICAgICBsZXQgZW5lbXlTdGF0dXMgPSBhcHAuc291cmNlLmVuZW15W3guaW5kZXhdLnN0YXR1cztcbiAgICAgICAgbGV0IGxvY2sgPSBlbmVteVN0YXR1cy5vblN0YXRlLnNvbWUoXG4gICAgICAgICAgeCA9PiB4LnR5cGUgPT09IFwic3RhdGVcIiAmJiB4LmluZm8gPT09IHNraWxsLm5hbWVcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAobG9jayA9PT0gdHJ1ZSkge1xuICAgICAgICAgIC8vSW52dWxuZXJhYmlsaXR5XG4gICAgICAgICAgbGV0IHN0YXRlID0gZW5lbXlTdGF0dXMub25TdGF0ZTtcbiAgICAgICAgICBsZXQgaW52dWxuZXJhYmxlID0gaW52dWxuZXJhYmxlTWFuYWdlbWVudChzdGF0ZSwgc2tpbGwpO1xuXG4gICAgICAgICAgLy9EaXNhYmxlXG4gICAgICAgICAgeC5idXR0b24gPSB4LmRpc2FibGVkIHx8IGludnVsbmVyYWJsZSA/IHRydWUgOiAheC5idXR0b247XG5cbiAgICAgICAgICAvL0lnbm9yZVxuICAgICAgICAgIGxldCBpZ25vcmUgPSBpZ25vcmVNYW5hZ2VtZW50KHN0YXRlLCBza2lsbCk7XG4gICAgICAgICAgY29uc29sZS5sb2coaW52dWxuZXJhYmxlKTtcblxuICAgICAgICAgIC8vUHJldmVudCBJbnZ1bG5lcmFiaWxpdHlcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBvcHRpb24gPT09IFwib25Ta2lsbFwiICYmXG4gICAgICAgICAgICBlbmVteVN0YXR1cy5vblN0YXRlLnNvbWUoeCA9PiB4LnR5cGUgPT09IFwiZGlzYWJsZURySXZcIikgJiZcbiAgICAgICAgICAgIGlnbm9yZSA9PT0gZmFsc2VcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHguYnV0dG9uID0gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy9NYXJraW5nXG4gICAgICAgICAgaWYgKHBheWxvYWQubWFya2luZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgbGV0IHNraWxsTmFtZSA9IHNraWxsLm5hbWU7XG4gICAgICAgICAgICBsZXQgbWFya2luZyA9XG4gICAgICAgICAgICAgIGVuZW15U3RhdHVzLm9uUmVjZWl2ZS5zb21lKHggPT4geC5uYW1lID09PSBza2lsbE5hbWUpIHx8XG4gICAgICAgICAgICAgIGVuZW15U3RhdHVzLm9uU3RhdGUuc29tZSh4ID0+IHgubmFtZSA9PT0gc2tpbGxOYW1lKTtcbiAgICAgICAgICAgIGlmIChtYXJraW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgIHguYnV0dG9uID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBwYXlsb2FkLmFpbSA9PT0gXCJhbGxlbmVteVwiIHx8XG4gICAgICBwYXlsb2FkLmFpbSA9PT0gXCJyYW5kb21lbmVteVwiIHx8XG4gICAgICBwYXlsb2FkLmFpbSA9PT0gXCJhbGxlbmVteWFsbGFsbHlcIlxuICAgICkge1xuICAgICAgYXBwLnN0YXRlLmJ1dHRvbi5lbmVteS5mb3JFYWNoKHggPT4ge1xuICAgICAgICAvL0RlZmluZVxuICAgICAgICBsZXQgc2tpbGwgPSBhcHAuc291cmNlLmFsbHlbcGF5bG9hZC5oZXJvSW5kZXhdLnNraWxsW3BheWxvYWQuc2tpbGxdO1xuICAgICAgICBsZXQgZW5lbXlTdGF0dXMgPSBhcHAuc291cmNlLmVuZW15W3guaW5kZXhdLnN0YXR1cztcblxuICAgICAgICAvL0ludnVsbmVyYWJpbGl0eVxuICAgICAgICBsZXQgc3RhdGUgPSBlbmVteVN0YXR1cy5vblN0YXRlO1xuICAgICAgICBsZXQgaW52dWxuZXJhYmxlID0gaW52dWxuZXJhYmxlTWFuYWdlbWVudChzdGF0ZSwgc2tpbGwpO1xuXG4gICAgICAgIC8vRGlzYWJsZVxuICAgICAgICB4LmJ1dHRvbiA9IHguZGlzYWJsZWQgfHwgaW52dWxuZXJhYmxlID8gdHJ1ZSA6ICF4LmJ1dHRvbjtcblxuICAgICAgICAvL1ByZXZlbnQgSW52dWxuZXJhYmlsaXR5XG4gICAgICAgIGlmIChcbiAgICAgICAgICBvcHRpb24gPT09IFwib25Ta2lsbFwiICYmXG4gICAgICAgICAgZW5lbXlTdGF0dXMub25TdGF0ZS5zb21lKHggPT4geC50eXBlID09PSBcImRpc2FibGVEckl2XCIpXG4gICAgICAgICkge1xuICAgICAgICAgIHguYnV0dG9uID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocGF5bG9hZC5haW0gPT09IFwiYWxseVwiIHx8IHBheWxvYWQuYWltID09PSBcImFsbGFsbHlcIikge1xuICAgICAgYXBwLnN0YXRlLmJ1dHRvbi5hbGx5LmZvckVhY2goXG4gICAgICAgIHggPT4gKHguYnV0dG9uID0geC5kaXNhYmxlZCA/IHRydWUgOiAheC5idXR0b24pXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAocGF5bG9hZC5haW0gPT09IFwib3RoZXJhbGx5XCIpIHtcbiAgICAgIGFwcC5zdGF0ZS5idXR0b24uYWxseS5mb3JFYWNoKHggPT4ge1xuICAgICAgICBsZXQgbmFtZSA9IGFwcC5zdGF0ZS5idXR0b24uYWxseVtwYXlsb2FkLmhlcm9JbmRleF0ubmFtZTtcbiAgICAgICAgaWYgKHgubmFtZSAhPT0gbmFtZSkge1xuICAgICAgICAgIHguYnV0dG9uID0geC5kaXNhYmxlZCA/IHRydWUgOiAheC5idXR0b247XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocGF5bG9hZC5haW0gPT09IFwic2VsZlwiKSB7XG4gICAgICBsZXQgYWxseSA9IGFwcC5zdGF0ZS5idXR0b24uYWxseVtwYXlsb2FkLmhlcm9JbmRleF07XG4gICAgICBhbGx5LmJ1dHRvbiA9IGFsbHkuZGlzYWJsZWQgPyB0cnVlIDogIWFsbHkuYnV0dG9uO1xuICAgIH1cbiAgfVxuXG4gIC8vU2tpbGwgQnV0dG9uXG4gIGlmIChvcHRpb24gPT09IFwib25UYXJnZXRcIikge1xuICAgIGNvbnNvbGUubG9nKFwib25Ta2lsbFwiKTtcbiAgICBhcHAuc3RhdGUuYnV0dG9uLmFsbHkuZm9yRWFjaCh4ID0+IHtcbiAgICAgIGlmICh4Lm9uU2tpbGwgPT09IGZhbHNlKSB7XG4gICAgICAgIHguc2tpbGwuZm9yRWFjaChzID0+IHtcbiAgICAgICAgICBzLmJ1dHRvbiA9IHRydWU7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgeC5uYW1lID09PSBwYXlsb2FkLm9mZmVuc2UgJiZcbiAgICAgICAgICAgIHMubmFtZSA9PT1cbiAgICAgICAgICAgICAgYXBwLnNvdXJjZS5hbGx5W3BheWxvYWQuaGVyb0luZGV4XS5za2lsbFtwYXlsb2FkLnNraWxsXS5uYW1lXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzLmJ1dHRvbiA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgaWYgKG9wdGlvbiA9PT0gXCJvbkNhbmNlbFwiKSB7XG4gICAgY29uc29sZS5sb2coXCJvbkNhbmNlbFwiKTtcbiAgICBhcHAuc3RhdGUuYnV0dG9uLmFsbHkuZm9yRWFjaCh4ID0+IHtcbiAgICAgIGlmICh4Lm9uU2tpbGwgPT09IGZhbHNlIHx8IHgubmFtZSA9PT0gcGF5bG9hZC5vZmZlbnNlKSB7XG4gICAgICAgIHguc2tpbGwuZm9yRWFjaChzID0+IHtcbiAgICAgICAgICBzLmJ1dHRvbiA9IHMuZGlzYWJsZWQgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgeC5uYW1lID09PSBwYXlsb2FkLm9mZmVuc2UgJiZcbiAgICAgICAgICAgIHMubmFtZSA9PT1cbiAgICAgICAgICAgICAgYXBwLnNvdXJjZS5hbGx5W3BheWxvYWQuaGVyb0luZGV4XS5za2lsbFtwYXlsb2FkLnNraWxsXS5uYW1lXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzLmJ1dHRvbiA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAob3B0aW9uID09PSBcIm9uVGFyZ2V0XCIpIHtcbiAgICBjb25zb2xlLmxvZyhcIm9uVGFyZ2V0XCIpO1xuICAgIGFwcC5zdGF0ZS5idXR0b24uYWxseS5mb3JFYWNoKHggPT4ge1xuICAgICAgbGV0IGluZGV4ID0gYXBwLnBhY2tldC5maW5kSW5kZXgocyA9PiBzLm9mZmVuc2UgPT09IHgubmFtZSk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHguc2tpbGwuZm9yRWFjaChzID0+IHtcbiAgICAgICAgICBzLmJ1dHRvbiA9IHMuZGlzYWJsZWQgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2UgaWYgKG9wdGlvbiA9PT0gXCJvblNlbGZcIikge1xuICAgIGNvbnNvbGUubG9nKFwib25TZWxmXCIpO1xuICAgIGFwcC5zdGF0ZS5idXR0b24uYWxseVtwYXlsb2FkLmhlcm9JbmRleF0uc2tpbGwuZm9yRWFjaChzID0+IHtcbiAgICAgIHMuYnV0dG9uID0gcy5kaXNhYmxlZCA/IHRydWUgOiBmYWxzZTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vRW5lcmd5IE1hbmFnZW1lbnRcbiAgaWYgKG9wdGlvbiAhPT0gXCJvblNraWxsXCIpIHtcbiAgICBhcHAuc3RhdGUuYnV0dG9uLmFsbHkuZm9yRWFjaCgoeCwgeGkpID0+IHtcbiAgICAgIGlmICh4Lm9uU2tpbGwgPT09IGZhbHNlICYmIHgubmFtZSAhPT0gcGF5bG9hZC5vZmZlbnNlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHgubmFtZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKG9wdGlvbik7XG4gICAgICAgIHguc2tpbGwuZm9yRWFjaCgocywgc2kpID0+IHtcbiAgICAgICAgICBsZXQgZW5lcmd5ID0gZW5lcmd5TWFuYWdlbWVudCh7IGhlcm9JbmRleDogeGksIHNraWxsOiBzaSB9LCBcImNoZWNrXCIpO1xuICAgICAgICAgIHMuYnV0dG9uID0gcy5kaXNhYmxlZCB8fCBlbmVyZ3kgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgeC5uYW1lID09PSBwYXlsb2FkLm9mZmVuc2UgJiZcbiAgICAgICAgICAgIHMubmFtZSA9PT1cbiAgICAgICAgICAgICAgYXBwLnNvdXJjZS5hbGx5W3BheWxvYWQuaGVyb0luZGV4XS5za2lsbFtwYXlsb2FkLnNraWxsXS5uYW1lXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzLmJ1dHRvbiA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgKG9wdGlvbiA9PT0gXCJvblNlbGZcIiB8fCBvcHRpb24gPT09IFwib25DYW5jZWxcIikgJiZcbiAgICAgICAgeC5uYW1lID09PSBwYXlsb2FkLm9mZmVuc2VcbiAgICAgICkge1xuICAgICAgICB4LnNraWxsLmZvckVhY2goKHMsIHNpKSA9PiB7XG4gICAgICAgICAgbGV0IGVuZXJneSA9IGVuZXJneU1hbmFnZW1lbnQoeyBoZXJvSW5kZXg6IHhpLCBza2lsbDogc2kgfSwgXCJjaGVja1wiKTtcbiAgICAgICAgICBzLmJ1dHRvbiA9IHMuZGlzYWJsZWQgfHwgZW5lcmd5ID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdHVuTWFuYWdlbWVudChvblN0YXRlLCBza2lsbCkge1xuICBsZXQgc3R1biA9IG9uU3RhdGUubWFwKHggPT4ge1xuICAgIGlmICh4LnR5cGUgPT09IFwic3R1blwiKSB7XG4gICAgICBsZXQgaWdub3JlID0gaWdub3JlTWFuYWdlbWVudChvblN0YXRlLCB4KTtcbiAgICAgIGxldCBpbnRlcnNlY3QgPSBfLmludGVyc2VjdGlvbih4LmNsYXNzZXMsIHNraWxsLmNsYXNzZXMpO1xuXG4gICAgICBsZXQgZXZhbHVhdGU7XG5cbiAgICAgIGlmICh4LmluZm8gPT09IFwiaW5jbHVzaXZlXCIpIHtcbiAgICAgICAgZXZhbHVhdGUgPSBpbnRlcnNlY3QubGVuZ3RoID4gMCA/IHRydWUgOiBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAoeC5pbmZvID09PSBcImRlY2x1c2l2ZVwiKSB7XG4gICAgICAgIGV2YWx1YXRlID0gaW50ZXJzZWN0Lmxlbmd0aCA9PT0gMCA/IHRydWUgOiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2YWx1YXRlICYmICFpZ25vcmUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBpZiAoc3R1bi5maWx0ZXIoeCA9PiB4ID09PSB0cnVlKS5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGludnVsbmVyYWJsZU1hbmFnZW1lbnQob25TdGF0ZSwgc2tpbGwpIHtcbiAgbGV0IGludnVsbmVyYWJsZSA9IG9uU3RhdGUubWFwKHggPT4ge1xuICAgIGlmICh4LnR5cGUgPT09IFwiaW52dWxuZXJhYmxlXCIpIHtcbiAgICAgIGxldCBpZ25vcmVJbnZ1bCA9IHNraWxsLmlnbm9yZUludnVsO1xuICAgICAgbGV0IGludGVyc2VjdCA9IF8uaW50ZXJzZWN0aW9uKHguY2xhc3Nlcywgc2tpbGwuY2xhc3Nlcyk7ICAgICAgXG5cbiAgICAgIGxldCBldmFsdWF0ZTtcblxuICAgICAgaWYgKHguaW5mbyA9PT0gXCJpbmNsdXNpdmVcIikge1xuICAgICAgICBldmFsdWF0ZSA9IGludGVyc2VjdC5sZW5ndGggPiAwID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmICh4LmluZm8gPT09IFwiZGVjbHVzaXZlXCIpIHtcbiAgICAgICAgZXZhbHVhdGUgPSBpbnRlcnNlY3QubGVuZ3RoID09PSAwID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZhbHVhdGUgJiYgIWlnbm9yZUludnVsKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgaWYgKGludnVsbmVyYWJsZS5maWx0ZXIoeCA9PiB4ID09PSB0cnVlKS5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlnbm9yZU1hbmFnZW1lbnQob25TdGF0ZSwgc2tpbGwpIHtcbiAgbGV0IGlnbm9yZSA9IG9uU3RhdGUubWFwKHggPT4ge1xuICAgIGlmICh4LnR5cGUgPT09IFwiaWdub3JlXCIpIHtcbiAgICAgIGxldCBpbnRlcnNlY3QgPSBfLmludGVyc2VjdGlvbih4LmNsYXNzZXMsIHNraWxsLmNsYXNzZXMpO1xuXG4gICAgICBsZXQgZXZhbHVhdGU7XG5cbiAgICAgIGlmICh4LmluZm8gPT09IFwiaW5jbHVzaXZlXCIpIHtcbiAgICAgICAgZXZhbHVhdGUgPSBpbnRlcnNlY3QubGVuZ3RoID4gMCA/IHRydWUgOiBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAoeC5pbmZvID09PSBcImRlY2x1c2l2ZVwiKSB7XG4gICAgICAgIGV2YWx1YXRlID0gaW50ZXJzZWN0Lmxlbmd0aCA9PT0gMCA/IHRydWUgOiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2YWx1YXRlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgaWYgKGlnbm9yZS5maWx0ZXIoeCA9PiB4ID09PSB0cnVlKS5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4iLCJmdW5jdGlvbiB2dWVCaW5kKHBheWxvYWQpIHtcbiAgbGV0IHVzZXJuYW1lID0gZ2V0Q29va2llKFwidXNlcm5hbWVcIik7XG4gIGNvbnNvbGUubG9nKHBheWxvYWQpO1xuICBsZXQgYWxseSA9IHBheWxvYWQudGVhbS50ZWFtRXZlbiA9PT0gdXNlcm5hbWUgPyBcInRlYW1FdmVuXCIgOiBcInRlYW1PZGRcIjtcbiAgbGV0IGVuZW15ID0gcGF5bG9hZC50ZWFtLnRlYW1FdmVuID09PSB1c2VybmFtZSA/IFwidGVhbU9kZFwiIDogXCJ0ZWFtRXZlblwiO1xuICBsZXQgdHVybiA9IGFsbHkgPT09IFwidGVhbUV2ZW5cIiA/IDAgOiAxO1xuICBsZXQgbXlUdXJuID0gcGF5bG9hZC50dXJuICUgMiA9PT0gdHVybiA/IHRydWUgOiBmYWxzZTtcblxuICBpZiAocGF5bG9hZC50ZWFtLnRlYW1FdmVuICE9PSB1c2VybmFtZSAmJiBwYXlsb2FkLnRlYW0udGVhbU9kZCAhPT0gdXNlcm5hbWUpIHtcbiAgICBjb25zb2xlLmxvZyhcInNwZWN0YXRlXCIpO1xuICAgIGFwcC5tb2RlID0gXCJzcGVjdGF0ZVwiO1xuICAgIG15VHVybiA9IGZhbHNlO1xuICAgIC8vIHJldHVybjtcbiAgfVxuXG4gIGlmIChteVR1cm4gPT09IHRydWUpIHtcbiAgICBhcHAuJHJlZnMuc291bmRTdGFydFR1cm4ucGxheSgpO1xuICB9XG5cbiAgLy8gaWYgKHBheWxvYWQud2lubmVyLnN0YXRlID09PSB0cnVlICYmIHBheWxvYWQud2lubmVyLm5hbWUgPT09IHVzZXJuYW1lKSB7XG4gIC8vIH0gZWxzZSBpZiAoXG4gIC8vICAgcGF5bG9hZC53aW5uZXIuc3RhdGUgPT09IHRydWUgJiZcbiAgLy8gICBwYXlsb2FkLndpbm5lci5uYW1lICE9PSB1c2VybmFtZVxuICAvLyApIHtcbiAgLy8gICBhcHAuJHJlZnMuc291bmRMb3NlLnBsYXkoKTtcbiAgLy8gfVxuXG4gIGxldCBzdG9yZSA9IHtcbiAgICBlbmVyZ3k6IHtcbiAgICAgIGFsbHk6IHBheWxvYWQuZW5lcmd5W2FsbHldLFxuICAgICAgZW5lbXk6IHBheWxvYWQuZW5lcmd5W2VuZW15XVxuICAgIH0sXG4gICAgYWxseTogcGF5bG9hZFthbGx5XS5tYXAoeCA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi54LFxuICAgICAgICBpbmRpY2F0b3I6IHN0YXR1c1ZpZXcoeC5uYW1lLCB4LnN0YXR1cylcbiAgICAgIH07XG4gICAgfSksXG4gICAgZW5lbXk6IHBheWxvYWRbZW5lbXldLm1hcCh4ID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLngsXG4gICAgICAgIGluZGljYXRvcjogc3RhdHVzVmlldyh4Lm5hbWUsIHguc3RhdHVzKVxuICAgICAgfTtcbiAgICB9KSxcbiAgICB0dXJuOiBwYXlsb2FkLnR1cm4sXG4gICAgbXlUdXJuOiBteVR1cm4sXG4gICAgcm9vbTogcGF5bG9hZC5yb29tLFxuICAgIG1ldGE6IHtcbiAgICAgIG15TmFtZTogcGF5bG9hZC50ZWFtW2FsbHldLFxuICAgICAgdGhlaXJOYW1lOiBwYXlsb2FkLnRlYW1bZW5lbXldXG4gICAgfSxcbiAgICB0aW1lc3RhbXA6IHBheWxvYWQudGltZXN0YW1wXG4gIH07XG4gIHN0b3JlLmVuZXJneS5hbGx5LnIgPVxuICAgIHN0b3JlLmVuZXJneS5hbGx5LmEgK1xuICAgIHN0b3JlLmVuZXJneS5hbGx5LmkgK1xuICAgIHN0b3JlLmVuZXJneS5hbGx5LnMgK1xuICAgIHN0b3JlLmVuZXJneS5hbGx5Lnc7XG4gIGNvbnNvbGUubG9nKHN0b3JlKTtcbiAgbGV0IGJ1dHRvbiA9IHtcbiAgICBhbGx5OiBzdG9yZS5hbGx5Lm1hcCh4ID0+IHtcbiAgICAgIC8vIGxldCBkaXNhYmxlZCA9IHguc3RhdHVzLm9uU3RhdGUuZmluZEluZGV4KHggPT4geC50eXBlID09PSAnc3R1bicpID4gLTEgfHwgeC5ocCA8PSAwID8gdHJ1ZSA6IGZhbHNlXG4gICAgICBsZXQgZGlzYWJsZWQgPSB4LmhwIDw9IDAgPyB0cnVlIDogZmFsc2U7XG4gICAgICAvLyBsZXQgc3R1biA9IHguc3RhdHVzLm9uU3RhdGUuc29tZSh4ID0+IHgudHlwZSA9PT0gXCJzdHVuXCIpID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogeC5uYW1lLFxuICAgICAgICBidXR0b246IHRydWUsXG4gICAgICAgIG9uU2tpbGw6IGZhbHNlLFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgIHNraWxsOiB4LnNraWxsLm1hcChzID0+IHtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzLnR5cGUpO1xuICAgICAgICAgIGxldCBlbmVyZ3kgPSBlbmVyZ3lNYW5hZ2VtZW50KFxuICAgICAgICAgICAgeyBlbmVyZ3k6IHN0b3JlLmVuZXJneS5hbGx5LCBza2lsbEJpbmQ6IHMuZW5lcmd5IH0sXG4gICAgICAgICAgICBcImNoZWNrXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGxldCBzdHVuID0gc3R1bk1hbmFnZW1lbnQoeC5zdGF0dXMub25TdGF0ZSwgcyk7XG4gICAgICAgICAgLy8gbGV0IGRpc2FibGVEclZyID1cbiAgICAgICAgICAvLyAgIHMudHlwZSA9PT0gXCJpbnZ1bG5lcmFibGVcIiAmJlxuICAgICAgICAgIC8vICAgeC5zdGF0dXMub25TdGF0ZS5zb21lKHggPT4geC50eXBlID09PSBcImRpc2FibGVEckl2XCIpXG4gICAgICAgICAgLy8gICAgID8gdHJ1ZVxuICAgICAgICAgIC8vICAgICA6IGZhbHNlO1xuICAgICAgICAgIGxldCBkaXNhYmxlZCA9XG4gICAgICAgICAgICBzdHVuIHx8XG4gICAgICAgICAgICBzLnJlcXVpcmVkIHx8XG4gICAgICAgICAgICBzLnN0YXRlID09PSBcImNvb2xkb3duXCIgfHxcbiAgICAgICAgICAgIG15VHVybiA9PT0gZmFsc2UgfHxcbiAgICAgICAgICAgIHguaHAgPD0gMFxuICAgICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgICAgOiBmYWxzZTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogcy5uYW1lLFxuICAgICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICAgICAgYnV0dG9uOiBkaXNhYmxlZCB8fCBlbmVyZ3kgPyB0cnVlIDogZmFsc2VcbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgfTtcbiAgICB9KSxcbiAgICBlbmVteTogc3RvcmUuZW5lbXkubWFwKCh4LCBpKSA9PiB7XG4gICAgICAvLyBsZXQgZGlzYWJsZWQgPVxuICAgICAgLy8gICB4LnN0YXR1cy5vblN0YXRlLnNvbWUoeCA9PiB4LnR5cGUgPT09IFwiaW52dWxuZXJhYmxlXCIpIHx8IHguaHAgPD0gMFxuICAgICAgLy8gICAgID8gdHJ1ZVxuICAgICAgLy8gICAgIDogZmFsc2U7XG4gICAgICBsZXQgZGlzYWJsZWQgPSB4LmhwIDw9IDAgPyB0cnVlIDogZmFsc2U7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiB4Lm5hbWUsXG4gICAgICAgIGluZGV4OiBpLFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgIGJ1dHRvbjogdHJ1ZVxuICAgICAgfTtcbiAgICB9KVxuICB9O1xuICBhcHAuc291cmNlID0gc3RvcmU7XG4gIGFwcC5zdGF0ZS5idXR0b24gPSBidXR0b247XG4gIGFwcC5zdGF0ZS53aW5uZXIgPSBwYXlsb2FkLndpbm5lcjtcblxuICAvL1RpbWVcbiAgbGV0IHRpbWVEaWZmID0gKERhdGUubm93KCkgLSBwYXlsb2FkLnRpbWVzdGFtcCkgLyAxMDAwO1xuICBsZXQgdGltZUNhbGMgPSA0NSAtIHRpbWVEaWZmO1xuICBsZXQgcmVtYWluaW5nID0gMTAwICogKHRpbWVDYWxjIC8gNDUpO1xuICBjb25zb2xlLmxvZyhwYXlsb2FkLnRpbWVzdGFtcCwgdGltZURpZmYsIHRpbWVDYWxjLCByZW1haW5pbmcpO1xuXG4gIGlmIChyZW1haW5pbmcgPCAwKSB7XG4gICAgcmVtYWluaW5nID0gMDtcbiAgfVxuICBhcHAuc3RhdGUudGltZXIudHVybiA9IHJlbWFpbmluZztcbn1cblxuZnVuY3Rpb24gc3RhdHVzVmlldyhuYW1lLCBwYXlsb2FkKSB7XG4gIC8vIGNvbnNvbGUubG9nKG5hbWUsIHBheWxvYWQpO1xuICBsZXQgc3RhdHVzID0gXy5jb25jYXQoXG4gICAgcGF5bG9hZC5vbkF0dGFjayxcbiAgICBwYXlsb2FkLm9uUmVjZWl2ZSxcbiAgICBwYXlsb2FkLm9uU3RhdGUsXG4gICAgcGF5bG9hZC5vblNlbGZcbiAgKTtcbiAgc3RhdHVzID0gc3RhdHVzLmZpbHRlcih4ID0+IHguaXNJbnZpc2libGUgPT09IGZhbHNlKTtcbiAgbGV0IGdyb3VwQnlOYW1lSWQgPSBfLmdyb3VwQnkoc3RhdHVzLCBcIm5hbWVJZFwiKTtcbiAgbGV0IHZhbHVlc0J5TmFtZUlkID0gXy52YWx1ZXMoZ3JvdXBCeU5hbWVJZCk7XG4gIGxldCBncm91cEJ5U2tpbGxJbmRleCA9IHZhbHVlc0J5TmFtZUlkLm1hcCh4ID0+IF8uZ3JvdXBCeSh4LCBcInNraWxsSW5kZXhcIikpO1xuICBsZXQgdmFsdWVzQnlTa2lsbEluZGV4ID0gXy52YWx1ZXMoZ3JvdXBCeVNraWxsSW5kZXgpO1xuICBsZXQgY29uY2F0VmFsdWVzID0gW107XG4gIHZhbHVlc0J5U2tpbGxJbmRleC5mb3JFYWNoKHggPT4ge1xuICAgIGNvbmNhdFZhbHVlcyA9IGNvbmNhdFZhbHVlcy5jb25jYXQoXy52YWx1ZXMoeCkpO1xuICB9KTtcbiAgbGV0IGZpbmFsID0gY29uY2F0VmFsdWVzLm1hcCh4ID0+IHtcbiAgICBsZXQgaW5mbyA9IHhbMF07XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IGluZm8ubmFtZSxcbiAgICAgIG5hbWVJZDogaW5mby5uYW1lSWQsXG4gICAgICBza2lsbEluZGV4OiBpbmZvLnNraWxsSW5kZXgsXG4gICAgICBhY3RpdmU6IGluZm8uYWN0aXZlLFxuICAgICAgdmFsOiB4XG4gICAgfTtcbiAgfSk7XG4gIHJldHVybiBmaW5hbDtcbn1cbiIsImZ1bmN0aW9uIGluaXRpYXRlKCkge1xuICBsZXQgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWYuc3BsaXQoXCIvXCIpO1xuICBsZXQgcm9vbSA9IHVybFt1cmwubGVuZ3RoIC0gMV07XG4gIGlmIChyb29tICE9PSBcIlwiKSB7XG4gICAgc29ja2V0LmVtaXQoXCJpbml0aWF0ZVwiLCB7XG4gICAgICByb29tOiByb29tXG4gICAgfSk7XG4gICAgY2hhdC5lbWl0KFwiZ2FtZUluaXRpYXRlXCIsIHtcbiAgICAgIHJvb206IHJvb21cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICAvLyB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSgnLycpO1xuICB9XG59XG5cbmluaXRpYXRlKCk7XG5cbnNldEludGVydmFsKCgpID0+IHtcbiAgaWYgKGFwcC5zb3VyY2UudHVybiA9PSB1bmRlZmluZWQgfHwgYXBwLnN0YXRlLndpbm5lci5zdGF0ZSAhPT0gZmFsc2UpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGFwcC5zdGF0ZS50aW1lci50dXJuID4gMCkge1xuICAgIGFwcC5zdGF0ZS50aW1lci50dXJuIC09IDIuMjtcbiAgfSBlbHNlIGlmIChhcHAuc3RhdGUudGltZXIudHVybiA8PSAwICYmIGFwcC5zb3VyY2UubXlUdXJuID09PSB0cnVlKSB7XG4gICAgbGV0IHRpbWVEaWZmID0gKERhdGUubm93KCkgLSBhcHAuc291cmNlLnRpbWVzdGFtcCkgLyAxMDAwO1xuICAgIGxldCB0aW1lQ2FsYyA9IDQ1IC0gdGltZURpZmY7XG4gICAgbGV0IHJlbWFpbmluZyA9IDEwMCAqICh0aW1lQ2FsYyAvIDQ1KTtcbiAgICBjb25zb2xlLmxvZyhhcHAuc291cmNlLnRpbWVzdGFtcCwgdGltZURpZmYsIHRpbWVDYWxjLCByZW1haW5pbmcpO1xuXG4gICAgaWYgKHJlbWFpbmluZyA8PSAwKSB7XG4gICAgICBsZXQgcGF5bG9hZCA9IHtcbiAgICAgICAgZW5lcmd5OiB7XG4gICAgICAgICAgYTogMCxcbiAgICAgICAgICBpOiAwLFxuICAgICAgICAgIHM6IDAsXG4gICAgICAgICAgdzogMFxuICAgICAgICB9LFxuICAgICAgICBwYWNrZXQ6IFtdXG4gICAgICB9O1xuICAgICAgYXBwLm9uRG9uZShwYXlsb2FkKTtcbiAgICB9XG5cbiAgICAvLyBhcHAucGFja2V0ID0gYXBwLnBhY2tldC5maWx0ZXIoeCA9PiB4LnNraWxsICE9PSBudWxsICYmIHgub2ZmZW5zZSAhPT0gJycgJiYgeC50YXJnZXQgIT09ICcnICYmIHguYWltICE9PSAnJyAmJiB4Lmhlcm9JbmRleCAhPT0gbnVsbClcbiAgICAvLyBzb2NrZXQuZW1pdCgnc2VxdWVuY2UnLCB7XG4gICAgLy8gICAgIHBhY2tldDogYXBwLnBhY2tldCxcbiAgICAvLyAgICAgcm9vbTogYXBwLnNvdXJjZS5yb29tXG4gICAgLy8gfSlcbiAgICAvLyBhcHAucGFja2V0ID0gW11cbiAgfVxufSwgMTAwMCk7XG5cbndpbmRvdy5vbmZvY3VzID0gZnVuY3Rpb24oKSB7XG4gIGRvY3VtZW50LnRpdGxlID0gXCJBbmltZSBSdW1ibGVcIjtcbn07XG5cbmZ1bmN0aW9uIHNjcm9sbENoYXQoKSB7XG4gIHZhciBjb250YWluZXIgPSBhcHAuJGVsLnF1ZXJ5U2VsZWN0b3IoXCIjY2hhdFwiKTtcbiAgY29udGFpbmVyLnNjcm9sbFRvcCA9IGNvbnRhaW5lci5zY3JvbGxIZWlnaHQ7XG59XG4iLCJzb2NrZXQub24oXCJhcHBseVwiLCBwYXlsb2FkID0+IHtcbiAgZG9jdW1lbnQudGl0bGUgPSBcIighKSBBbmltZSBSdW1ibGVcIjtcbiAgdnVlQmluZChwYXlsb2FkKTtcbn0pO1xuXG5zb2NrZXQub24oXCJub01hdGNoXCIsIHBheWxvYWQgPT4ge1xuICBjb25zb2xlLmxvZyhcIm5vbmVcIik7XG4gIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKFwiL1wiKTtcbn0pO1xuXG5jaGF0Lm9uKFwiY2hhdFwiLCBwYXlsb2FkID0+IHtcbiAgaWYgKHBheWxvYWQuY2hhbm5lbCA9PT0gXCJpbmdhbWVcIikge1xuICAgIGFwcC5jaGF0LnB1c2gocGF5bG9hZC5tZXNzYWdlKTtcbiAgICBpZiAoYXBwLmNoYXRDaGFubmVsICE9PSBcImluZ2FtZVwiKSB7XG4gICAgICBhcHAuY2hhdE5vdGlmLmluZ2FtZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjcm9sbENoYXQoKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAocGF5bG9hZC5jaGFubmVsID09PSBcImxvYmJ5XCIpIHtcbiAgICBhcHAubG9iYnljaGF0LnB1c2gocGF5bG9hZC5tZXNzYWdlKTtcblxuICAgIGlmIChhcHAuY2hhdENoYW5uZWwgIT09IFwibG9iYnlcIikge1xuICAgICAgYXBwLmNoYXROb3RpZi5sb2JieSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjcm9sbENoYXQoKTtcbiAgICB9XG4gIH1cbn0pO1xuIiwiZnVuY3Rpb24gZ2V0UGFyYW1ldGVyTmFtZShuYW1lLCB1cmwpIHtcbiAgaWYgKCF1cmwpIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICBuYW1lID0gbmFtZS5yZXBsYWNlKC9bXFxbXFxdXS9nLCBcIlxcXFwkJlwiKTtcbiAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChcIls/Jl1cIiArIG5hbWUgKyBcIig9KFteJiNdKil8JnwjfCQpXCIpLFxuICAgIHJlc3VsdHMgPSByZWdleC5leGVjKHVybCk7XG4gIGlmICghcmVzdWx0cykgcmV0dXJuIG51bGw7XG4gIGlmICghcmVzdWx0c1syXSkgcmV0dXJuIFwiXCI7XG4gIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocmVzdWx0c1syXS5yZXBsYWNlKC9cXCsvZywgXCIgXCIpKTtcbn1cblxuY29uc3Qgc2V0Q29va2llID0gKG5hbWUsIHZhbHVlLCBkYXlzID0gNywgcGF0aCA9IFwiL1wiKSA9PiB7XG4gIGNvbnN0IGV4cGlyZXMgPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgZGF5cyAqIDg2NGU1KS50b0dNVFN0cmluZygpO1xuICBkb2N1bWVudC5jb29raWUgPVxuICAgIG5hbWUgK1xuICAgIFwiPVwiICtcbiAgICBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpICtcbiAgICBcIjsgZXhwaXJlcz1cIiArXG4gICAgZXhwaXJlcyArXG4gICAgXCI7IHBhdGg9XCIgK1xuICAgIHBhdGg7XG59O1xuXG5jb25zdCBnZXRDb29raWUgPSBuYW1lID0+IHtcbiAgcmV0dXJuIGRvY3VtZW50LmNvb2tpZS5zcGxpdChcIjsgXCIpLnJlZHVjZSgociwgdikgPT4ge1xuICAgIGNvbnN0IHBhcnRzID0gdi5zcGxpdChcIj1cIik7XG4gICAgcmV0dXJuIHBhcnRzWzBdID09PSBuYW1lID8gZGVjb2RlVVJJQ29tcG9uZW50KHBhcnRzWzFdKSA6IHI7XG4gIH0sIFwiXCIpO1xufTtcblxuY29uc3QgZGVsZXRlQ29va2llID0gKG5hbWUsIHBhdGgpID0+IHtcbiAgc2V0Q29va2llKG5hbWUsIFwiXCIsIC0xLCBwYXRoKTtcbn07XG4iXX0=
